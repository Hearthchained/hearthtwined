<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>In the Dark</title>
<style title="Twine CSS">@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@-webkit-keyframes rumble{50%{-webkit-transform:translateY(-.2em);transform:translateY(-.2em)}}@keyframes rumble{50%{-webkit-transform:translateY(-.2em);transform:translateY(-.2em)}}@-webkit-keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@-webkit-keyframes box-flash{0%{background-color:#fff;color:#fff}}@keyframes box-flash{0%{background-color:#fff;color:#fff}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(0,0);transform:scale(0,0)}20%{-webkit-transform:scale(1.2,1.2);transform:scale(1.2,1.2)}40%{-webkit-transform:scale(0.9,.9);transform:scale(0.9,.9)}60%{-webkit-transform:scale(1.05,1.05);transform:scale(1.05,1.05)}80%{-webkit-transform:scale(0.925,.925);transform:scale(0.925,.925)}to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes pulse{0%{-webkit-transform:scale(0,0);transform:scale(0,0)}20%{-webkit-transform:scale(1.2,1.2);transform:scale(1.2,1.2)}40%{-webkit-transform:scale(0.9,.9);transform:scale(0.9,.9)}60%{-webkit-transform:scale(1.05,1.05);transform:scale(1.05,1.05)}80%{-webkit-transform:scale(0.925,.925);transform:scale(0.925,.925)}to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes shudder-in{0%,to{-webkit-transform:translateX(0em);transform:translateX(0em)}25%,45%,5%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%,35%,55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-.6em);transform:translateX(-.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-.2em);transform:translateX(-.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder-in{0%,to{-webkit-transform:translateX(0em);transform:translateX(0em)}25%,45%,5%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%,35%,55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-.6em);transform:translateX(-.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-.2em);transform:translateX(-.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}.debug-mode tw-expression[type=hookref]{background-color:rgba(114,123,140,.15)}.debug-mode tw-expression[type=hookref]::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"?" attr(name)}.debug-mode tw-expression[type=variable]{background-color:rgba(140,127,114,.15)}.debug-mode tw-expression[type=variable]::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+0){background-color:rgba(135,153,102,.15)}.debug-mode tw-expression[type=macro]:nth-of-type(2n+1){background-color:rgba(102,153,102,.15)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+2){background-color:rgba(102,153,136,.15)}.debug-mode tw-expression[type=macro][name=display]{background-color:rgba(0,169,255,.1)!important}.debug-mode tw-expression[type=macro][name=else],.debug-mode tw-expression[type=macro][name=else]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name=elseif],.debug-mode tw-expression[type=macro][name=elseif]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name=if],.debug-mode tw-expression[type=macro][name=if]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name=unless],.debug-mode tw-expression[type=macro][name=unless]+tw-hook:not([name]){background-color:rgba(0,255,0,.1)!important}.debug-mode tw-expression[type=macro].false{background-color:rgba(255,0,0,.2)!important}.debug-mode tw-expression[type=macro].false+tw-hook:not([name]){display:none}.debug-mode tw-expression[type=macro][name="a"],.debug-mode tw-expression[type=macro][name=array],.debug-mode tw-expression[type=macro][name=color],.debug-mode tw-expression[type=macro][name=colour],.debug-mode tw-expression[type=macro][name=datamap],.debug-mode tw-expression[type=macro][name=dataset],.debug-mode tw-expression[type=macro][name=num],.debug-mode tw-expression[type=macro][name=number],.debug-mode tw-expression[type=macro][name=print],.debug-mode tw-expression[type=macro][name=text]{background-color:rgba(254,255,0,.2)!important}.debug-mode tw-expression[type=macro][name=put],.debug-mode tw-expression[type=macro][name=set]{background-color:rgba(255,127,0,.2)!important}.debug-mode tw-expression[type=macro][name=script]{background-color:rgba(255,191,0,.2)!important}.debug-mode tw-expression[type=macro][name=style]{background-color:rgba(184,197,197,.2)!important}.debug-mode tw-expression[type=macro][name^=click],.debug-mode tw-expression[type=macro][name^=link],.debug-mode tw-expression[type=macro][name^=mouseout],.debug-mode tw-expression[type=macro][name^=mouseover]{background-color:rgba(127,223,31,.2)!important}.debug-mode tw-expression[type=macro][name^=append],.debug-mode tw-expression[type=macro][name^=prepend],.debug-mode tw-expression[type=macro][name^=remove],.debug-mode tw-expression[type=macro][name^=replace]{background-color:rgba(223,95,31,.2)!important}.debug-mode tw-expression[type=macro][name=live]{background-color:rgba(31,95,223,.2)!important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 .5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,.5)}.debug-mode tw-hook{background-color:rgba(0,84,255,.1)!important}.debug-mode tw-hook::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,.1)!important}.debug-mode tw-collapsed::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::after,.debug-mode tw-verbatim::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right,rgba(255,204,188,0) 0,rgba(255,204,188,.25) 50%,rgba(255,204,188,0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right,rgba(255,204,188,.25) 0,rgba(255,204,188,0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right,rgba(255,204,188,0) 0,rgba(255,204,188,.25) 100%)}.debug-mode p{background-color:rgba(255,212,0,.1)}.debug-mode tw-enchantment{animation:enchantment .5s infinite;-webkit-animation:enchantment .5s infinite;border:1px solid}.debug-mode tw-broken-link::after,.debug-mode tw-link::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,127,50,.1)}.debug-mode tw-include::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:attr(type) " \"" attr(title) "\""}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}@-webkit-keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:1em;font-size:1.5em;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;transition:opacity .2s;-webkit-transition:opacity .2s;opacity:.8}@media screen and (max-width:1280px){tw-debugger{font-size:1.25em}}@media screen and (max-width:960px){tw-debugger{font-size:1em}}@media screen and (max-width:640px){tw-debugger{font-size:.8em}}tw-debugger:hover{opacity:1}.show-invisibles{border-radius:3px;border:1px solid #999;background-color:#fff;font-size:inherit}.debug-mode .show-invisibles{background-color:#eee;box-shadow:inset #ddd 3px 5px .5em}.link,tw-icon,tw-link{cursor:pointer}.enchantment-link,tw-link{color:#4169E1;font-weight:700;text-decoration:none;transition:color .2s ease-in-out}.enchantment-link:hover,tw-link:hover{color:#00bfff}.enchantment-link:active,tw-link:active{color:#DD4B39}.visited{color:#6941e1}.visited:hover{color:#E3E}tw-broken-link{color:#933;border-bottom:2px solid #933;cursor:not-allowed}.enchantment-hover{border-bottom:1px dashed #666}.enchantment-mouseout{border:rgba(63,148,191,.25) solid}.enchantment-mouseout:hover{background-color:rgba(63,148,191,.25);border:1px solid transparent;border-radius:.2em}html{font:100% Georgia,serif;margin:0;background-color:transparent;color:#000;height:100%;overflow-x:hidden;box-sizing:border-box}*,:after,:before{position:relative;box-sizing:inherit}body{margin:0;background-color:transparent}tw-storydata{display:none}tw-story{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:60%;font-size:1.5em;line-height:1.5em;margin:5% auto}@media screen and (max-width:1024px){tw-story{font-size:1.2em}}@media screen and (max-width:896px){tw-story{font-size:1.05em}}@media screen and (max-width:768px){tw-story{font-size:.9em}}tw-passage{display:block}tw-sidebar{left:-5em;width:3em;position:absolute;text-align:center;display:block}tw-icon{display:block;margin:.5em 0;opacity:.1;font-size:2.75em}tw-icon:hover{opacity:.3}tw-error{display:inline-block;border-radius:.2em;padding:.2em;font-size:1rem;cursor:help}tw-error.error{background-color:rgba(222,57,189,.4);color:#000}tw-error.warning{background-color:rgba(222,140,57,.4);color:#000;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:.8rem;line-height:1rem}tw-error-explanation-button{cursor:pointer;line-height:0;border-radius:1px;border:1px solid #000;font-size:.8rem;margin:0 .4rem;opacity:.5}tw-error-explanation-button .folddown-arrowhead{display:inline-block}tw-notifier{border-radius:.2em;padding:.2em;font-size:1rem;background-color:rgba(222,181,57,.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid #000;display:inline-block;width:1em;height:1em}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:.6em 0}pre{font-size:1rem}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,.6);background-color:#ff9}ins{color:rgba(0,0,0,.6);background-color:rgba(254,242,204,.5);border-radius:.5em;box-shadow:0 0 .2em #ffe699;text-decoration:none}del{background-color:#000;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1,end) infinite alternate;-webkit-animation:fade-in-out 1s steps(1,end) infinite alternate}tw-align{display:block}tw-outline{color:#fff;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}tw-shadow{text-shadow:.08em .08em .08em #000}tw-emboss{text-shadow:.08em .08em 0 #000;color:#fff}tw-condense{letter-spacing:-.08em}tw-expand{letter-spacing:.1em}tw-blur{color:transparent;text-shadow:0 0 .08em #000}tw-blurrier{color:transparent;text-shadow:0 0 .2em #000}tw-blurrier::selection{background-color:transparent;color:transparent}tw-blurrier::-moz-selection{background-color:transparent;color:transparent}tw-smear{color:transparent;text-shadow:0 0 .02em rgba(0,0,0,.75),-.2em 0 .5em rgba(0,0,0,.5),.2em 0 .5em rgba(0,0,0,.5)}tw-mirror{display:inline-block;transform:scaleX(-1);-webkit-transform:scaleX(-1)}tw-upside-down{display:inline-block;transform:scaleY(-1);-webkit-transform:scaleY(-1)}tw-fade-in-out{text-decoration:none;animation:fade-in-out 2s ease-in-out infinite alternate;-webkit-animation:fade-in-out 2s ease-in-out infinite alternate}tw-rumble{-webkit-animation:rumble linear .1s 0s infinite;animation:rumble linear .1s 0s infinite;display:inline-block}tw-shudder{-webkit-animation:shudder linear .1s 0s infinite;animation:shudder linear .1s 0s infinite;display:inline-block}tw-shudder-in{animation:shudder-in 1s ease-out;-webkit-animation:shudder-in 1s ease-out}.transition-in{-webkit-animation:appear 0ms step-start;animation:appear 0ms step-start}.transition-out{-webkit-animation:appear 0ms step-end;animation:appear 0ms step-end}.transition-in[data-t8n^=dissolve],[data-t8n^=fade-in].transition-in{-webkit-animation:appear .8s;animation:appear .8s}[data-t8n^=dissolve].transition-out{-webkit-animation:appear .8s reverse;animation:appear .8s reverse}.transition-in[data-t8n^=shudder],[data-t8n^=shudder-in].transition-in{display:inline-block;-webkit-animation:shudder-in .8s;animation:shudder-in .8s}.transition-out[data-t8n^=shudder],[data-t8n^=shudder-out].transition-out{display:inline-block;-webkit-animation:shudder-out .8s;animation:shudder-out .8s}[data-t8n^=boxflash].transition-in{-webkit-animation:box-flash .8s;animation:box-flash .8s}[data-t8n^=pulse].transition-in{-webkit-animation:pulse .8s;animation:pulse .8s}[data-t8n^=pulse].transition-out{-webkit-animation:pulse .8s reverse;animation:pulse .8s reverse}[data-t8n$=fast]{animation-duration:.4s;-webkit-animation-duration:.4s}[data-t8n$=slow]{animation-duration:1.2s;-webkit-animation-duration:1.2s}</style>
</head>

<body>

<tw-story></tw-story>

<tw-storydata name="In the Dark" startnode="40" creator="Twine" creator-version="2.0.8" ifid="49FB776D-0BBE-4813-8BDA-6081E9B54080" format="Harlowe" options=""><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">div {
  font-size: 100%;	
}

.title-text {
  font-family: 'Courier New';
	font-smooth: never;
	-webkit-font-smoothing: none;
}

.im-handle-text {
  font-weight: bold;
}

.stat-text {
	font-weight: bold;
}

.hazel-text {
  color: #00CC99;
}

.tara-text {
  font-family: Garamond;
  font-size: 1.2em;
  color: #9900FF;
}

.tara-text.dark {
  color: #9370DB;
}

.ransha-text.whisper {
	font-size: .8em
}

.email-text {
	width: 100%;
	background-color: #FCFCFC;
	padding: 12px;
	border: 1px solid black;
}

.im-text {
	width: 100%;
	background-color: #FCFCFC;
	padding: 12px;
	border: 2px dashed black;
}

.menu {
	font-size: .75em;
	margin-top: 0;
}

.menu-table {
  display: table;
	width: 100%;
}

.menu-row {
  display: table-row;	
}

.menu-title-cell {
  display: table-cell;
	text-align: left;
	width: 30%;
}

.menu-identity-cell {
  display: table-cell;	
	text-align: center;
	width: 40%;
}

.menu-game-cell {
  display: table-cell;	
	text-align: right;
	width: 30%;
}

tw-passage.dark {
  color: #CCCCCC;	
}

body.dark {
	background-color: #141414;
}










</style><script role="script" id="twine-user-script" type="text/twine-javascript">
















</script><tw-passagedata pid="1" name="Your Name is Tara Tan" tags="" position="250,200">Your name is TARA TAN.

You love the FUCK out of SLASH. In fact, you might describe yourself as a SLASH FANGIRL.

You spend much of your time voraciously consuming ALL FORMS OF MEDIA that you can get your hands on, but recently your attention has been captured by the television show SUPERNATURAL. This is because you think that JENSEN ACKLES is dreamy. You also fancy yourself a DEFT HAND at WRITING FAN FICTION, with a bent toward SEXY GAY BOY SCENES. You suspect, however, that because of your ROMANTIC INEXPERIENCE that your sexy scenes are MAYBE NOT VERY AUTHENTIC.

Even though you are NOT THE BIGGEST GAMER, you still find yourself spending PREPOSTEROUS AMOUNTS OF TIME on your favorite genre, ROLEPLAYING VIDEO GAMES. You have a soft spot for IMMERSIVE STORIES even though occasionally those stories are KIND OF TERRIBLE.

You diligently practice the OBOE at the behest of your Nanna, but you would rather be spending that time curating your COLLECTION OF PRETTY ROCKS and MAKING JEWELRY.

You are also quite taken with several INDIE POP BANDS that one of your friends suggested awhile back that you might enjoy.

&gt; [[That&#x27;s quite enough of that.]]</tw-passagedata><tw-passagedata pid="2" name="That&#x27;s quite enough of that." tags="" position="250,350">Don&#x27;t you want some context? You can&#x27;t just jump right into this story without a real idea of who you&#x27;re supposed to be.

Aren&#x27;t you interested in your adventures ONLINE ROLEPLAYING as [[Dean Winchester]]? Or your ORIGINAL ROMANTIC FICTION about Sebastian and William? What about the COLLAGE OF AVATAR FANART on your bedroom walls? Your replica of CEDRIC DIGGORY&#x27;S WAND?

&gt; [[Just stop with the capital letters.]]</tw-passagedata><tw-passagedata pid="3" name="Just stop with the capital letters." tags="" position="250,500">Oh, all right.

It will help you to know that you are playing a game called [[SPan]], and within it you have the title of [[Sylph of Time]].

You mostly have been using your powers for pointless shenanigans and easing the grind for [[your friends and co-players-&gt;Your Friends]].

&gt; [[You&#x27;re in the middle of an argument with an alien.]]</tw-passagedata><tw-passagedata pid="4" name="You&#x27;re in the middle of an argument with an alien." tags="" position="250,650">&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Cc: Hazel Saigo, Ethan Swift, Travis Prezbylewski, Olivia Burdell, Liam Carver
Subject: Plans for the end of a world

ARE YOU BEING INTENTIONALLY RETARDED OR IS YOUR SUPERNATURALLY DENSE THINKPAN INCAPABLE OF ABSORBING THE KNOWLEDGE THAT IT SO DESPERATELY NEEDS?

I HAVE LITERALLY WATCHED YOU GET THIS EXPLANATION LIKE TEN FUCKING TIMES. PARADOX SPACE MUST BE AGGRESSIVELY SELECTING FOR THE DUMBEST POSSIBLE TARA AT ANY GIVEN MOMENT. DOOMING AN INFINITE SEA OF INCREMENTALLY LESS FUCKING ASTRONOMICALLY RETARDED TIMEKIDS TO BE EMBARRASSED IN DREAM BUBBLES FOR FUCKING EVER

WE ARE FUCKING TRAPPED ON OUR HOME PLANET

ONLY IT&#x27;S FUCKING WRECKED

THE RECKONING ALREADY HAPPENED AND THERE IS FUCKING NOTHING HERE
NOT EVEN LIFE BESIDES OUR OWN AND WHAT WE HAVE IN THE FUCKING WRECKED METEOR

SO YOU HAVE TO COME BRING US SOME FUCKING URANIUM
OR MAYBE A TIME MACHINE BUT THEN WE&#x27;D HAVE TO RELY ON GRODDAMN NHAMNI UUUUUUUUUGGGGGGH
OR YOU COULD SENDIFICATE US SOME, BUT YOU NEVER DO THAT

I&#x27;VE CHECKED

YOU&#x27;VE NEVER MADE MORE THAN A TINY HANDFUL OF URANIUM AND YOU NEVER DO

IT IS FACT&lt;/div&gt;
You stop reading.

&gt; [[It&#x27;s seriously starting to piss you off.]]</tw-passagedata><tw-passagedata pid="5" name="It&#x27;s seriously starting to piss you off." tags="" position="250,800">You&#x27;ve been getting fucked-up messages from these weird aliens ever since your Nanna first let you start using the Internet.

Really one in particular, who insists that he&#x27;s named Sesili. Except that instead of sounding like &quot;Cecily&quot; he wants you to pronounce it &quot;seh-SEE-lee.&quot;

For awhile, you just tried to ignore all of his weird bullshit messages. But now that you&#x27;ve entered this SPan game thing, he&#x27;s been progressively more helpful.

They seem to call themselves &quot;trolls,&quot; which you thought was just an Internet thing, but no.

It&#x27;s slowly turning out that pretty much everything that you thought was just an Internet thing is actually a real thing.

&gt; [[All of your friends have been talking to these aliens, too.]]</tw-passagedata><tw-passagedata pid="6" name="All of your friends have been talking to these aliens, too." tags="" position="250,950">Hazel told you told that Nhamni was deeply into fanfiction, and so you wrote her a drabble. This is of course the multiversally recognized olive branch of fangirls everywhere.

Travis made you aware of this alien named Chehro, but he didn&#x27;t seem to pay him any attention at all.

&quot;Khetus is a sweetie,&quot; Olivia told you. You&#x27;d tried to express your dubiousness here, but she was insistent.

Zekras had sent Ethan some nude photos of herself, but he just went ahead and deleted them. That boy is just literally the gayest. You&#x27;ve decided that you&#x27;re going to make him do a one-boy Pride Parade whenever he finally comes out of the closet.

And Ransha was just hard to ignore, to be honest. Seriously, she is just the shoutiest.

&gt; [[You continue reading.]]</tw-passagedata><tw-passagedata pid="7" name="You continue reading." tags="" position="250,1100">You flip back to the viewscreen in the upper-right of the heads-up display of your [[Ray-B&amp;s]].

&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Cc: Hazel Saigo, Ethan Swift, Travis Prezbylewski, Olivia Burdell, Liam Carver

JUST AS IT IS FACT THAT HAZEL NEVER GETS ANY ZILLIUM GRIST DESPITE ALL HER ATTEMPTS TO MAKE CLOWN MONSTERS

AND THAT SHE TOOK LIAM&#x27;S ARTIFICIAL INTEREST IN OLIVIA WITH HER WITCHING WAYS AND IS SO FUCKING STUPID SHE DIDN&#x27;T EVEN NOTICE

LIKE SHE DID THAT AND TWO HOURS LATER SHE TALKS TO OLIVIA ALONE FOR 60 FUCKING SECONDS AND ALL OF A SUDDEN HER HUMOUR PUMPULATOR IS BEATING OUT OF HER CHEST, HER TONGUE FLOPPING OUT LIKE ONE OF YOUR CARTOON RAPIST SKUNKS

AWOOOOOOOOOOGA&lt;/div&gt;

&gt; [[Now that is some fucking bullshit.]]</tw-passagedata><tw-passagedata pid="8" name="Now that is some fucking bullshit." tags="" position="250,1250">Your feelings on this are very complicated.

Two days ago, by the reckoning of normal time in the Medium, which is never the same as your own personal time:

Hazel just came right out and told you that she liked you. Not just as a friend, but that she like-liked you.

This was not a surprise.

Fortunately, you were at that moment saved by another version of yourself, who claimed to have come from a timeline in which dating Hazel went horribly wrong.

You and Hazel have always had a strong rapport. She was always cooler and richer and, well, bigger than you, in a lot of ways. She thought bigger than you. She wasn&#x27;t restrained by anything. It&#x27;s the thing you find most charming about her.

But when she started suggesting that your character avatars in the dumb self-insertion comics you and she made together might maybe start flirting... that had definitely been an indicator.

The surprise was that she mentioned it in the first place. You were fairly content to persist in having an awkward, emotionally-sensitive relationship.

That&#x27;s totally a thing, right?

&gt; [[The same kind of relationship you have with your best friend.]]</tw-passagedata><tw-passagedata pid="9" name="The same kind of relationship you have with your best friend." tags="" position="250,1400">Olivia has been your BFF ever since your chance meeting on the Final Fantasy XI roleplay servers. She&#x27;s bubbly, and curiously charming, and always eager to push you into something you&#x27;re not really comfortable doing, but which you later decide you like anyway.

That&#x27;s a Best Friend thing. Knowing that you&#x27;re going to like something even when you don&#x27;t realize it.

You&#x27;re just okay with the ponies, though.

&gt; [[Then Liam pulled some shit.]]</tw-passagedata><tw-passagedata pid="10" name="Then Liam pulled some shit." tags="" position="250,1550">Somehow he got it into his head that it was a good idea to set up a speed-dating event on [[LoGMaR]] involving all of your friends and a bunch of weasels.

You don&#x27;t even want to get into it. It&#x27;s tiresome to even think about.

But you were not expecting a doomed alternate timeline version of yourself to appear and confess her love to Olivia.

(Confess, really? What a Hazel expression.)

You were even further not expecting that Olivia and Hazel would discover an interest in each other.

And that you would have difficult-to-explain feelings about it.

&gt; [[You needed to talk to Travis about it.]]</tw-passagedata><tw-passagedata pid="11" name="You needed to talk to Travis about it." tags="" position="400,50">During the speed-dating conversation you had, you felt like you and he really began to understand each other.

You&#x27;d sort of had weird feelings about him for a long while. An all-American boy overseas, lonely and looking for friends? It was hard not to feel like you and he had a connection there.

You sent each other mixtapes of music that you liked. He introduced you to Florence + the Machine. Not really his thing, he pointed out, but he was pretty sure that you would like it.

The thing is.

&gt; [[You have a problem with only noticing your crushes once they&#x27;re over.]]</tw-passagedata><tw-passagedata pid="12" name="You have a problem with only noticing your crushes once they&#x27;re over." tags="" position="400,200">You hadn&#x27;t really met any of your friends in real life, until you met up in this game.

Real life? Such a strange phrase for what you&#x27;d all been doing together so far — killing monsters and doing quests in a game. But here it was.

You&#x27;d always known Travis to be an easygoing kind of dude, so you didn&#x27;t quite expect that having his house mildly wrecked would make him so...

//Enraged.//

It scared you.

And then he made a quote-unquote-joke about Olivia&#x27;s, uh, boobs. It wasn&#x27;t funny, and you found yourself forced to stand up for your best friend.

And just like that, you realized that all the things that you found roguishly fascinating about Travis had evaporated.

Like finding out how a magician does his trick. //Hey presto.//

&gt; [[But you&#x27;d be pretty happy just being good friends.]]</tw-passagedata><tw-passagedata pid="13" name="But you&#x27;d be pretty happy just being good friends." tags="" position="400,350">You&#x27;re having a lot of feelings about this whole game, and about the things you&#x27;re figuring out about yourself.

And you don&#x27;t expect Olivia to be very helpful in talking about it.

But fortunately, you&#x27;ve got Travis. He sent you an email about having a nice chat. You&#x27;re looking forward to talking to him.

&gt; [[This other email, though.]]</tw-passagedata><tw-passagedata pid="14" name="This other email, though." tags="" position="400,500">As weird as it is, you&#x27;re really excited for Olivia and Hazel.

It&#x27;s complicated.

The thing is.

They&#x27;re still your friends, and you want them to be happy.

You feel like you should be really excited for Olivia and Hazel.

So it fills you with a tremendous amount of anger that this fucking alien girl has decided to fuck with your friends&#x27; budding romance.

&gt; [[You decide to consult with Hazel.]]</tw-passagedata><tw-passagedata pid="15" name="You decide to consult with Hazel." tags="" position="400,650">&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;okay i&#x27;m gonna tell ransha off&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;she&#x27;s really pissing me off&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Well if it&#x27;s not going to be productive don&#x27;t send it.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;You&#x27;re cluttering up the thread with stupid stuff.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;okay what&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;what the fuck&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;We&#x27;re trying to cooperate with the trolls.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;So you should try to stay on-topic.&lt;/span&gt;&lt;/div&gt;

&gt; [[Goddamn it, Hazel.]]</tw-passagedata><tw-passagedata pid="16" name="Goddamn it, Hazel." tags="" position="400,800">Fuck it, you&#x27;re just going to send a message to Ransha alone. You&#x27;re filled with a righteous indignation, like a cheap carafe of wine, and you&#x27;ve got to pour it out somewhere.

&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: the line

&lt;span class=&quot;tara-text&quot;&gt;okay so

hazel has been yelling at me to stop clogging up her stupid fucking planning emails with my bullshit apparently so i am just going to say to you

stop messing with my fucking friends.

ethan is my friend, travis is my friend, olivia is my best friend, liam is my friend even though he is sometimes a creepster, and hazel is my friend even though sometimes she is one of the most trying people i fucking know

i don&#x27;t care if you insult me or tell me that i&#x27;m a clitterchitter or whatever it is you have going on in your weird fucking dictionary

that part is just fucking fine

but the part where my best friends just had a nice date for a couple of fucking hours and thought that maybe they might like each other, and you decided you wanted to go ahead and tell them that it was all just some misdirection and their feelings aren&#x27;t even real because of your fucking fourth-wall conjecture that they got caught up in their own stupid game powers is just

too

fucking

much.

so you want us to get you out of your cage of a fucking universe? you&#x27;re going to need us. and if you want anything out of us then you had better make goddamn fucking friends of us, or else i don&#x27;t see any reason why we need to bail you out of YOUR OWN FUCKING FAILURE AS A LEADER.

cross me and my friends, and i will tear down paradox space to shreds just to find your universe, burn it down, roll the ashes up into a tidy cigarillo, and daintily but deeply insert its smoldering wreckage between your buttcheeks.

make nice with us, and you have someone who maybe can push the alpha timeline into getting the both of us out of this fucking mess.

it&#x27;s up to you.

~ Tara&lt;/span&gt;&lt;/div&gt;

&gt; [[You send the message.]]</tw-passagedata><tw-passagedata pid="17" name="You send the message." tags="" position="400,950">A reply comes instantly.

That&#x27;s the shitty thing about talking to these Trolls. Somehow they can see you throughout all of time and space because they&#x27;re outside of your timeline. And they seem to have all the time in the world to come up with responses to you.

&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Subject: Re: the line

I TAKE EXCEPTION TO THE NOTION THAT I AM A FAILURE AS A LEADER

WHEN GODLIKE &quot;DICKFUCKERS&quot; FROM ANOTHER UNIVERSE AMBUSH YOU AT YOUR WEAKEST POINT WITH FUCKING NO FORESHADOWING, THAT IS NOT A FAILURE OF A BRILLIANT, NATURALLY HATCHED LEADER

THAT IS PARADOX SPACE PRYING OPEN YOUR SEEDFLAP AND PARSING IN THE RAUNCHEST, FILTHY GRUB LOAF IN YOUR MOUTH BECAUSE PARADOX SPACE.

COULD WE HAVE BEEN STRONGER? MAYBE AS INDIVIDUALS, SURE
BUT STRENGTHENING SOME OF THIS FUCKING GROUP WOULD HAVE BEEN A FUCKING DISASTER. IT WAS HARD ENOUGH CORAL LING NHAMNI INTO COOPERATION, MUCH LESS IF SOME OF THOSE OTHER CLEFTWIPES HAD MADE THE GOD TIER AND STARTED FUCKING OFF LIKE IMMORTAL GAYTIGER SEEDS IN THE WIND

TWO

MY AWFUL POWERS BASICALLY MEAN THAT YOUR THREATS ARE MEANINGLESS. I MEAN, MY ASPECT IS FUCKING GARBAGE AND MUSE IS THE SHITTEST SHIT CLASS EVEN IF IT IS &quot;POWERFUL&quot;, BUT I HAVE RELATIVELY LITTLE TO FEAR FROM YOU

BUT I DON&#x27;T DO ALL OF THIS OUT OF MALICE

IT STARTED THAT WAY, FOR SURE, BUT ACTUALLY YOU POOR BASTARDS ARE ALMOST CERTAINLY GOING TO GET CLEFTSNAGGERED JUST LIKE WE ARE

BUT ON THE OTHER HAND ONCE I REALIZED THAT YOU ARE PRETTY MUCH RESPONSIBLE FOR ALL OUR BULLSHIT LIVES, INCLUDING THE FACT THAT ALL OUR LIVES SEEM TO BE &quot;INSPIRED&quot; BY YOUR SHITTY FICTION

RIGHT DOWN TO SESILI&#x27;S WEIRD PREOCCUPATION WITH BRIGHTLY COLORED HOOFBEASTS

I AM FAINTLY RESENTFUL AND IT SHOWS 


ANYWAYS WHO AM I TO SAY IF THAT AFFECTION WOULDN&#x27;T HAVE BLOOMED ANYWAYS

HOPE SPRINGS ETERNAL, OR SO THEY TELL ME

OR MAYBE IT&#x27;S OLIVIA&#x27;S MAID/LIGHT POWERS SERVING UP LUCKY TO HAZEL

CLITTERCHITTER IS PRETTY GODDAMN VULGAR

I DON&#x27;T LIKE TO USE IT MUCH&lt;/div&gt;

&gt; [[What the fuck.]]</tw-passagedata><tw-passagedata pid="18" name="What the fuck." tags="" position="400,1100">That was not quite what you were expecting.

You need to spend a bit of time thinking up a reply, so you decide to travel back in time. You have some errands to do, anyway, and your friends are busy arguing with aliens.

You summon your [[Scroll Top]].

Your fingers clatter across the keys.

&gt; [[Days in the past, but hours in your future.]]</tw-passagedata><tw-passagedata pid="19" name="Days in the past, but hours in your future." tags="" position="401,1253">Relative to your timeframe, it&#x27;s about a half-day later.

Your elaborate moneymaking schemes involving selling illicit narcotics to the animal-based consorts in your session are paying off.

It&#x27;s taking a bit more work than you thought, though.

You&#x27;re laying low in a Pandasson hotel in [[LoCaF]] to get the fuzz off of your back. The amount of horrible puns in this game is frustrating you, a bit. You kind of can&#x27;t stand them, even though you know Ethan just revels in terrible dad jokes.

You finally finish your reply to that email, which you are sure has just the right amount of snark and mockery in it.

&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: Re: the line

&lt;span class=&quot;tara-text&quot;&gt;whether they would have started liking each other or not is not the fucking point

it&#x27;s all about the fucking story that they tell themselves of how they started liking each other

you taint that with lies and the whole thing is a fucking shambles

don&#x27;t you get it?

you have to feel like the lie you came up with about how you realized your feelings is a lie of your own making

so just shut the fuck up about it to hazel and olivia

and let them have their fucking moment together or whatever

you are pretty glib for someone who&#x27;s supposed to rely on us for both ends of your existence you know

don&#x27;t be resentful, our fiction is the best

like: supernatural, avatar, harry potter, sherlock, twilight

they are filled with smoldering looks and smexiness

i feel like if i made your universe there would be a lot more clitterchitters in there who are into the good stuff, how are you not a fan

~ Tara&lt;/span&gt;&lt;/div&gt;

&gt; [[Okay, Ray-B&amp;s. Send it.]]</tw-passagedata><tw-passagedata pid="20" name="Okay, Ray-B&amp;s. Send it." tags="" position="400,1400">Another instant reply.

You frown. You&#x27;re surprised that she bothered finding this exact point in time to make sure you got this message. Clearly Ransha is putting a lot of effort into spiting you, and you are going to have to up your game.

&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Subject: Re: the line

WHO SAID IT WAS FUCKING LIES YOU CLITTERCHITTER
IT DOESN&#x27;T SEEM THE LEAST BIT FUCKING SUSPICIOUS TO YOU? 

OH JEGUS I DON&#x27;T LIKE THAT WORD.

AND I HAVEN&#x27;T SAID WORD ONE ABOUT IT SINCE YOUR FUCKING MELTDOWN EXCEPT TO YOU


...

LOOK, I WILL ADMIT
SOME OF THAT STUFF IS PRETTY GOOD, FOR HUMAN MEDIA
I AM LIKING THIS &quot;SUPERNATURAL&quot; AND I THINK THEY MAKE A CUTE COUPLE
IT&#x27;S ACTUALLY GOT A PRETTY GOOD QUADRANT THING GOING

THE DEAN AND SAM ARE IN MATESPRITSHIP, AND DEAN IS IN KISMESIS WITH THE CROWLEY WHO SEES HIM MORE RED
AND CASTIEL IS AN AUSPISTICE TRYING TO SNEAK HIS WAY INTO THE DEAN&#x27;S FLUSH BUT HE ONLY SEES HIM AS A MOIRAIL 
BUT SOMETIMES SAM VASCILLATES AND WAXES BLACK AND THEN CASTIEL SLIDES OUT OF THE ASHEN QUADRANT
IT&#x27;S A PRETTY CLASSIC TROLL SETUP AND IT&#x27;S EXECUTED PASSABLY

IT&#x27;S WEIRD THAT THERE ARE HARDLY ANY GIRLS IN THE SHOW THOUGH

I SURE FUCKING HATED THAT LISA BITCH THOUGH I WAS GLAD TO SEE HER GO BUT I WISH THEY&#x27;D KILLED HER

I LIKE CHARLIE THOUGH WHY DOESN&#x27;T SHE MOIRALLIANCE UP WITH DEAN AND GET HER RED ON WITH SAM

BUT I DIGRESS

I AM GLIB BECAUSE I&#x27;M PRETTY SURE THAT YOU ARE GOING TO COME GET ME
AS MUCH AS YOU CLAIM TO HATE ME YOU WOULDN&#x27;T LEAVE A BUNCH OF KIDS ON A DEAD PLANET TO EVENTUALLY STARVE AND FREEZE OR MURDER EACH OTHER
ALSO I THINK YOU NEED ME ALMOST AS MUCH AS I NEED YOU
EVEN IF YOU DON&#x27;T THINK SO YET


LOOK I&#x27;M NOT 100% SOLD ON THE YOU CREATING THE UNIVERSE NOTION 
BUT SESILI THINKS SO, AND HE&#x27;S KIND OF THE EXPERT ON THIS SORT OF THING. HE MAKES SOME REALLY GOOD POINTS, AN OPINION OF MINE I WOULD PREFER YOU NOT SHARE WITH THAT FUCKING PERVERT&lt;/div&gt;

Wait, did she just.

Did she just marathon a ton of your favorite show just to argue ships with you?

&gt; [[Oh, it is on.]]</tw-passagedata><tw-passagedata pid="21" name="Oh, it is on." tags="" position="400,1550">Nobody should ship Wincest. //Nobody.// Not even with weird troll romance.

It&#x27;s Destiel all the way. This girl needs to be schooled.

&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: Re: the line

&lt;span class=&quot;tara-text&quot;&gt;of course it&#x27;s fucking suspicious

but sometimes you gotta ease into the truth

i mean seriously olivia just got dumped because liam decided he only liked boys or something

which i thought was because he stole the smexy boy-boy interest from me when he was messing with the soul of future alternate me

but apparently not

the point is i would rather olivia&#x27;s fragile emotional state not be too fucked up

okay?

here i will pick out another insult: ovijaculatrix

don&#x27;t fuck it up you ovijaculatrix

how&#x27;s that?

also shut the fuck up about my fucking meltdown, i just want my friends to have an okay fucking time at the end of the world, okay

okay now to more important things meaning supernatural

so hang on this matespritship thing is supposed to be like romance? because that sounds like you are into the wincest which is, ugh

that ship has sailed long ago ransha

dean and castiel are anchored in my bay; it is just sooooooooo nearly canon, esp because the showrunners seriously had dean tell castiel i love you in the script in season 8 before they changed it

come on though the show has girls in it

charlie is okay; i wish she weren&#x27;t such a mary sue

sesili seems very convinced that we are going to make your universe

i mean i don&#x27;t know what your universe is like but foe yay sure seems like a big thing there

i guess there must also be a lot of, i don&#x27;t know, space marines and physics and gay porn and swords

if we both need each other then that is paradox space setting some kind of fucking cosmic irony, but it seems to be pretty fucking good at that so far

you sure seem to have a lot of faith in us ransha

pretty sure that is misplaced

also

i never said i hated you.

~ Tara&lt;/span&gt;&lt;/div&gt;

&gt; [[You send the message, but suddenly realize something.]]</tw-passagedata><tw-passagedata pid="22" name="You send the message, but suddenly realize something." tags="" position="550,50">You feel like your argument was not sufficiently convincing.

Perhaps a different tactic is in order.

You set yourself to composing a follow-up message.

&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: Re: the line

&lt;span class=&quot;tara-text&quot;&gt;okay seriously though

&lt;a href=&quot;https://www.youtube.com/watch?v=5HqbKNahPrQ&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt; is my absolute favorite destiel fanvid

it is a music video about the unspoken emotions between dean and castiel

plus it&#x27;s got florence welch and isa machine on a hot streak, i mean really

feels, ransha, how can you not have them

FEELS

watch this video and tell me if you have any

you ovijaculatrix

~ Tara&lt;/span&gt;&lt;/div&gt;

&gt; [[Another message sent.]]</tw-passagedata><tw-passagedata pid="23" name="1 New Message." tags="" position="550,800">Oh shit. You&#x27;d nearly forgotten about this thread.

&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Subject: Re: the line

TARA, TARA, TARA

IS THERE ANYTHING MORE JUVENILE AND SILLY THAN THROWING AWAY A QUINTADE LONG MATESPRITSHIP BECAUSE SOME NEW CHUMP MAKES SMOLDERING BUCKET EYES AT YOU? YOU SUBMIT THAT THERE IS NOT

SAM AND THE DEAN HAVE THE CRUSHING WEIGHT OF A BEAUTIFUL, COMPLEX AND TORTUROUS MATESPRITSHIP, CARRYING THEM AND EACH OTHER FORWARD LIKE THE INESCAPABLE DRIVE OF A 500 BOX TRACKROLLER. MATURE RELATIONSHIPS LIKE THEIRS LOSE SOME OF THE TRAPPINGS OF JUVENILE FIXATION- THEY NO LONGER SMOLDER WITH UNREQUITED PASSION BECAUSE THEIR PASSION HAS BEEN COMFORTABLY REQUITED FOR 5 FUCKING SWEEPS. LIKE A LEGENDARY FLUSHED CONCUPISCIESCENCE SHOULD, THEY HAVE AT MANY POINTS CARRIED THEIR RELATIONSHIP FORWARD THROUGH THE AID OF MANY AUSPISTICILIATRICES, BOTH WELL MEANING, LIKE THAT MAJESTIC AUSPILIATRON BOBBY WHO CAN, DESPITE HIS REPULSIVE COLORING AND LACK OF HORNS, OCCUPY MY ASHCILIATORY QUADRANT ANYTIME, AND OTHERS LIKE CASTIEL AND THAT DUMB ANNA BITCH EMPTILY PAWING AT THE GREATNESS OF THEIR LOVE, LIKE PALE HIDEPECKERS GRUBBING ALL THEY CAN FROM THE INDIFFERENT MUSCLEHORN. REAL LOVE IS HARD WORK, NOT EASY GLANCES OVER A HAMBURGER BRIBE
OVER THE COURSE OF THEIR EPIC QUINTADE TOGETHER THEY HAVE WAXED BLACK AND RED AND BEEN TORN ASUNDER BUT THEY GET BACK TOGETHER BECAUSE FOR THEM THE NAME OF ETERNAL LOVE IS &quot;HE&#x27;S MY BROTHER&quot;

THEY HAVE LITERALLY SAVED AND DOOMED THE WORLD FOR EACH OTHER, RAISED EACH OTHER FROM THE DEAD, SOLD THEIR SOULS AND SACRIFICED THEIR FRIENDS AND A DIFFERENT BROTHER

A GREATER TESTAMENT TO THE SAGA OF THEIR LOVE COULD NOT EXIST

EXCEPT ANOTHER SEASON, WHERE THEY WILL CONTINUE TO SPEND THEIR LIVES TOGETHER

WHILST CASTIEL WILL JUST PASS IN AND OUT, AS HE ALWAYS HAS

BASKING IN THE HEAT, BUT UNABLE TO FULLY ACCEPT IT

IRONICALLY, HE IS THE MOST HUMAN OF THEM ALL





IT&#x27;S NOT SURPRISING THAT YOU YEARN FOR FORBIDDEN LOVE

ALL YOUR LOVE SEEMS TO BE FUCKING FORBIDDEN. ALL I SEE IS WEIRD FUCKING TABOO SHIT EVERYWHERE

THE BIZARRE HUMAN ANATHEMA OF &quot;INCEST&quot;

THE EVEN WEIRDER TABOO ON BOYS DOING IT TOGETHER

WHY DOES YOUR CULTURE LOVE GIRLS DOING IT BUT NOT BOYS I DON&#x27;T FUCKING GET IT

AND WHY IS IT THAT YOUR CULTURE LIKES GIRLS DOING IT BUT ONLY REALLY LIKES BOY/GIRL COUPLES MAKING A REAL GO OF IT

IT&#x27;S LIKE YOUR WHOLE SPECIES IS TRYING NOT TO FUCKING DO IT

AND BY DO IT, I MEAN CONQUER THE GRODDAMN UNIVERSE WITH WICKED ARMIES

IT&#x27;S LIKE YOUR SPECIES KNOWS HOW MUCH IT SUCKS AND IS EMBARASSED TO SPREAD




WE CODDLE NO SUCH FUCKING WEAKNESS ON ALTERNIA. YOU GET YOUR SHIT IN ORDER, KNOW WHO YOU&#x27;RE GOING TO FILL A FILIAL PAIL WITH BECAUSE OTHERWISE THE IMPERIAL DRONE WILL COME A&#x27;KNOCKING AND YOUR LUSUS CAN&#x27;T FUCKING SAVE YOU THEN


ALSO, AN OVIJACULATRIX IS A THING

IT&#x27;S A PINKFEATHERBEAST WITH NO FEATHERS
ITS REPRODUCTIVE AND DIGESTIVE TRACTS ARE ONE LONG TOGETHER THING, AND IT CAN SPIT THESE FUCKING EGGS 
THE SHELLS ARE LIKE A GODDAMN INCH AND A HALF THICK AND THEY CAN CRACK STONE AND SHATTER BONE

THEY MAKE A PRETTY GOOD LUSUS FOR A MUTANT CANDYBLOOD&lt;/div&gt;

&gt; [[Quadruple ugh.]]</tw-passagedata><tw-passagedata pid="24" name="Quadruple ugh." tags="" position="550,950">You&#x27;re certain that Ransha picked this exact point in your timeline to wax philosophical about the nature of forbidden love in order to annoy you.

She also clearly does not understand the source of your love for Destiel.

This must be corrected.

It&#x27;ll at least give you something else to think about.

&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: Re: the line

&lt;span class=&quot;tara-text&quot;&gt;oh ransha, how can you not see it

the reason why i don&#x27;t ship wincest isn&#x27;t just because of the cherry-topped-whipped-cream-on-your-sundae that is the notion of jensen ackles and misha collins snogging

it&#x27;s also because sam is a TERRIBLE brother

point: when sam dies, dean sells his soul to the crossroads demon to resurrect him; then next season, sam just watches his own brother get eaten by hellhounds and fucks around for four months with some girl not doing anything! and who saves him? answer: CASTIEL.

point: dean kills dick roman aka naked snake and gets stuck in purgatory and sam goes and fucks around again for a whole year with some other girl, and dean has to con his way out with a vampire; and why does dean start torturing people again while in purgatory? answer: CASTIEL.

point: dean hands over the keys to sam for the first time and sam immediately destroys BABY, DEAN&#x27;S FIRST MATESPRIT

or whatever the fuck it is you are calling it

so yeah, dean needs sam way more than sam needs him, and sam is a whiny selfish bitch who doesn&#x27;t deserve his love.

and then comes castiel

&lt;a href=&quot;https://www.youtube.com/watch?v=_nAGpEvzpRc&quot; target=&quot;_blank&quot;&gt;dean&#x27;s angel&lt;/a&gt;

so i will request that you put any youthful fanfic-based wincest indiscretions of mine from previous seasons aside

because how can the hand of that angel on dean&#x27;s back means anything but &lt;3.

...for real though you are into bobby? i didn&#x27;t even know that was a thing

not that i really know what an ashciliatory quadrant is supposed to be

unless it&#x27;s some bodily crevice you guys have somewhere

not that i even really know what trolls look like i guess, for all i know you look like a tiger riding around in a dalek or something

...

...anyway don&#x27;t ask me why nobody likes boys doing it, i am totally fine with it obvs

i mean who can object to the undeniable chemistry between jack sparrow and will turner for example

humans are all up into some baby action though, that&#x27;s why everyone likes the straight pairings in rl

it&#x27;s because babies, which need mom parts and dad parts to hook up

okay now you are thinking that you are going to tell me something about ectobiology so shut up, that is not a thing on earth.

god your species&#x27; romantic comedies must be like five minutes long if you are all so amazingly prepared to rub your clitterchitters all up on each other

i am imagining troll harry met troll sally

or troll love actually

or 10 things i hate about you

anyway i&#x27;m glad YOU have all your shit in order and you&#x27;re ready to uh, fill up your filial pail

with whatever you fill that up with

i guess you probably saw my stupid-ass argument with travis.

i&#x27;m still getting this whole girls-doing-it thing in order, that has mostly been hazel&#x27;s whole deal

which i guess i should have figured out because of her whole femslash weeaboo whatever thing

i have no map for this; i mean am i supposed to start off reading ginmione fic here? i don&#x27;t even know

whatever, the important thing is

humans are pretty bad at taking over the universe with our wicked fucking armies

but we are pretty good at awesome stories, you caterfister.

~ Tara&lt;/span&gt;&lt;/div&gt;

&gt; [[Send.]]</tw-passagedata><tw-passagedata pid="25" name="Send." tags="" position="550,1100">It&#x27;s sent.

The //ping// of another message appears in your HUD. It&#x27;s from Hazel, or something?

The subject line reads: **In the dark**

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Hey, since&lt;/span&gt;&lt;/div&gt;
You feel a darkness swell in the pit of your stomach, and dismiss the pop-up from your vision.

You&#x27;re really not in the mood to talk to her right now.

//Ping.//

&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Subject: Re: the line

OK OK

YOU MIGHT BE ON TO SOMETHING ABOUT SAM BEING A WORTHLESS PIECE OF SHIT

BUT STILL

IT&#x27;S THEM, THEY&#x27;RE THE COUPLE

I MEAN REALLY, SAM HAS GONE TO BAT FOR DEAN...

FUCK

WELL I GUESS HE TRIED TO GET HIM A NORMAL LIFE WITH.. UGH... LISA

AND HE TRIED TO SELL HIS SOUL TO GET HIM BACK BUT CROWLEY WAS ALL CLASSIC POSSESSIVE

OK WELL I STILL THINK SAM AND THE DEAN ARE THE COUPLE

BUT I THINK YOU MIGHT BE RIGHT ABOUT ONE THING FOR THE FIRST TIME IN THE HISTORY OF YOUR SPECIES

SAM DOESN&#x27;T DESERVE DEAN

OF COURSE, CASTIEL KEEPS KICKING THE EVER LIVING GRUBSAUCE OUT OF DEAN SO MAYBE HE DOESN&#x27;T DESERVE HIM EITHER

BASICALLY THE ONLY MATESPRIT FOR DEAN IS CHARLIE THEN, BUT THAT&#x27;S A TOUGH BRIDGE FOR HER

IT&#x27;S HARD TO GET OUT OF THE MOIRAIL ZONE

GOOD THING HE HAS THAT KISMESIS THING LOCKED UP

TOO BAD LUCIFER IS GONE
SAM &lt;3&lt; LUCIFER, THAT WAS SOME HOT SHIT


JACK SPARROW IS TOO HOT FOR EVERYONE IN HIS MOVIE
HE IS LIKE A FUCKING MAGNIFICENT FUSCHIA BLOOD THAT WAS SOMEHOW MALE AND ALSO SURROUNDED BY A BUNCH OF RUST BLOODED ROBEASTS

FUCK PIRATES HNNNNGH

I FUCKING LOVE PIRATES

I MEAN OFFICIALLY I HATE THEM AND HAVE TO HAVE THEM DESTROYED

BUT FUCK SO SEXY

ALSO SEXY

FARMERS

DON&#x27;T KNOW WHY, IT&#x27;S BASICALLY THE LOWEST THING EVER

TROLLS HAVE ALMOST ENTIRELY ABANDONED THE PRACTICE

OR HAD



YOUR ASHCILIATORY QUADRANT, HYPOTHETICALLY SINCE YOU&#x27;RE SOME WEIRD FUCKING CREATURE THAT ONLY HAS MATESPRITSHIP, IS A PLACE FOR A NON-CONCUPISCIENT ROMANCE
ESPECIALLY ONE WHERE THIS PERSON HELPS YOU WITH YOUR OTHER ROMANCE SHIT, AND BASICALLY ALL OF YOUR SHIT WITH THEIR WISDOMME

IT&#x27;S KIND OF LIKE

I DON&#x27;T KNOW, IMAGINE IF YOU HAD A SPOT FOR A MENTOR THAT WAS ALSO A SOUL MATE
BUT NOT ONE THAT YOU WANTED TO SLOT IN YOUR &#x27;VAGINA&#x27;
SO LIKE
A FATED SOUL MENTOR
AND YOU LOOKED FOR THE PERFECT ONE THE SAME WAY YOU LOOK FOR YOUR &quot;TRUE LOVE&quot;

AND THEN THEY WOULD HELP YOU WITH YOUR SHIT BUT ESPECIALLY WITH YOUR ROMANCE SHIT WHEN IT GOES AWRY

LIKE BOBBY IS ALWAYS DOING WITH SAM AND DEAN

AND A LOT OF TIME IT&#x27;S A PLACE PEOPLE FIND THEMSELVES IN WHEN THEY&#x27;RE TRYING TO GET IN ON THE ACTION WITH ONE OR SOMETIMES BOTH PEOPLE IN CONCUPISCIENT RELATIONSHIPS (MATESPRITSHIP OR KISMESIS)

LIKE CASTIEL

I&#x27;M NOT NORMALLY INTO ROMANTIC COMEDIES
BUT
THEY HAVE 4 QUADRANTS SO THEY&#x27;RE A LOT LONGER THAN YOUR AS A GENERAL RULE
AND FOR FUCK&#x27;S SAKE THE TITLES ARE TOO LONG, NOT THAT WE EVER READ THEM ANYWAYS
WE JUST WATCHED THE TRAILERS

SESILI SAYS THAT THERE&#x27;S A SORT OF LANGUAGE IN THEM
I TOLD HIM OF COURSE THERE IS THERE&#x27;S WORDS, FUCKING RETARD
BUT HE SAYS THAT THERE&#x27;S SOME SORT OF ART TO THEM AND THAT IF YOU CARED, YOU COULD REALLY CATCH ON TO HIDDEN SHIT

BUT HE SAYS THAT ABOUT EVERYTHING

ESPECIALLY SINCE SORAYA DISAPPEARED

PLEASE
YOUR PITIFUL CINEMATIC NEANDERTHRASHINGS ARE NOTHING COMPARED TO THE MAJESTY OF TROLL CINEMA

EXCEPT DIE HARD

THAT ONE&#x27;S PRETTY FUCKING RAD

I DON&#x27;T KNOW WHAT TO TELL YOU ABOUT TRAVIS

FOR A BIG TOUGH MANLY MAN HE SURE IS A SANDY CLEFT

LOOK, IF ALL THIS SHIT WORKS OUT YOU&#x27;LL SEE US SOONER OR LATER.&lt;/div&gt;

&gt; [[You see yourself out of the corner of your eye.]]</tw-passagedata><tw-passagedata pid="26" name="You see yourself out of the corner of your eye." tags="" position="550,1250">You&#x27;re pretty sure it&#x27;s your future self, watching you unseen.

It&#x27;s getting to be really frustrating when you notice yourself looking at yourself, being all smug, giving you a thumbs-up so you know you&#x27;re on the right path in the Alpha timeline.

You&#x27;re basically your own [fucking owl from Ocarina of Time]&lt;future_owl|. (click: ?future_owl)[//Kaepora Gaebora//, you remember. Your mind is a trap for useless story details like this.]

&lt;span class=&quot;tara-text&quot;&gt;&quot;go the fuck away,&quot;&lt;/span&gt; you tell her. Or at least, you think it&#x27;s her.

She doesn&#x27;t reveal herself, and no response appears to be forthcoming.

You try to ignore her as you craft a response.

&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: Re: the line

&lt;span class=&quot;tara-text&quot;&gt;okay i will concede to you

jensen ackles and jared padalecki together are totally hot.

and is totally what i thought starting off

but sam sort of reached peak smexy around season 3 and tapered off around there

once you reach season 6 the nation of sam winchester is exporting perilously low quantities of barrels of smexy

it&#x27;s the hair. why jared, why

charlie and dean? nonononono

charlie is only into the girls; also she is innocent and pure as the driven snow which is why we never see her get any girls ever

plus if she did that would be like a whole other show

i will give you sam and lucifer though

lucifer has just the right amount of beard

i mean it&#x27;s a little awkward to do make-outs with the dude you&#x27;re about to become, but it&#x27;s sort of

the right amount of awkward also.

...anyway

why would you hate pirates?

sailing the high seas all yohoho and three sheets to the wind and puffy shirts

pirates are great; butt pirates doubly so.

if you like pirates you should check out the dread pirate roberts

tooooootally hot

that cracking wit

and his sexy accent

for that accent i will forgive many things including the fact that his mustache is obviously penciled in.

you even get two accents if you go all the way with westley/inigo

also: a farm boy and a pirate, how can you beat that

not that i really get your farmer thing

seriously though name a sexy farmer, i can&#x27;t name one other sexy farmer

luke skywalker is the unsexiest and he just farms fucking moisture.

i am starting to get the picture on this whole troll romance situation and it is too weird

you are telling me that you are supposed to hook up with like four other trolls?

that&#x27;s like soooo much effort, it&#x27;s hard enough to just find even one person you like who likes you back

how do you even get a house together, do trolls live in the biggest poly commune ever basically

so everyone can have easy naked access to all of their boinkable vexascinated heartthrobs in their big love matrix?

i can&#x27;t ever figure out sesili&#x27;s deal

he&#x27;s been all douchey to me for like a million fucking years but now he keeps sending me all this helpful info

it&#x27;s like, that is some wicked mood whiplash there.

waiting with baited breath for you to tell me about how soraya is someone he lost in his emo backstory

oh please, tell me there is an emo backstory

anyway speaking of that, i guess you hate us all so

i&#x27;m sure you are awaiting our allegedly predestined meeting with alternate feelings of spite and disdain

i&#x27;m just excited that i get to see a tiger riding around in a dalek for the first time.

~ Tara&lt;/span&gt;&lt;/div&gt;

These emails are just getting longer and longer.

&gt; [[You send it, though.]]</tw-passagedata><tw-passagedata pid="27" name="You send it, though." tags="" position="550,1400">Yet another instant reply.

Maybe this alien girl isn&#x27;t so bad. At least she&#x27;s someone you can talk to without feeling horrifically awkward, right now.

&lt;div class=&quot;email-text&quot;&gt;From: Ransha
To: Tara Tan
Subject: Re: the line

ONLY INTO GIRLS

WHAT DOES THAT MEAN

SHE CLEARLY HAS THE MOIRALLIANCE WITH DEAN

MOIRALLIANCE IS BASICALLY A WATERED DOWN VERSION OF MATESPRITSHIP

I AM SUPPOSED TO HATE PIRATES BECAUSE IT TYPICALLY MEANS PITIFUL LAND DWELLERS FUCKING SHIT UP OUT ON MY WATERS

OR WHAT WOULD HAVE BEEN MY WATERS

OR... WELL, IT&#x27;S A WHOLE THING

THEY WEREN&#x27;T MY WATERS
AND THEY ARE OUT THERE OWNING IT EVEN THOUGH THEY DON&#x27;T OWN IT, THE CONDESCE DOES

WHICH IS PRETTY MUCH WHAT I WAS SUPPOSED TO DO UNTIL THEY WERE MY WATERS

INSTEAD I HAD TO HIDE IN A FUCKING CAVE AND COLLECT SCRAPS

SO I BOTH LOVE AND HATE THOSE WHO WOULD DO CRIMES ON MY WATERS

SORAYA WAS ONE OF OUR PLAYERS

REAL FUCKING WEIRDO, THAT CHICK

SHE FUCKING LOVED SPIES AND TRAPS

JEGUS ALL THE TRAPS SHE FUCKING TRAPPED EVERYTHING

ALWAYS DRESSING UP IN SLINKY LITTLE DRESSES OR DASHING SUITS

AND SHE FUCKING LOVED TO BE TRAPPED TOO SHE WAS ALWAYS &quot;ACCIDENTALLY&quot; ARRANGING FOR WHATEVER FUCKING CRUSH SHE HAD AT ONE POINT OR ANOTHER TO FIND HER ALL STRUNG UP WITH A FUCKING BUZZSAW SLOWLY SPINNING TOWARDS HER

SHE GOT MOST OF US ON ONE END OR THE OTHER AT ONE POINT OR ANOTHER

ANYWAYS THERE&#x27;S NO EMO BACKSTORY REALLY

I THINK SHE AND SESILI HAD A BLACKROM THING GOING ON BUT WHATEVER

ANYWAYS SHE WENT MISSING

I ALWAYS ASSUMED ONE OF HER FUCKING TRAPS GOT HER

OR MAYBE SESILI JUST FUCKING RAN ACROSS HER AND MADE SURE THE TRAP FINISHED THE JOB

SHE WAS SUPER FUCKING ANNOYING

OH AND SEXY FARMER

ARE YOU A TARD

FARMERS ARE INHERENTLY SEXY

ALL WORKING SOIL AND DIRTY SHIT ALL SERVILE LIKE

BUT ALL FUCKING SEXY AND MUSCLY

ISN&#x27;T JENSEN ACKLES A FARMER IN HIS SPARE TIME

AND KRISTEN RITTER

OR A RANCHER WHATEVER DIRT AND HOOFBEASTS

FUCKING TROLLS LIVING TOGETHER
ARE YOU CRAZY

THATS NOT WISE

WE GET STRONGER AND LESS... STABLE FOR THE MOST PART AS WE GET OLDER
A REALLY STRONG MOIRAILDOM OR MATESPRITSHIP DOES IT SOMETIMES, BUT IT&#x27;S USUALLY A BAD IDEA

NO FUCKING WAY WOULD YOU LIVE WITH YOUR KISMESIS UNLESS YOU HAD THE FUCKING GREATEST AUSPISTICE OF ALL TIME

THERE ARE MOVIES LIKE THAT, THOUGH AND THEY&#x27;RE NOT REALLY MY THING BUT SOME OF THEM ARE PRETTY HOT

USUALLY INVOLVING SOME SORT OF PRISON


WE DON&#x27;T LOOK LIKE TIGERS IN GARBAGE CANS

WE LOOK KINDA LIKE YOU BUT MORE AWESOME IN EVERY WAY

WELL, I DO ANYWAYS THE REST OF THESE CHUMPS, EXCEPT FUCKING NHAMNI, ARE PRETTY FUCKING GOOFY LOOKING
BUT STILL YOU LOOK STUPID WITH YOUR PINKISH BROWNISH SKINS AND YOUR LACK OF HORNS AND YOUR ROUND RUSTBLOOD TEETH

OR I GUESS I SHOULD SAY CANDYBLOOD TEETH 

CHEHRO HAS THE SAME COLOR BLOOD AS YOU, WHICH IS A THING I DON&#x27;T WANT TO EVEN THINK ABOUT THE IMPLICATIONS OF&lt;/div&gt;

Oh yes, Nhamni. You&#x27;re pretty sure that this Ransha girl is, what was it? &quot;Waxing black&quot; for her.

You&#x27;re pretty sure you know how to bug the fuck out of her now.

&gt; [[You fashion a reply with your ocular interface.]]</tw-passagedata><tw-passagedata pid="28" name="You fashion a reply with your ocular interface." tags="" position="550,1550">&lt;div class=&quot;email-text&quot;&gt;From: Tara Tan
To: Ransha
Subject: Re: the line

&lt;span class=&quot;tara-text&quot;&gt;uh okay, so ransha

in the interest of cross-cultural communication

when i say that charlie is only into girls, it means that uh

well

okay explaining this is embarrassing

pretty much she needs another girl to get her her filial pail juices going

because boys make her, uh, bucketspout dry up like a raisin in the sun.

the point is charlie lives in femslash territory

not that there is anyone to slash her with in the show that i can even think of to be honest

god i guess i need to get some femslash to read now.

for uh research reasons

but i don&#x27;t want to ask hazel for a list, that is just fucking awkward.

sigh

anyway i figure the condesce is supposed to be some ocean king or something

and you are supposed to be the inheritor or something

like troll ariel.

so tell me all about your mysterious cave

are there dinglehoppers and banded bulbous snarfblatts?

and piles upon piles of printouts of pirate/farmer fanfics?

btw i am always partial to a taut and muscled figure with additional vocal twang

but you gotta have the brain to match the looks in my book

which is why dean winchester had me at snark one

friggin&#x27; velvety smooth.

seriously though you&#x27;re telling me that troll romance is just like

all long-distance relationships all the time with occasional bouts of make-outs

and if trolls live together it is MASS HYSTERIA

how are you supposed to support mpreg fanfic if your culture doesn&#x27;t have adorable cohabitation scenes

i mean some humans do the poly thing but a lot of times they get a big house together if they can

i heard that poly gets mega-expensive though because you have to do a lot of first dates.

anyway i thought there were only supposed to be six of you guys, i&#x27;ve never heard of this soraya chick

unless you had a bunch more people in your session who died or something

like the ones who died in the session of those other dicks

i guess candyblood is supposed to mean human blood?

maybe chehro is half-human or something, i bet he would be all pissed off if i called him that

man i thought you guys were going to be mega-alien, i wasn&#x27;t expecting like

horny humanoids with a bucket preoccupation

speaking of which i keep hearing that you and nhamni have a thing

a thing that i assume is why you&#x27;re thinking she&#x27;s not so goofy-looking

hmmmmmmmmmmmmmmm

~ Tara&lt;/span&gt;&lt;/div&gt;

You wonder idly where Sesili has been hiding.

You haven&#x27;t heard from him in awhile.

//Ping.//

&gt; [[Oh no.]]</tw-passagedata><tw-passagedata pid="29" name="Another message sent." tags="" position="550,200">But no reply this time.

Hmm.

You shrug. You have better things to do.

Liquidating a tremendous amount of Bug Dust for some hard-earned Boonbucks, for one.

&gt; [[Present day, present time.]]</tw-passagedata><tw-passagedata pid="30" name="Present day, present time." tags="" position="550,350">You&#x27;re on Derse, now.

Derse, the shadow-cloaked. Derse, the violet. Derse, the dark city.

You can&#x27;t help imagining the kind of sign you might have seen on a road trip with your Nanna. //Welcome to Derse, the Land of Mostly Fucking Purple Shit.// LoMFPS.

Supposedly, your [[dream self]] lies sleeping in one of the three towers on the moon of Derse. This still makes no fucking sense to you.

Oh yeah, apparently you&#x27;re some kind of Princess of Derse or something?

The mythology of this game continues to baffle you.

&gt; [[You weren&#x27;t on Derse about an hour ago, though.]]</tw-passagedata><tw-passagedata pid="31" name="You weren&#x27;t on Derse about an hour ago, though." tags="" position="550,500">An hour ago, you were on [[LoGMaR]] having an argument with Travis.

You&#x27;ve had a lot on your mind lately, and you&#x27;re full to bursting with the need to talk to someone about it, and you just —

You just wanted a heart-to-heart, or something.

You weren&#x27;t expecting the flowers, or the jazz music, or, well, the corsage.

And when you started to tell him what you&#x27;d been thinking about, he did an acrobatic fucking pirouette off of the handle.

Just, ugh. Ugh, ugh, ugh. So fucking pushy, that boy. It wasn&#x27;t even like he wasn&#x27;t hot, even though he was goofy as all hell.

You&#x27;d known that he liked you, was //in like// with you, and you really just had had no idea what to do with it.

&gt; [[And then he took you to Derse.]]</tw-passagedata><tw-passagedata pid="32" name="And then he took you to Derse." tags="" position="550,650">Where you spent the last half-hour arguing with some weird guy in an electronic window. Some weird guy who claimed to be your Narrator.

Most of that half-hour was about the fictive nature of your universe, or some shit like that. Well, that and Travis yelling at the guy about his shipping options.

You&#x27;d been worried about all these time loops, and all this effort you&#x27;d needed to put in to preserve the Alpha timeline, but the weird guy convinced you not to worry about it. It was just a story, after all.

Somehow, that made you feel a bit better, though.

Real life is hard. Stories are much easier for you to get a handle on.

But now Travis seems to hate you, and your best friend and her new girlfriend are wrapped up in their own world, and your other friends are doing God knows what.

You&#x27;re feeling very lost.

&gt; [[1 New Message.]]</tw-passagedata><tw-passagedata pid="33" name="Tara: Be Hazel." tags="" position="700,200">Your name is HAZEL SAIGO.

You can&#x27;t even explain how much you love SWORDS. In fact, you might describe yourself as a SWORD FANGIRL. This is because you are the LAST DAUGHTER OF THE LAST SAMURAI, and so you want to follow in this tradition by becoming THE BEST SWORDSMAN IN ALL OF HISTORY, even though you are NOT A BOY.

You are ONE RICH BITCH who grew up on a STUPID HUGE ESTATE packed with all kinds of WEIRD STUFF YOUR DAD BOUGHT.

In your free time you draw some QUITE GOOD MANGA. You are allowed to do this because even though you are an ANIME FANGIRL, you are NOT TECHNICALLY A WEEABOO because you are HALF-JAPANESE. You are also partial to MUSICALS, particularly the spectacular musical extravaganza WICKED, which speaks to you because you feel MISUNDERSTOOD even though you know your BRAVERY WILL SAVE THE UNIVERSE.

You are very pleased with the WICKED WHICH JOKE you just made.

You used to have DREAMS where you would see VISIONS IN THE CLOUDS. Nearly all of them HAVE COME TRUE BY NOW, including the one where you and your friends play A GAME THAT WILL CHANGE EVERYTHING. You are EXTREMELY CHARISMATIC and so your friends tend to DO WHATEVER YOU ASK OF THEM, which is fortunate because without your visions you all would probably be DOOMED.

&gt; [[I told you to stop doing that.]]</tw-passagedata><tw-passagedata pid="34" name="I told you to stop doing that." tags="" position="700,350">Fine, have it your way.

We will not mention at all your love of MOBAs. Your fascination with DISNEY PRINCESS SLASH shall not be described. Your ALTERNACHICK FASHION SENSE will be considered, and then dismissed.

&gt; [[You&#x27;re lying on your bed, taking a break from your quests.]]</tw-passagedata><tw-passagedata pid="35" name="Oh no." tags="" position="700,50">The notification pops into view.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;ahahahahahahahaha time puns, or something&lt;/span&gt;&lt;/div&gt;
Your future self has started replying to your messages. Fuck.

You&#x27;d better see what Hazel wants.

&gt; (link: &quot;Tara: Be Hazel.&quot;)[(set: $name to &#x27;Hazel Saigo&#x27;)(goto: &quot;Tara: Be Hazel.&quot;)](if: false)[ [[Tara: Be Hazel.]] ]</tw-passagedata><tw-passagedata pid="36" name="You&#x27;ve been having a lot of thoughts about Olivia." tags="" position="700,650">You&#x27;d had a tremendous crush on Tara Tan since even before you met her. You were young, and you saw a very pretty teenaged Asian girl in the clouds of Skaia, and you were certain that you were going to kiss her someday.

And then, it didn&#x27;t happen? You weren&#x27;t even sure exactly how things fell apart, except that some doomed version of Tara from an alternate timeline showed up to stop you from talking about your feelings for her.

Things were really awkward between you and Tara after that. She didn&#x27;t want to talk about what happened at all, or what her doomed self had told her.

Then Carver did his little speed-dating quest event, and you and Olivia realized that you had a lot more in common than you thought, besides just being friends with Tara.

There was, for example, Wicked. And you both really truly believe, from the bottom of your hearts, that you&#x27;re going to make it through this game together by making friends with these trolls and these other kids.

And, well, once you came down off of the disappointment of your crush on the Sylph of Time, you realized that Olivia really was very pretty.

Particularly when the shimmering light of [[LoLaS]] glints on her hair.

&gt; [[Okay, no, don&#x27;t be distracted.]]</tw-passagedata><tw-passagedata pid="37" name="Header" tags="header" position="50,50">{
  (display: &#x27;Menu&#x27;)
  (if: &#x27;dark&#x27; is in (passage:)&#x27;s tags)[(display: &#x27;Dark&#x27;)]
  (else:)[(display: &#x27;Light&#x27;)]
}&lt;div&gt;</tw-passagedata><tw-passagedata pid="38" name="Menu" tags="" position="50,200">{
&lt;div class=&quot;menu&quot;&gt;
  &lt;div class=&quot;menu-table&quot;&gt;
    &lt;div class=&quot;menu-row&quot;&gt;
      &lt;div class=&quot;menu-title-cell&quot;&gt;
        In the Dark
      &lt;/div&gt;
      &lt;div class=&quot;menu-identity-cell&quot;&gt;
        (if: $name is not 0)[You are $name.]
      &lt;/div&gt;
      &lt;div class=&quot;menu-game-cell&quot;&gt;
        [Save]&lt;save| | [Load]&lt;restore|  (click: ?save)[(savegame: &quot;A&quot;,&quot;Current&quot;)] (click: ?restore)[(loadgame: &quot;A&quot;)]
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
}
</tw-passagedata><tw-passagedata pid="39" name="Footer" tags="footer" position="50,350">&lt;/div&gt;</tw-passagedata><tw-passagedata pid="40" name="Hearthchained: In the Dark" tags="title" position="250,50">
=&gt;&lt;=
##&lt;span class=&#x27;title-text&#x27;&gt;HEARTHCHAINED&lt;/span&gt;
###In the Dark
[[Version 1.3-&gt;Changelog]]

(if: $completed is not 0)[&lt;a href=&quot;https://c1.staticflickr.com/1/592/21741541380_73d58cdce5_b.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://c1.staticflickr.com/1/592/21741541380_73d58cdce5_n.jpg&quot; alt=&quot;Tara and Ransha&quot;&gt;&lt;/a&gt;

]&lt;a href=&quot;http://hearthchained.wikidot.com&quot; target=&quot;_blank&quot;&gt;Wiki&lt;/a&gt;
&lt;a href=&quot;http://hearthchained.tumblr.com&quot; target=&quot;_blank&quot;&gt;Tumblr&lt;/a&gt;
&lt;a href=&quot;http://hearthchained.wikidot.com/stories&quot; target=&quot;_blank&quot;&gt;Other Stories&lt;/a&gt;
&lt;==


&gt; (link: &quot;`===&gt;`&quot;)[(set: $name to &#x27;Tara Tan&#x27;)(goto: &quot;Your Name is Tara Tan&quot;)](if: false)[ [[Your Name is Tara Tan]] ]</tw-passagedata><tw-passagedata pid="41" name="Hazel: Be the Narrator." tags="" position="900,50">You are THE NARRATOR.

Good job, guy. Now you&#x27;ve got yourself two thirteen-year-old girls about to fling themselves out of their universe.

What are you supposed to even do with this?

&gt; (link: &quot;Narrator: Zoom out.&quot;)[(set: $name to 0)(goto: &quot;Narrator: Zoom out.&quot;)](if: false)[ [[Narrator: Zoom out.]] ]</tw-passagedata><tw-passagedata pid="42" name="Narrator: Zoom out." tags="dark" position="900,200">At the very lip of the Furthest Ring, surrounded by asteroids the size of cities and states — some not particularly far from the size of the Moon — two Asian girls look beyond all that they know to still exist at infinite blackness.

It&#x27;s darker than anything. Looking in its direction with eyes open fills the girls&#x27; heads with a susurrating fear that they have been struck entirely blind. For Hazel, she can &quot;see&quot; the very edge, but a step&#x27;s worth of distance away, but she still feels an ominous sense of forboding.

&gt; [[`===&gt;`-&gt;Tara can&#x27;t feel the edge.]]</tw-passagedata><tw-passagedata pid="43" name="Tara can&#x27;t feel the edge." tags="dark" position="900,350">Tara can&#x27;t feel the edge. As far as she can see, this is the end of all that is. But upon gazing out, she... thinks there is something out there — something familiar, and both comforting and smothering. Alien and yet so familiar, it&#x27;s like family.

She briefly considers Harry Potter&#x27;s constant encounters with the shades of all he longs for — living paintings of his parents, the shade of Sirius Black.

&gt; [[`===&gt;`-&gt;Hazel pushes you both forward.]]</tw-passagedata><tw-passagedata pid="44" name="Hazel pushes you both forward." tags="dark" position="900,500">Hazel is completely lost the second she crosses the border. Left without a sense at all, she seems to be entirely alone. She is neither cold nor warm, up nor down, and the only sense she has is the sounds of her own immortal body slowly carrying forth its divine metabiology.

//thump thump//

//thump thump//

Hazel is panicked. A desperate push with her powers gives her a barest scrap of space underneath her, but it goes nowhere and avails her not. The distraction is comforting, however.

She pushes the fabric back to where she believes she entered the void... but there is no relationship between space and not space here.

She pushes the space out into a thin line, and travels along it until it reaches the end. It will stretch no further, and she then travels back along its length and turns it. It refuses to turn much, but through this rocking, back and forth on a paper-thin line of wobbling, unstraight space, Hazel finds a lone, straggling path that will take her back into the session.

&gt; (link: &quot;Narrator: Open Tara&#x27;s prompt.&quot;)[(set: $name to &#x27;Tara Tan&#x27;)(goto: &quot;Narrator: Open Tara&#x27;s prompt.&quot;)](if: false)[ [[Narrator: Open Tara&#x27;s prompt.]] ]</tw-passagedata><tw-passagedata pid="45" name="Narrator: Open Tara&#x27;s prompt." tags="dark" position="900,650">Your prompt is live.

You are Tara Tan, and you feel the sensation of being swept up into sudden tangibility.

The darkness resolves into a scene around you, and you&#x27;re filled with inexorable contextual knowledge:

Hazel stands on [[LoGMaR]], feverishly pecking out a nasty message to Ransha.

It seems that Nhamni called Hazel fat, and that Hazel didn&#x27;t like it, and that Ransha doubled down and has been calling Hazel fat even as Nhamni said it was just a figure of speech and that you look like &quot;roundtootheD doofmonsterS.&quot;

Hazel&#x27;s response is to insult Ransha&#x27;s leadership, which Ransha defends passionately.

Ransha&#x27;s response is to insult Hazel&#x27;s competence, highlighting an incident with a treasured cinderemnant receptacle.

Hazel&#x27;s response is a threat to trolls.

Nhamni pipes back in, condescendingly reminding Hazel that her level is &quot;nothinG shorT oF goDhooD.&quot;

Ransha states that even godhood isn&#x27;t enough to kill her.

Sesili regretfully concurs with Ransha.

Nhamni expresses a confidence-based doubt of Ransha&#x27;s claims.

Chehro impugns the very notion of the God Tier.

Nhamni says that he&#x27;s just &quot;feelinG thE covetbrutE.&quot;

&gt; [[`===&gt;`-&gt;Chehro tells Nhamni]]</tw-passagedata><tw-passagedata pid="46" name="Dark" tags="" position="51,946">{&lt;script&gt;
  $(&#x27;body&#x27;).removeClass().addClass(&#x27;dark&#x27;);
  $(&#x27;tw-passage&#x27;).removeClass().addClass(&#x27;dark&#x27;);
&lt;/script&gt;}</tw-passagedata><tw-passagedata pid="47" name="Light" tags="" position="51,796">{&lt;script&gt;
  $(&#x27;body&#x27;).removeClass(&#x27;dark&#x27;);
  $(&#x27;tw-passage&#x27;).removeClass(&#x27;dark&#x27;);
&lt;/script&gt;}</tw-passagedata><tw-passagedata pid="48" name="There is a sort of transition." tags="dark prompt" position="900,950">There is a sort of transition.

Hazel, whose pupils are not showing for some reason, is lying on her Quest Bed sending more messages.

Simone appears, throws her off the bed, and kills her by bashing her hand though Hazel&#x27;s chest and crushing her beating heart while Hazel chops right through her without touching her.

Doomed!Hazel lays there, for a while.

&gt; [[Tara: Kiss Hazel to revive her.]]</tw-passagedata><tw-passagedata pid="49" name="Google Analytics" tags="" position="51,1096">{&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#x27;GoogleAnalyticsObject&#x27;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#x27;script&#x27;,&#x27;//www.google-analytics.com/analytics.js&#x27;,&#x27;ga&#x27;);

  ga(&#x27;create&#x27;, &#x27;UA-60081244-2&#x27;, &#x27;auto&#x27;);
  ga(&#x27;send&#x27;, &#x27;pageview&#x27;);

&lt;/script&gt;}</tw-passagedata><tw-passagedata pid="50" name="Scroll Top" tags="" position="50,2150">Your Scroll Top is a gleaming brass typewriter embedded in a floating grey rock covered with purple grass and moss. A single, unbroken loop of straw-colored papyrus is tucked into the mercurial feed roll.

You use it to travel through time by typing about the scene where you want to be, then spinning the cylinder knob toward you to travel into the past.

It&#x27;s incredibly silly, but what isn&#x27;t, at this point?

You&#x27;ve tried spinning the knob away from yourself to travel into the future, but this hasn&#x27;t worked very well for you yet. But you can&#x27;t help feeling like it&#x27;s something you ought to be able to do, if you just had the sense for it.</tw-passagedata><tw-passagedata pid="51" name="Tara: Kiss Hazel to revive her." tags="dark prompt" position="900,1100">You transition to Hazel&#x27;s golden bedroom on Prospit. She wakes up, your mouth on hers, explodes into a furious blush, and ever so slightly parts her lips.

You pull back.

An eye-shatteringly bright golden room lays before you, filled with the sorts of things your friend and admirer Hazel has sent to you. Two replicas of Inuyasha&#x27;s Tetsusaiga, in both sword and fang form. A wall scroll with a woodcut of her great-grandpa — seems like he was kind of a big deal. A volleyball, a copy of Mannequin, volumes of various shonen manga, that manga where King Arthur was secretly a pretty teenage girl, and a tablet computer: a high end Cintiq.

Hazel thanks you effusively, overly so, for saving her life. This Hazel, from further back in the timeline, has the fires of her ardor for Tara stoked to their absolute peak, and you have just thrown uranium into the fire.

If that makes sense.

It doesn&#x27;t, but okay. 

Doomed!Hazel regards you with poorly-concealed adoration.

You are uncomfortable with the amount of attention you are getting; it is as though the sun is shining on you and only you.

And the empty white eyes are NOT helping.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Tara thank you soooooo much. I knew it would be you!&quot;&lt;/span&gt;{
}
0. Steer the conversation into asking how she died
0. Ask her what&#x27;s going on with everybody else
0. Leave the room to try to explore
0. Wait and see what happens
{
}&gt; [[Tara: Ask Hazel what&#x27;s going on with everybody else.]]</tw-passagedata><tw-passagedata pid="52" name="Tara: Ask Hazel what&#x27;s going on with everybody else." tags="dark prompt" position="900,1250">Hazel tells you a whole bunch of things that are going on.

It seems that this is taking place not far from when Hazel really started getting antsy about the God Tier, so there are shenanigans afoot everywhere.

This is right before you went to [[LoLaS]] to help Zagreb. Liam is spending a lot of time mad-sciencing, Travis is being standoffish and shitty with everyone, Olivia is mooning over Liam, Ethan is making grossly hilarious shit with the [[Alchemiter]].

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Is this one of your drug dealing loops? Where&#x27;s the Iconic Bassist&#x27;s Wear?&quot;&lt;/span&gt; Hazel asks, referring to the Keith Richards getup you wore through one of your money-laundering runs.{
}
0. Tell her she&#x27;s dead
0. Play along a little longer, and ask her what she knows about Simone
{
}&gt; [[Tara: Inform Hazel of her death.]]</tw-passagedata><tw-passagedata pid="53" name="Tara: Inform Hazel of her death." tags="dark prompt" position="900,1400">She raises an eyebrow. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Yeah, I just lost my normal body. I&#x27;m going to go put it on my quest bed now.&quot;&lt;/span&gt;

She whisks the two of you over to her Quest Bed, but when you arrive, the body is gone.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Fuck,&quot;&lt;/span&gt; Hazel intones lowly. She immediately tries to scry its location, but to the surprise of no one, she can&#x27;t seem to find it. 
&lt;span class=&quot;hazel-text&quot;&gt;&quot;Fuuuuuuuuuck!&quot;&lt;/span&gt;

You scan your surroundings. You think you see something off in the distance, behind the trees.{
}
0. Try to go back in time and see what Simone is up to
0. Try to get Hazel to investigate the woods
0. Go investigate the woods on your own
0. Try to query the other players
0. Try to contact the trolls
{
}&gt; [[Tara: Investigate the woods.]]</tw-passagedata><tw-passagedata pid="54" name="Tara: Investigate the woods." tags="dark" position="1100,50">&lt;span class=&quot;hazel-text&quot;&gt;&quot;where are you going?&quot;&lt;/span&gt; Hazel asks, as you make your way out towards the edge. Out here, the further you get away from Hazel, things seem to have less detail, less substance.

It&#x27;s almost romantic.

She&#x27;s torn between watching you and getting back to her adventure, as you step out into the incresasingly dreamlike and insubstantial woods. Your hand alights on a very long black fiber of some sort. You begin to examine the curiosity as the scene changes around you.

You find yourself on the outside of a castle on what you presume to be [[LoCaB]].

&gt; [[`===&gt;`-&gt;Hazel is up on the battlements]]</tw-passagedata><tw-passagedata pid="55" name="LoGMaR" tags="info" position="50,1550">The Land of Grunge Music and Rain. It&#x27;s (if: $name is &#x27;Hazel Saigo&#x27;)[Carver&#x27;s](else:)[Liam&#x27;s] planet.</tw-passagedata><tw-passagedata pid="56" name="LoLaS" tags="info" position="50,1400">The Land of Light and Snow. It&#x27;s (if: $name is &#x27;Tara Tan&#x27;)[your best friend] Olivia&#x27;s planet.</tw-passagedata><tw-passagedata pid="57" name="LoCaB" tags="info" position="50,1700">The Land of Chasms and Bastions.  It&#x27;s (if: $name is &#x27;Hazel Saigo&#x27; or $name is &#x27;Doomed!Hazel Saigo&#x27;)[your best friend] Ethan&#x27;s planet.</tw-passagedata><tw-passagedata pid="58" name="Tara: Explore the edge of the space." tags="dark" position="1100,349">You make your way to the edge, certain that you&#x27;re being watched. There is a massive chasm here, and you reflect on how much you may have missed out on by never doing a quest here.

There is a commotion at the keep, where apparently MC Croco is addressing the Beta Kids?

You are attacked suddenly from the cover of darkness, but as you reel from the wound in your side, you lay eyes on what could only be Ransha and snort reflexively.

&gt; [[`===&gt;`-&gt;The first thing that strikes you]]</tw-passagedata><tw-passagedata pid="59" name="Tara: Ow, fuck." tags="dark" position="1100,650">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;ow, fuck,&quot;&lt;/span&gt; you hear yourself shout. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;what the fuck, ransha?&quot;&lt;/span&gt;

&quot;HAHAHAHA&quot; Ransha laughs, peals of musical laughter springing joyously from her bright fuschia lips. It&#x27;s difficult to reconcile the pain in your side, your frustration, and the cherubic ruffian that you see.

&quot;YOU ARE SUCH A FUCKING WEAKLING OH MY GRODD&quot;

She is loud, but not as shouty as you previously suspected. She seems unable to keep song entirely from her voice, so even her normal talk leaves the unmistakable impression of... well, Mary Poppins?

You regard her with what you hope is your most withering gaze of condescension. 

&quot;THAT&#x27;S THE &#x27;DON&#x27;T FUCKING PUSH ME ON THE NHAMNI FRONT&#x27; GENTLE WARNING. I FUCKING HATE HER BUT I DON&#x27;T THINK SHE THINKS ABOUT ME AT ALL&quot;

She pauses for a moment of consideration, before the childlike Condesce seems ready to continue.

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha&#x27;s gesture of camaraderie]]</tw-passagedata><tw-passagedata pid="60" name="Tara: Get up stubbornly. Ow, fuck." tags="dark" position="1100,950">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i figured you didn&#x27;t kill me for totally impersonal predestined paradox reasons of needing me,&quot;&lt;/span&gt; you say, struggling to get back on your feet. Ransha does not appear to make a move to help you.

&quot;TOUCHE&quot; She frowns ever so slightly. &quot;I WAS HOPING HAZEL WOULD BE HERE, I WANTED TO KILL HER&quot;

She looks at you in a way you assume is meant to generate cameraderie, but you don&#x27;t feel it on account of the //three gaping wounds in your fucking side//.

&quot;I KNOW YOU KNOW WHAT I&#x27;M TALKING ABOUT. NOW I HAVE TO SETTLE FOR KILLING DREAM HAZEL OVER THERE.&quot;

&gt; [[`===&gt;`-&gt;Tara: How the fuck are you even here anyway?]]</tw-passagedata><tw-passagedata pid="61" name="Tara: Crouch down furtively." tags="dark prompt" position="1250,350">You crouch down, matching Ransha&#x27;s stance. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;you&#x27;re asleep, but your dream self is dead,&quot;&lt;/span&gt; you whisper urgently, &lt;span class=&quot;tara-text dark&quot;&gt;&quot;so that&#x27;s why you&#x27;re here?&quot;&lt;/span&gt; You pause, to consider this. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i don&#x27;t get what&#x27;s with all the tactical espionage action.&quot;&lt;/span&gt;

&quot;THESE BUBBLES CONNECT ALL SORTS OF WHO KNOWS WHAT, TARA. I&#x27;M NOT IN ANY DANGER HERE EXCEPT TO MY DIGNITY, BECAUSE IF I GET KILLED I&#x27;LL JUST WAKE UP. YOU, ON THE OTHER WEBBED MANIPULATOR, ARE RIGHT HERE WITH YOUR REAL BODY. AND IF YOU GET KILLED HERE, WHO KNOWS IF A RELUCTANT SMOOCH FROM MY PROTEIN FLAPS WILL AWAKEN YOUR DREAM SELF.&quot;

The diminuitive despot waves you to follow her. &quot;COME ON&quot; she says, before pulling a ring from a pocket and putting it on.

Your [[Ray-B&amp;s]] tell you that it is an **Authentic Legion Flight Ring**.

While you&#x27;re doing that, you check out the rest of Ransha&#x27;s gear. Seems the trident is serious business — a **Threat of the Emperor&#x27;s 2x3dent**. She wears a short red jacket over a pink dress that seems awfully familiar — the **Cetracean Dreamer**, which is awful in pretty much every way except it gives a gargantuan bonus to **Wishful Thinking**, which you previously had not known was a stat.

She makes her way over to where Doomed!Hazel and Ethan were, and looks down at you expectantly.{
}
0. Climb the wall
0. Toss your dignity in the gutter and ask her for a lift
0. Don&#x27;t follow her at all, and look for the edge of the dream bubble instead
{
}&gt; [[Tara: Resent that the narration would ever allow you to willingly do something undignified.-&gt;Tara: Climb the wall.]]
&gt; [[Tara: Climb the wall while trying not to look too uncool.-&gt;Tara: Climb the wall.]]
&gt; [[Tara: So we&#x27;re in Hazel&#x27;s dream bubble from a doomed timeline I guess.-&gt;Tara: Climb the wall.]]</tw-passagedata><tw-passagedata pid="62" name="Tara: Climb the wall." tags="dark" position="1250,500">You don&#x27;t manage to look cool — in fact, Ransha&#x27;s smirk lets you know all about that in a fashion much more detailed than any mirror — but end up looking up at Ransha, who is unpleasantly pleasant to look at, and definitely does look cool hanging there in the air.

She hurls her trident at an unseen foe, shortly followed by an explosion of effervescent laughter. &quot;WAKE THE FUCK UP, SPACE CASE. YOU DED&quot;

&gt; [[`===&gt;`-&gt;You put your Breastwork Culmination to the test]]</tw-passagedata><tw-passagedata pid="63" name="Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead." tags="dark prompt" position="1550,50">You seem awfully comfortable adding pages to this choose your own adventure.

You snag the trident out of Doomed!Hazel&#x27;s back, earning a pained &lt;span class=&quot;hazel-text&quot;&gt;&quot;whumpf&quot;&lt;/span&gt; from her in response. Hazel begins looking at her hands, considering her mortality; you take the opportunity to slap one of those hands full of [[The Colt]].

You place a palm gently on Doomed!Hazel&#x27;s shoulder, locking with the eerie white eyes. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i&#x27;m sorry hazel, i think you&#x27;re dead.&quot;&lt;/span&gt;

Hazel&#x27;s eyes widen as she takes it all in. This is clearly not how this happened.

&gt; (link: &quot;Narrator: Open Doomed!Hazel&#x27;s prompt.&quot;)[(set: $name to &#x27;Doomed!Hazel Saigo&#x27;)(goto: &quot;Narrator: Open Doomed!Hazel&#x27;s prompt.&quot;)](if: false)[ [[Narrator: Open Doomed!Hazel&#x27;s prompt.]] ]

Or:

&gt; [[Tara: Drop the cool act and rush over to check up on Ransha.-&gt;Tara rushes over to the corner of the allure]]</tw-passagedata><tw-passagedata pid="64" name="Empty" tags="" position="53,645"></tw-passagedata><tw-passagedata pid="65" name="Tara rushes over to the corner of the allure" tags="dark prompt" position="1450,200">You rush over to the corner of the allure, considering the heft of the massive rock on top of the delicate dynast. She doesn&#x27;t seem to have disappeared?

You&#x27;re not sure if that&#x27;s a good thing or not. Or really anything.

A pool the color of raspberry Starburst grows around the bottom of the rock. Ransha must have a lot of... fluids, in her?{
}
0. Try to move rock
0. Check for vitals before you get too worked up
0. Holy shit, no one could survive that. Move on, examine surroundings
{
}&gt; [[Tara: Check Ransha&#x27;s health through the Ray-B&amp;s.-&gt;Tara: Check Ransha&#x27;s health.]]
&gt; [[Tara: Scan the surroundings for anything threatening.-&gt;Tara: Check Ransha&#x27;s health.]]
&gt; [[Tara: Fail to look as cool as Ransha holding the trident, probably.-&gt;Tara: Check Ransha&#x27;s health.]]</tw-passagedata><tw-passagedata pid="66" name="Narrator: Open Doomed!Hazel&#x27;s prompt." tags="dark prompt" position="1700,200">Your prompt is live.

You are Doomed!Hazel, and you remember all of your life until the first time you scouted out your Quest Bed. It&#x27;s after that that things go a little... differently.

You briefly considers the revolver in your hand. You&#x27;re not above revolvers, per se. It feels comfortably lethal and gives you a sense of power that you need right now, even though you aren&#x27;t totally in love with it.{
}
0. Join Tara
0. Examine surroundings
0. Try to piece together the events that led to your death, not counting the trident to the back
{
}&gt; [[Doomed!Hazel: Hand full of Colt, walk towards Tara.-&gt;Doomed!Hazel: Walk towards Tara.]]
&gt; [[Doomed!Hazel: If Tara can do multiple things at once so can I!-&gt;Doomed!Hazel: Walk towards Tara.]]
&gt; [[Doomed!Hazel: Know the surroundings without looking.-&gt;Doomed!Hazel: Walk towards Tara.]]
&gt; [[Doomed!Hazel: Wonder what happened here.-&gt;Doomed!Hazel: Walk towards Tara.]]
&gt; [[Doomed!Hazel: Wonder why there is liquid Starburst coming from that rock over there.-&gt;Doomed!Hazel: Walk towards Tara.]]
&gt; [[Doomed!Hazel: Ask Tara where we are.-&gt;Doomed!Hazel: Walk towards Tara.]]</tw-passagedata><tw-passagedata pid="67" name="Doomed!Hazel: Walk towards Tara." tags="dark" position="1700,350">You begin the laborious process of dragging your semi-functional meat suit over towards Tara with a shuffling gait that makes a zombie look sprightly. Every step is a new dimension of pain.

You contemplate using your Space powers to know your surroundings, but you&#x27;re suddenly oppressed by the incredibly factual, objective truth that as much as it hurts to move, the idea of concentrating is even less appealing.

You&#x27;re so hurt right now, you know that if any enemy were to come, you would have nothing left to fight. Not that it would stop you from trying — you&#x27;re made of sterner stuff than that — but you know that you must consider yourself before anything else right now.

You decide to turn your neck, which is an odd thing in and of itself, you consider. Haven&#x27;t really done much of that in a while!

You save yourself the trouble of wondering where you are, though. You&#x27;re on [[LoCaB]], where you found the base of operations of the Beta Kids.

Ethan is dead. You clearly saw Ethan alive in the clouds. 

You suddenly understand jack shit.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Wonder about the rock]]</tw-passagedata><tw-passagedata pid="68" name="Tara: Check Ransha&#x27;s health." tags="dark" position="1450,350">You fiddle with the settings on the [[Ray-B&amp;s]] to check Ransha&#x27;s vitals, but the heads-up display casually informs you that the rock that smushes her is, in fact, not alive. You scour the surroundings furtively through your augmented reality lenses, looking for Ransha&#x27;s unseen assailant.

No sign emerges.

You decide that you do, in fact, look pretty cool carrying the trident. It doesn&#x27;t really work with Ransha&#x27;s outfit, but if she strikes a wide-legged pose, it seems to work for her.

You reach down and starts trying to shift the boulder, which emits a muffled cry of protest.

&gt; [[`===&gt;`-&gt;Tara: Lift the rock]]</tw-passagedata><tw-passagedata pid="69" name="Chehro tells Nhamni" tags="dark" position="900,800">Chehro, then, tells Nhamni:

&quot;You think you are swell with the notion that your ability to stave off death despite your incompetence places you above your peers in power and influence.

&quot;But you are a child, and know nothing of either.

&quot;Let me tell you what real power is. Real power is taking a being&#x27;s life into your hands and molding it in a million seen and unseen ways until all that they are is a reflection of your desires. Real power is to hold the fate of trillions in your hands. 

&quot;You&#x27;ve lived in a tower, your whole life and at the moment you stretch your legs, you stretch your imagination and ego to suppose you have power? Let me tell you, Nhamni Inza — I, Hierarch Kavon, have known power.

&quot;I put you in that tower as a grub. I turned the lush orchards that surrounded it into an impassable desert to prevent your escape. And I did it all to overthrow the sea-dwellers. KAVON is POWER.&quot;

&gt; [[`===&gt;`-&gt;There is a sort of transition.]]</tw-passagedata><tw-passagedata pid="70" name="Hazel is up on the battlements" tags="dark prompt" position="1100,200">Hazel is up on the battlements with Ethan, watching something very intently.

For some ungodly reason, MC Croco is with them.

You start to roll up the fiber as you beckon for Hazel&#x27;s attention, but you can&#x27;t seem to get it. She and Ethan whisper quietly as you make your way over to the stone wall.

You feel as though you are being watched, intently.

MC Croco fumbles with a microphone.{
}
0. Climb the wall to Hazel
0. Go out and examine the periphery of the space
{
}&gt; [[Tara: Explore the edge of the space.]]</tw-passagedata><tw-passagedata pid="71" name="The first thing that strikes you" tags="dark prompt" position="1100,500">The first thing that strikes you after the trident is that Ransha is really, really pretty. In the cutest possible way — despite her nearly objective beauty and recent dalliances with the notions of kissing girls, prurient thoughts are slower to come to mind than wondering what it would be like to dress her up.

Even her grunts of exertion are musical and pleasing to the ear. She looks, and sounds, like she fell out of an alien storybook. You called her Ariel in your email; you were even closer than you thought.

Grey-skinned and black-haired, she doesn&#x27;t break five feet tall even with her raised heels. She&#x27;s waifishly thin, with arms like little sticks, hair down to the back of her thighs, finlike protrusions on her neck, and webbing on her hands to the first knuckle, betraying her aquatic nature. She has two colorful, candy corn horns gently sweeping from the sides of her forehead that curl up like butterfly antennae.

Those break five feet.

You&#x27;re pretty sure that, if you count the horns, she&#x27;s slightly taller than you.

She snarls, revealing perfectly white teeth that seem to have a little zig-zag pattern on them until you realize that she has two rows of pointy little dagger teeth.

Okay, that&#x27;s not so pretty.

Ransha twirls her double-ended trident. Despite her petite size, she carries herself like a proficient warrior.{
}
0. What the fuck, Ransha
0. What the FUCK, Ransha
0. Get ready to strife
0. HAAAAAAAAAAA&amp;shy;ZZZZZZEEEEEEEEEEEE&amp;shy;LLLLLLLLLLLLL
{
}&gt; [[Tara: Ow, fuck.-&gt;Tara: Ow, fuck.]]
&gt; [[Tara: What the fuck, Ransha?-&gt;Tara: Ow, fuck.]]</tw-passagedata><tw-passagedata pid="72" name="Tara: Listen to Ransha&#x27;s gesture of camaraderie" tags="dark prompt" position="1100,800">&quot;WHERE I AM FROM, I&#x27;D BE PERFECTLY JUSTIFIED IN KILLING YOU FOR THAT. ANNOYING ME. BUT I DIDN&#x27;T. AS A GESTURE OF CAMER... ODDRY? CAMERA DREE

&quot;AH WHAT THE FUCK EVER

&quot;AS A FUCKING OLIVE BRANCH BETWEEN THE NATIONS OF PINKY-BROWN SHITLOAFS AND THE ETERNAL EMPIRE&quot;

Her eyes fix on your wound. You can&#x27;t help noticing that they&#x27;re yellow.

&quot;FUCK YOUR BLOOD IS SO FUCKING WEIRD&quot;{
}
0. What the everliving fuck are you doing here, Ransha?
0. How is this possible?
0. Why are you spying on Hazel, Ransha?
0. In my culture, it&#x27;s appropriate to, you know, shake hands or hug or something
{
}&gt; [[Tara: Get up stubbornly. Ow, fuck.]]
&gt; [[Tara: I figured you didn&#x27;t kill me for totally impersonal predestined paradox reasons of needing me.-&gt;Tara: Get up stubbornly. Ow, fuck.]]
&gt; [[Tara: How the fuck are you even here anyway?-&gt;Tara: Get up stubbornly. Ow, fuck.]]</tw-passagedata><tw-passagedata pid="73" name="Tara: How the fuck are you even here anyway?" tags="dark prompt" position="1250,200">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;how the fuck are you even here anyway?&quot;&lt;/span&gt; you ask.

She considers your question. &quot;DREAM BUBBLES. THEY ARE THIS FUCKED-UP DREAM PLACE YOU GO TO WHEN YOU&#x27;RE DEAD AND DREAMING, AND YOU USUALLY CAN&#x27;T REMEMBER THAT YOU&#x27;RE DEAD. AND BY YOU, I MEAN PEOPLE OTHER THAN ME, I ALWAYS KNOW.&quot;

The compact Condesce casts a wide, wary glance around.

&quot;SOMETIMES DREAM BUBBLES BUMP INTO EACH OTHER AND THERE IS SORT OF A SHARED BORDER, AND YOU CAN CROSS OVER TO ANOTHER DREAM BUBBLE. BUT IF YOU&#x27;RE DEAD YOU CAN&#x27;T EXIST OUTSIDE THE BUBBLES, WHICH IS WHY I DON&#x27;T JUST HITCH A RIDE TO YOUR MEDIUM AND FIX EVERYTHING WITH MY ELITE SKILLS.&quot;

You grimace involuntarily at the notion of Ransha &quot;fixing&quot; your session.

&quot;OH FUCK YOU TOO, TARA,&quot; the aquatic troll chimes to your visible grimace. She drops into a low, wary crouch. Her eyes flit about, scanning for something.

One webbed hand goes to her belt and into a bag, and comes out with a crab stuck around her wrist.  The crab has a curiously shaped barrel coming out of its back.{
}
0. Look around warily, yourself
0. Why are you spying on Hazel, Ransha?
0. Does that mean your dream bubble is around here?
0. Haaaaaaaaaazel!
{
}&gt; [[Tara: Crouch down furtively even though it hurts like a motherfucker and you are stemming the bleeding with your own arms, but act like everything is totally cool because that&#x27;s what Dean would do.-&gt;Tara: Crouch down furtively.]]
&gt; [[Tara: Put two and two together.-&gt;Tara: Crouch down furtively.]]
&gt; [[Tara: You&#x27;re asleep, but your dream self is dead, so that&#x27;s why you&#x27;re here?-&gt;Tara: Crouch down furtively.]]
&gt; [[Tara: I don&#x27;t get what&#x27;s with all the tactical espionage action.-&gt;Tara: Crouch down furtively.]]</tw-passagedata><tw-passagedata pid="74" name="Ray-B&amp;s" tags="info" position="50,2000">Your Ray-B&amp;s are an elaborate set of sunglasses that double as a computer. They&#x27;re like a much less shitty Google Glass that makes you look like a cyborg from the 1980s rather than the 2010s.</tw-passagedata><tw-passagedata pid="75" name="You put your Breastwork Culmination to the test" tags="dark" position="1250,650">You put your Breastwork Culmination to the test as you hoist yourself over the battlement, only to see a scene of vast carnage. The inside of this castle is wrecked, and Ethan lays dead where he lay in ambush with Hazel before. Hazel is out where your keen, deerstalker cap-derived detective skills tell you she would have confronted Simone or some other Beta Kid — and now she has a fork in her.

She&#x27;s done.

You glare angrily at Ransha, despite knowing that she didn&#x27;t really kill your friend.

&quot;WAKEY WAKEY DIM AND SPACEY&quot;

Rage surges though you as the hidden mother bear within you surges to life. You begin to unleash the most Tara-esque possible diatribe to knock Ransha down a peg.

&gt; [[`===&gt;`-&gt;You need some more time]]</tw-passagedata><tw-passagedata pid="76" name="You need some more time" tags="dark" position="1250,800">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you —&quot;&lt;/span&gt; you start.

Shit. You need some more time to come up with some really good shit to say.

You see Doomed!Hazel prop herself up on one arm, utterly mystified as to why she could still be alive. Which is weird, because she doesn&#x27;t seem to remember what killed her at all.

You pivot from momentary speechlessness, gearing up to unleash a less articulate, more passionate outburst about Ransha&#x27;s nearly immeasurable shortcomings. The target of your acrimony attentively watches you, queueing up her own loud outburst as a defensive mechanism in response, when the finlike protrusion on her cheek twitches slightly and her head begins to turn.

It&#x27;s about this point that Ransha gets hit by an enormous rock.

The rock, about the size of a mail drop box, hits Ransha with bone-crushing force, immediately turning one arm into a stomach-churning, flailing hose of meat.

The rest of her conforms to the shape of the odd object, spinning wildly through the air before hitting the ground with a crunch and bouncing again, sending one perfectly-formed leg flying away from the rest of her. Her fuschia blood trails in a spiral from the crudely-severed end, while the large rock and the rest of her come to a rest in the corner of the wrecked allure, which I cannot believe is the word for that and yet it is.

You scan for the assailant but see no sign of one.

&gt; [[`===&gt;`-&gt;Hazel gets up]]</tw-passagedata><tw-passagedata pid="77" name="Hazel gets up" tags="dark prompt" position="1250,950">In the periphery of your vision, you see Doomed!Hazel continue the laborious process of getting her battered and bruised body off the ground.

With excruciating pain, your friend gets her weight onto one leg and stands in one smooth, if graceless motion, her other foot jerking out to stabilize her. Her clothes are wrecked — she was wearing the **Battousai&#x27;s Wandering Days** for a set bonus with the **Sakabatou** — but for now, she just tugs things into a loose facsimile of decency and turns to face you.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Why am I still alive, Tara?&quot;&lt;/span&gt; Tears leak unbidden from the last blood of the last samurai. Her eerie white eyes fix on you.{
}
0. Tell Hazel why she&#x27;s still alive
0. Tell Hazel she&#x27;s really dead
0. Check up on Ransha
0. Just try to help Hazel
{
}&gt; [[Tara: Take the trident for self-defense.-&gt;Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.]]
&gt; [[Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.-&gt;Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.]]
&gt; [[Tara: I&#x27;m not your Tara. I&#x27;m not sure if I can help you, but I&#x27;ll try.-&gt;Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.]]
&gt; [[Tara: But I need to do something first.-&gt;Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.]]
&gt; [[Tara: Give Doomed!Hazel your revolver.-&gt;Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.]]</tw-passagedata><tw-passagedata pid="78" name="The Colt" tags="" position="250,2150">Your revolver is an exact replica of The Colt from your favorite show, Supernatural, made using the Alchemiter.

In the show, this weapon has the legendary ability to kill anything shot by one of its thirteen bullets. The &quot;real&quot; version is considerably less deadly, but is quite effective against demons and other supernatural beings. It helps that you&#x27;re not limited to thirteen bullets, because you can always just alchemize a limitless number of them.</tw-passagedata><tw-passagedata pid="79" name="Doomed!Hazel: Wonder about the rock" tags="dark prompt" position="1700,500">You wonder why there is liquid Starburst pouring out from underneath a rock Tara is struggling to lift. This seems like an unlikely turn of events.

You try to speak, but you&#x27;re still having trouble with your voice. &lt;span class=&quot;hazel-text&quot;&gt;&quot;What happened?&quot;&lt;/span&gt; you ask her.

She&#x27;s at a loss. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, there&#x27;s like. someone under this rock and i think they&#x27;re still alive,&quot;&lt;/span&gt; she offers.

The solution seems clear to you. &lt;span class=&quot;hazel-text&quot;&gt;&quot;So captchalogue the rock.&quot;&lt;/span&gt;

Tara&#x27;s quizzical expression implies both that she has no fucking clue what you are talking about and also bottomless surprise that you aren&#x27;t literally killing yourself trying to use your powers when ordinary tools would do just fine.

Whatever, you think, as you gruntingly pull your damaged [[iShades]] on and captchalogue the rock, which is now stored in the cloud.

Literally in the clouds of Skaia, actually.

The contused figure underneath is in absolutely wretched shape. It&#x27;s an unrecognizable hash of grey skin and crayon-colored meat. Two curling butterfly antennae made of... candy corn(?) adorn the figure&#x27;s head. You can tell it&#x27;s humanoid because of the hands and single foot, but the head looks... bad.{
}
0. Ask Tara: Who or what the fuck is that?
0. Try to help the damaged, but apparently breathing(?) figure
0. Fuck this, go grieve Ethan
0. Ignore all of this. You&#x27;re fucking dead. Go to Heaven
{
}&gt; [[Doomed!Hazel: Realize the truth, if you saw Ethan in the clouds Alive and he&#x27;s dead then you&#x27;re doomed.-&gt;Doomed!Hazel: Kiss Tara.]]
&gt; [[Doomed!Hazel: Take a second, mostly because breathing hurts like fuck.-&gt;Doomed!Hazel: Kiss Tara.]]
&gt; [[Doomed!Hazel: Try to awkwardly turn Tara around and give her the kiss you&#x27;ve always wanted.-&gt;Doomed!Hazel: Kiss Tara.]]
&gt; [[Doomed!Hazel: Consider helping, but then who are you kidding, you can&#x27;t help anyone right now.-&gt;Doomed!Hazel: Kiss Tara.]]</tw-passagedata><tw-passagedata pid="80" name="iShades" tags="" position="1150,2200">The iShades are a pair of sleek white sunglasses with a Captcharoid camera built-in, which you use to convert objects to digital punch cards stored in the clouds of Skaia.

Yours are half-broken, but they still work.</tw-passagedata><tw-passagedata pid="81" name="Tara: Lift the rock" tags="dark prompt" position="1450,500">Dream rocks are still fucking hard to lift, you are discovering.

You hear Hazel&#x27;s voice behind you, raspy and faltering. &lt;span class=&quot;hazel-text&quot;&gt;&quot;What happened?&quot;&lt;/span&gt;

You&#x27;re not even sure how you can explain everything that happened to this Hazel. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, there&#x27;s like. someone under this rock and i think they&#x27;re still alive.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;So captchalogue the rock.&quot;&lt;/span&gt;

You stare at Doomed!Hazel with an ambivalent mixture of //What the fuck are you even talking about?// and //The Hazel I know would never use tools over magicky space powers!// in your mind as she puts on a half-broken pair of sleek white sunglasses and glances at the rock, which vanishes.

Huh.

The contused remains of Ransha underneath are in absolutely wretched shape. She&#x27;s an unrecognizable hash of grey skin and crayon-colored meat. Her candy corn horns are surprisingly intact, but the head they&#x27;re attached to seems to be in dire shape.{
}
0. Try to administer first aid as you wonder how anything could possibly survive that
0. Ask Ransha what to do
0. Listen to your inner Sesili and ignore Ransha
0. Examine Hazel
{
}&gt; [[Tara: Be concerned.-&gt;Tara: Turn back time.]]
&gt; [[Tara: Shit. I thought you woke up, Ransha.-&gt;Tara: Turn back time.]]
&gt; [[Tara: Hold on.-&gt;Tara: Turn back time.]]
&gt; [[Tara: Turn back time to restore Ransha to when she was intact.-&gt;Tara: Turn back time.]]</tw-passagedata><tw-passagedata pid="82" name="Tara: Turn back time." tags="dark" position="1450,650">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;shit,&quot;&lt;/span&gt; you mutter. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i thought you woke up, ransha. hold on&quot;&lt;/span&gt;

You begin the process of turning back time, but as you watch, you realize the broken form is starting to heal itsel —

//twist//

&gt; [[`===&gt;`-&gt;Tara: Be kissed]]</tw-passagedata><tw-passagedata pid="83" name="Tara: Be kissed" tags="dark" position="1450,800">You&#x27;re very surprised to find Hazel planting a wet one on your lips.

Velvety-smooth yet very firm and insistent, the sensation is as immediately pleasant as it is //FUCKING NUTS WHY WOULD ANYONE DO THAT oh right hazel//.

You&#x27;re not sure what to do with this. This is starting to become a familiar, homey feeling.

Your mind races with the faculties of someone who can cheat and give themselves a little bit of extra time to think, but you&#x27;re interrupted by the poke of a trident underneath your chin.

&gt; [[`===&gt;`-&gt;Tara: Be poked with a trident]]</tw-passagedata><tw-passagedata pid="84" name="Tara: Be poked with a trident" tags="dark" position="1450,950">You break off the kiss with a yelp of pain, your lower lips tingling a little bit as a drop of blood wells beneath.

Doomed!Hazel snarls and focuses on the shattered hand grabbing the bottom of the trident before snatching it with renewed strength. 

&quot;&lt;span class=&quot;ransha-text whisper&quot;&gt;SLF FX MUH&lt;/span&gt;&quot; a flapping mash of teeth blurts.

You apply the temporal magic to the already-knitting form, and the troll girl knits back together in a split-second as Doomed!Hazel kicks her hand off the far end of the trident. You feel Hazel&#x27;s hand linger on yours for a moment before she pulls it back sheepishly.

Diminutive and dainty like a porcelain doll, the grey-skinned girl locks eyes with the tall, amber-eyed girl.

Hazel and Ransha begin fighting almost instantly.

&gt; [[`===&gt;`-&gt;Tara: Watch the fight]]</tw-passagedata><tw-passagedata pid="85" name="Doomed!Hazel: Kiss Tara." tags="dark" position="1700,650">Tara hovers over the pile of meat, concentrating intently, which you judge to be an opportune time for you to spin her around and kiss her.

The surprised girl&#x27;s lips are softer than you could have imagined.

You only have a split-second to enjoy yourself, though, before she pulls away with a yelp of pain, a drop of crimson blood welling underneath her chin.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Watch Ransha grab the trident]]</tw-passagedata><tw-passagedata pid="86" name="Tara: Watch the fight" tags="dark" position="1450,1100">Even with your naturally time-enhanced senses, you&#x27;re having trouble keeping up.

In a quick series of moves, you watch near-helplessly as Ransha trips the alternative princess, who recovers into a kip-up and kicks the fuck out of her assailant in a three-fold maneuver, knocking her off-balance, in the solar plexus, and then the chin. The alien girl responds by snapping her sharp, broken teeth onto your doomed friend&#x27;s retreating ankle, and delicately but savagely flips her over her shoulder into a craggy pile of rubble.

Your friend gasps as she succumbs to the work of gravity, and you&#x27;re startled to feel the force of Hazel&#x27;s impact reverberate through the disrepaired masonry under your feet.

In a flash, Hazel swings out a curiously-intact leg to ensnare Ransha, pulling her into a chokehold. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Go to sleep, Fish bitch!&quot;&lt;/span&gt; you hear the Hafu heiress say.

It&#x27;s hard to watch as the fight degenerates from there, and you&#x27;re not really sure how you can help. Or even who you would help, really?

Your thoughts turn unbidden to what just happened as you lose track of the fight for a moment.

&gt; [[`===&gt;`-&gt;Tara: Consider the kiss]]</tw-passagedata><tw-passagedata pid="87" name="Tara: Consider the kiss" tags="dark" position="1450,1250">You reluctantly take mental stock of the current inventory of people who have kissed you so far.
* [**Your future self**]&lt;future_kiss|. (click: ?future_kiss)[She kissed you because of time shenanigans. You don&#x27;t even want to think about it.]
* [**Travis**]&lt;travis_kiss|. (click: ?travis_kiss)[He kissed you right after he kissed Olivia&#x27;s dead body to wake up her dream self. So, uh, yeah.]
* [**Doomed!Hazel**]&lt;hazel_kiss|. (click: ?hazel_kiss)[You&#x27;re having enough trouble with your feelings about her not-dead Alpha timeline self.]
You&#x27;re not really happy with the state of things. Before, you had always imagined that your virgin lips would be baptized by the gentle kiss of a tender, affectionate boy, who in your mind&#x27;s eye always bore an uncanny resemblance to [[Dean Winchester]] from Supernatural.

You had not really been expecting that all of your first experiences in this area were pretty much just going to be horribly awkward, and half-unwelcome, and //out of your control.//

You notice, for the first time, the deep, volcanic simmer of a long-brewing anger in yourself.

You snap to attention when you realize that Ransha has by now gotten Hazel on the ground, and is sitting atop her.

&gt; [[`===&gt;`-&gt;Tara: Watch Ransha hit Hazel]]</tw-passagedata><tw-passagedata pid="88" name="Tara: Watch Ransha hit Hazel" tags="dark prompt" position="1450,1400">Ransha is a more experienced fighter, and much stronger, so she has clearly been getting the better of the exchanges, but Hazel will not stay down.

Typical Hazel.

The grey-skinned girl grabs an exhausted hand, twists it into something loosely resembling a fist, and winds up to hit Hazel with it.

&quot;S&lt;span class=&quot;ransha-text whisper&quot;&gt;TOP&lt;/span&gt; K&lt;span class=&quot;ransha-text whisper&quot;&gt;ILLING&lt;/span&gt; Y&lt;span class=&quot;ransha-text whisper&quot;&gt;OURS&lt;/span&gt; —&quot; she begins.

You sigh, and step forward to kick Ransha in the head. //Reeeeeaaally hard.//

She tumbles away, dazed.

Doomed!Hazel sits up, suddenly not the slightest bit worse for wear. It doesn&#x27;t seem to be odd to her that she was nine-tenths dead before the fight even started, yet she was able to put in a decent showing against a murderous alien.

You extend a hand to the self-conscious samurai, pulling her to her feet. Hazel leans in awkwardly, obviously wanting to express her gratitude, but she pulls back at the last moment.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Who... is that?&quot;&lt;/span&gt; she asks.

You look over as Ransha regains her footing.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;that&#x27;s ransha. and if she doesn&#x27;t knock it off, i&#x27;m gonna —&quot;&lt;/span&gt;{
}
0. Leave her stranded forever
0. Murder her out of this dream
0. Leave
0. Annoy the shit out of her
{
}Then:{
}
0. WHAT THE FUCK WAS ALL THAT ABOUT
0. Not cool, Ransha
0. Hehehe fish bitch. Now what?
{
}&gt; [[Tara: If she doesn&#x27;t knock it off, I&#x27;m gonna seriously reconsider this plan to pull her out of her fucking cage of a universe.-&gt;Tara: Chew out Ransha]]
&gt; [[Tara: I mean fuck, Ransha, I was feeling sorry for you because you were in a fucking terrible state.-&gt;Tara: Chew out Ransha]]
&gt; [[Tara: Even if it was just dream blood or however the hell this is supposed to work.-&gt;Tara: Chew out Ransha]]</tw-passagedata><tw-passagedata pid="89" name="Tara: Chew out Ransha" tags="dark" position="1450,1550">Hazel adopts a haughty stance. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Yeah!&quot;&lt;/span&gt;

&gt; [[Tara: And you! You could stand to be less fucking homicidal, Hazel.-&gt;Tara: Chew out Doomed!Hazel]]
&gt; [[Tara: I&#x27;m not exactly the happiest with the fucking Alpha you right now.-&gt;Tara: Chew out Doomed!Hazel]]
&gt; [[Tara: Sigh.-&gt;Tara: Chew out Doomed!Hazel]]
&gt; [[Tara: Fuuuuck. It&#x27;s like Lucifer and Michael all up in here.-&gt;Tara: Chew out Doomed!Hazel]]
&gt; [[Tara: Wipe the blood off your chin.-&gt;Tara: Chew out Doomed!Hazel]]
&gt; [[Tara: Now if you could just explain what in the fuck all that was about that would be fucking dandy.-&gt;Tara: Chew out Doomed!Hazel]]</tw-passagedata><tw-passagedata pid="90" name="Tara: Chew out Doomed!Hazel" tags="dark" position="1450,1700">The tall witch&#x27;s face turns perplexed. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Wait, what did I do? What did Alpha me do?&quot;&lt;/span&gt;

Ransha glares. &quot;YOU KICKED ME WHEN I WAS A PUDDLE OF GORE, YOU FUCKING LOADCAP. YOU STARTED IT. AND YOU TOOK MY 2x3DENT!&quot;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;I wasn&#x27;t talking to you!&quot;&lt;/span&gt; the Hero of Space responds. &lt;span class=&quot;hazel-text&quot;&gt;&quot;No seriously?&quot;&lt;/span&gt; she asks, turning to you.

You don&#x27;t really want to talk about it. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;if you could just explain what in the fuck all that was about that would be fucking dandy.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;She bit me!&quot;&lt;/span&gt; Hazel offers plaintively.

&quot;ABOUT?&quot; Ransha asks, with casual quizzicality. &quot;I DON&#x27;T LIKE HER. I CAN KILL THIS ONE AND IT DOESN&#x27;T DO ANYTHING.&quot;

&gt; [[`===&gt;`-&gt;Tara: Listen about blackrom]]</tw-passagedata><tw-passagedata pid="91" name="Dean Winchester" tags="" position="250,2000">Dean Winchester, from the television show Supernatural, has the perfect combination of bullheadedness and steadfast compassion to make him your favorite character. He can be both incredibly selfish and selfless in the same breath, which makes him just so real and relatable to you.

When he&#x27;s in a tough spot, and you watch a single perfect tear roll down his cheek, your heart goes out to him.

You often do roleplay chats as him online with other fangirls playing the role of Castiel, his devoted angel and romantic interest.</tw-passagedata><tw-passagedata pid="92" name="SPan" tags="" position="250,1850">Here&#x27;s what you know about SPan.

It&#x27;s some kind of game that has taken over your real world, which has deposited its six players into a pocket universe with a planet tailor-made for each of them, and granted each one mysterious powers. Completing the game involves creating some kind of frog that is also a universe, which you are supposed to mold in your image or something.

Also, you&#x27;ve been predestined to play this game since the beginning of time.

This makes you, in theory, one of the six most important people in the universe, and the other five are [[your best friends-&gt;Your Friends]].

You sorta wish you&#x27;d paid more attention to the &lt;a href=&quot;http://mspaintadventures.wikia.com/wiki/Rose&#x27;s_walkthrough&quot; target=&quot;_blank&quot;&gt;walkthrough&lt;/a&gt; that Liam found.</tw-passagedata><tw-passagedata pid="93" name="Sylph of Time" tags="" position="400,1850">Being a Hero of Time gives you the ability to manipulate time by slowing, stopping, and reversing it.

You can also use your [[Scroll Top]] to travel through time, which has always struck you as like having a Time-Turner except much less cool. You&#x27;re still constrained by the nature of causality, though — or at least it feels that way.

What //really// happens is that if you try to disrupt the timeline too much a future version of yourself comes back in time to stop you, so that&#x27;s pretty much the same thing probably.

Being a Sylph, on the other hand, gives you fuck-knows-what.

The only sylph that you can think of is Ariel from The Tempest, and he was some kind of bound elemental force or something who had to do everything Prospero wanted him to do.

So you&#x27;re good at doing what other people want you to do. And maybe healing or something, maybe, you guess. This seems pretty useless, so you feel like you&#x27;re missing something.

You read your future self&#x27;s messages at some point in the future and she describes you as &lt;span class=&quot;tara-text&quot;&gt;&quot;sort of like a genie but less magical&quot;&lt;/span&gt;. Presumably future you knows what the fuck she&#x27;s talking about, which is a relief since everyone seems to take a great deal of pleasure in [[trying to explain to you what a Sylph is supposed to do-&gt;Troll Sylph Movie]].</tw-passagedata><tw-passagedata pid="94" name="Your Friends" tags="" position="550,1850">These are your best friends in the whole world, who are playing [[this game-&gt;SPan]] with you right now.
* [**Olivia Burdell**]&lt;olivia|. (click: ?olivia)[She&#x27;s the Maid of Light. Also, your BFFsy. Also, [a pony]&lt;pony|.] (click: ?pony)[It&#x27;s hard to explain why, but it involved her dead body and a Pinkie Pie sprite, and you and your future selves thought it was a good idea at the time.]
* [**Travis Pryzbylewski**]&lt;travis|. (click: ?travis)[He&#x27;s the Knight of Life. You&#x27;ve always thought he [understood you]&lt;understood| better than anyone.] (click: ?understood)[You feel like he knows what it&#x27;s like to be lonely, like you.]
* [**Liam Carver**]&lt;liam|. (click: ?liam)[He&#x27;s the Thief of Heart. You wish his abilities were [less creepy]&lt;creepy|.] (click: ?creepy)[It&#x27;s hard to know if you really trust him or if it&#x27;s just his weird emosoul powers.]
* [**Ethan Swift**]&lt;ethan|. (click: ?ethan)[He&#x27;s the Heir of Void. You&#x27;re [not sure]&lt;void| what you think of him.] (click: ?void)[You&#x27;re pretty sure nobody knows what&#x27;s happening in his head except for him.]
* [**Hazel Saigo**]&lt;hazel|. (click: ?hazel)[She&#x27;s the Witch of Space. She&#x27;s the [most heroic person]&lt;hero| you&#x27;ve ever met.] (click: ?hero)[As a concerned friend, you sometimes wonder if she has Chronic Hero Syndrome. She sure takes herself very seriously.]</tw-passagedata><tw-passagedata pid="95" name="Troll Sylph Movie" tags="" position="400,2000">In one of Ransha&#x27;s more helpful moments, she told you about a troll movie entitled:

Wherein A Young Male Red-Blooded Hero Is An Irresponsibly Altruistic Thief and Catspaw For A Ruling Highblood Who Seeks To Overthrow The Natural Domination Of The Fuschias Through The Use Of The Magical Artifact Releasing A Magical Lusus Which Changes His Blood; The Thief Acquires The Artifact, And Achieves Blackrom With The Purple-Blooded Magician But Their Romance Is Fated With Death; The Fuschia-Blood Auspisticizes Between The Purple-Blood And The Red-Turned-Purple-Blooded Hero; The Red-Turned-Purple-Blooded-Hero Auspisticizes Between The Highblood And The Fuschia Ruler; There Are 16 Deaths; 3 Battle Scenes; Many Romance Scenes; 4 Dance Numbers; And A Musclebeast 

Being a sylph is supposed to be like being the lusus.</tw-passagedata><tw-passagedata pid="96" name="Doomed!Hazel: Watch Ransha grab the trident" tags="dark" position="1700,800">A shattered hand grabs the bottom of the trident without warning, and you grit your teeth and snatch the weapon away.

If it&#x27;s some kind of monster, you&#x27;re going to protect Tara with your life.

&quot;&lt;span class=&quot;ransha-text whisper&quot;&gt;SLF FX MUH&lt;/span&gt;&quot; a flapping mash of teeth blurts.

As you kick the mangled hand off the far end of the trident, Tara concentrates with what you know must be time powers, and the meat suddenly knits back together into a short, grey-skinned humanoid girl. When you pull the trident back into your friend&#x27;s grasp, you hand touches hers, by accident, sending a brief tingle through your fingers.

It&#x27;s hard to pull away from her, but you do. You can&#x27;t help smiling at her, a little, but she doesn&#x27;t smile back.

You glance down, staring into the eyes of the short alien girl, who eyes you with ferocious intent.

She&#x27;s unexpectedly pretty, you think to yourself, before she kicks your legs out from underneath you with blazing speed.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Fight Ransha]]</tw-passagedata><tw-passagedata pid="97" name="Doomed!Hazel: Fight Ransha" tags="dark" position="1700,950">You correct your fall instinctively and land on your hands, pushing yourself into a vicious three-kick combination that sweeps away the alien girl&#x27;s defenses before tagging her in the gut and finishing on her chin. Ivory white triangles bounce out of her mouth as her grip locks on your ankle. You let out a gasp as the slight scion swings you over her shoulder with bone-crushing force, crashing into the stones of the allure hard enough that bits of the mortar and loose stone are scattered into the air by the assault.

Even with every molecule of air driven out of your lungs, you kick reflexively, pulling your foe in after you. Catching a rock-hard horn to the chin for your troubles, you put an arm around her neck and begin to choke her. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Go to sleep, Fish bitch!&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt; Doomed!Hazel: Fight Ransha more]]</tw-passagedata><tw-passagedata pid="98" name=" Doomed!Hazel: Fight Ransha more" tags="dark" position="1700,1100">The aquatic autocrat&#x27;s neck is slippery with gill, however, and she maneuvers down low and takes a massive bite out of your forearm. You punch her in the eye once, twice, three times until she lets go, but she tosses her head back, catching your neck between the ridiculous horns.

With a twist of her neck, she rolls forward and somersaults onto your head, but you lead with your heart. Flopping your feet over onto the ground, you scrabble for a grip on the fish bitch and settle on the horns before using your greater mass as a battering ram, bouncing the two of you gracelessly across the walkway, each impact a bit harder on the pint-sized potentate until she gets her center and tosses you over the edge of the wall.

She waits for a half a second, then smirks evilly as she throws a murderous back elbow... that hits nothing, as you appear in front of her, grab her shoulders and knee her right in the clamset.

The alien girl lets out a musical yelp as the air is driven out of her respiration bladders, but she pushes into the forced doubling-over, grabs your ankles, and flips you ass over teakettle, following with a flying elbow that lands just as you do.

The entire thing hurts like a bitch.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Lose to Ransha]]</tw-passagedata><tw-passagedata pid="99" name="Doomed!Hazel: Lose to Ransha" tags="dark" position="1700,1250">The rest of the fight is nearly a blur.

The grey-skinned girl is more experienced than you, and much stronger than you, but you have hot-blooded determination in spades.

But you&#x27;re exhausted, and only half-conscious, and lying prone.

The alien girl sits astride you and reaches down to grab your hand, crunching your fingers together. You don&#x27;t even have the energy to wince in pain. You her her shout, &quot;S&lt;span class=&quot;ransha-text whisper&quot;&gt;TOP&lt;/span&gt; K&lt;span class=&quot;ransha-text whisper&quot;&gt;ILLING&lt;/span&gt; Y&lt;span class=&quot;ransha-text whisper&quot;&gt;OURS&lt;/span&gt; —&quot;

There&#x27;s a //whumph//.

Tara stands before you as your vision clears, holding out an open palm.

You sit up, suddenly refreshed by the presence of the girl you like, and take her hand, getting yourself upright again. You make a half-hearted attempt for a second smooch, but think better of it.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Who... is that?&quot;&lt;/span&gt; you ask, as you watch the alien girl stumble to her feet.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;that&#x27;s ransha. and if she doesn&#x27;t knock it off, i&#x27;m gonna seriously reconsider this plan to pull her out of her fucking cage of a universe.&quot;&lt;/span&gt;{
}
0. I thought trolls would be at least a little intimidating, not little butterfly princesses!
0. You know I&#x27;m ready to help, Tara
0. Fuck her, let&#x27;s ditch and make out
0. Sempai... please notice me
{
}Then:{
}
0. If I&#x27;m doomed, then where are we, Ransha?
0. I&#x27;m doomed, Tara. How can I help you?
0. I&#x27;m doomed, Tara. How about a last request?
{
}&gt; [[`===&gt;`-&gt;Doomed!Hazel: Listen to Tara]]</tw-passagedata><tw-passagedata pid="100" name="Doomed!Hazel: Listen to Tara" tags="dark" position="1700,1400">You don&#x27;t have the chance to respond before the petite-but-willowy //hanin// turns on Ransha with what must be a furious familiarity. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i mean fuck, ransha, i was feeling sorry for you because you were in a fucking terrible state. even if it was dream blood or however the hell this is supposed to work.&quot;&lt;/span&gt;

You give the pretty alien your most disdainful look. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Yeah!&quot;&lt;/span&gt; you manage, until, without warning, Tara focuses her tirade onto you.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Get yelled at by Tara]]</tw-passagedata><tw-passagedata pid="101" name="Doomed!Hazel: Argue with Tara and Ransha" tags="dark" position="1700,1700">Realization dawns on you that this Tara must be the Alpha. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Wait, what did I do? What did Alpha me do?&quot;&lt;/span&gt;

Ransha glares. &quot;YOU KICKED ME WHEN I WAS A PUDDLE OF GORE, YOU FUCKING LOADCAP. YOU STARTED IT. AND YOU TOOK MY 2x3DENT!&quot;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;I wasn&#x27;t talking to you!&quot;&lt;/span&gt; you shout at the alien girl, before turning to Tara. &lt;span class=&quot;hazel-text&quot;&gt;&quot;No seriously?&quot;&lt;/span&gt;

Tara demurs to an immediate response. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;if you could just explain what in the fuck all that was about that would be fucking dandy.&quot;&lt;/span&gt;

This Hero of Time isn&#x27;t being very fair to you. &lt;span class=&quot;hazel-text&quot;&gt;&quot;She bit me!&quot;&lt;/span&gt;

&quot;ABOUT?&quot; Ransha asks, seeming to ignore your presence. &quot;I DON&#x27;T LIKE HER. I CAN KILL THIS ONE AND IT DOESN&#x27;T DO ANYTHING.&quot;

Tara gives her a long-suffering look that you&#x27;re familiar with by now, and glances to you.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;it does do something. it makes me v. inclined not to help you.&quot;&lt;/span&gt;

&quot;OH WELL&quot; Ransha shrugs.

You have a sudden thought.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Ask about blackrom]]</tw-passagedata><tw-passagedata pid="102" name="Doomed!Hazel: Get yelled at by Tara" tags="dark prompt" position="1700,1550">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;and you! you could stand to be less fucking homicidal. i&#x27;m not exactly the happiest with the fucking alpha you right now.&quot;&lt;/span&gt; Your girlcrush sighs. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;fuuuuck. it&#x27;s like lucifer and michael all up in here,&quot;&lt;/span&gt; she says, wiping the blood off of her chin and turning away in frustration.

&gt; [[Doomed!Hazel: Wait what? But she attacked me f...-&gt;Doomed!Hazel: Argue with Tara and Ransha]]
&gt; [[Doomed!Hazel: What did Alpha me do?!?-&gt;Doomed!Hazel: Argue with Tara and Ransha]]
&gt; [[Doomed!Hazel: Well since I&#x27;m doomed, what is this place and how can I help you Tara?-&gt;Doomed!Hazel: Argue with Tara and Ransha]]</tw-passagedata><tw-passagedata pid="103" name="Tara: Listen about blackrom" tags="dark" position="1450,1850">You give the petite alien your most frustrated, exasperated look, before turning to your doomed witch friend and sharing a commiserative glance.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;it does do something. it makes me v. inclined not to help you.&quot;&lt;/span&gt;

&quot;OH WELL&quot; she says with a shrug.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;What is your problem with me anyways?&quot;&lt;/span&gt; Hazel interjects. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Is it the Blackrom thing?&quot;&lt;/span&gt;

It&#x27;s Ransha&#x27;s turn to look exasperated. &quot;LOOK I KNOW I HAVE THIS REPUTATION AS SOMETHING OF A NOIRTRAMP, BUT I JUST HATE REGULARLY. I&#x27;M NOT INTERESTED IN ANYONE THAT WAY...&quot; she says, with a tinge of mostly concealed sadness.

You&#x27;re entirely convinced that this is not true, and your shared look with Doomed!Hazel morphs into a shared eyebrow-raise.

Neither of you object as the Princess of Hope continues.

&gt; [[`===&gt;`-&gt;Tara: Listen about dream bubbles]]</tw-passagedata><tw-passagedata pid="104" name="Tara: Listen about dream bubbles" tags="dark prompt" position="1450,2000">&quot;LOOK, I&#x27;M OUT HERE BECAUSE I NEED TO GIVE YOU A PRIMER ON DREAM BUBBLES. FROM MY POINT IN MY TIMELINE I&#x27;M OUT OF PLACES TO TALK TO YOU WITHOUT FUCKING EVERYTHING UP.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay, so?&quot;&lt;/span&gt;

&quot;THIS IS A PLACE WHERE WE CAN MEET AND DISCUSS PLANS. SUCH AS, WHEN YOU CAN COME INTO OUR SESSION WITHOUT FUCKING THINGS UP, WHO TO HELP, AND TO ARRANGE THINGS.&quot;{
}
0. Who threw that rock?
0. Arrange what?
0. Help who?
0. I&#x27;m still not entirely on board with helping you, you raving lunatic
{
}&gt; [[Tara: I guess outside of our viewable session would be the only place you can freely interact with our mutual predestiny.-&gt;Tara: Listen to Hazel argue with Ransha]]
&gt; [[Tara: I sort of have a plan. Well, several plans. They are all dumb plans but they&#x27;re something.-&gt;Tara: Listen to Hazel argue with Ransha]]
&gt; [[Tara: I don&#x27;t know why I should be on board with saving you since you hate us, but future me for some reason seems to think you&#x27;re not so terrible.-&gt;Tara: Listen to Hazel argue with Ransha]]
&gt; [[Tara: Who to help? What&#x27;s that supposed to mean?-&gt;Tara: Listen to Hazel argue with Ransha]]</tw-passagedata><tw-passagedata pid="105" name="Doomed!Hazel: Ask about blackrom" tags="dark" position="1700,1850">&lt;span class=&quot;hazel-text&quot;&gt;&quot;What is your problem with me anyways? Is it the Blackrom thing?&quot;&lt;/span&gt; you suggest.

It&#x27;s Ransha&#x27;s turn to look exasperated. &quot;LOOK I KNOW I HAVE THIS REPUTATION AS SOMETHING OF A NOIRTRAMP, BUT I JUST HATE REGULARLY. I&#x27;M NOT INTERESTED IN ANYONE THAT WAY...&quot; she says, with a tinge of mostly concealed sadness.

You&#x27;re entirely convinced that this is not true, and you raise an eyebrow in unison with Tara.

Neither of you object as the Princess of Hope continues.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Listen about dream bubbles]]</tw-passagedata><tw-passagedata pid="106" name="Doomed!Hazel: Listen about dream bubbles" tags="dark prompt" position="1700,2000">&quot;LOOK, I&#x27;M OUT HERE BECAUSE I NEED TO GIVE YOU A PRIMER ON DREAM BUBBLES. FROM MY POINT IN MY TIMELINE I&#x27;M OUT OF PLACES TO TALK TO YOU WITHOUT FUCKING EVERYTHING UP.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay, so?&quot;&lt;/span&gt; says Tara.

&quot;THIS IS A PLACE WHERE WE CAN MEET AND DISCUSS PLANS. SUCH AS, WHEN YOU CAN COME INTO OUR SESSION WITHOUT FUCKING THINGS UP, WHO TO HELP, AND TO ARRANGE THINGS.&quot;{
}
0. Why can&#x27;t you get over your problem with me? I am more than willing to help you!
0. WHAT DID ALPHA ME DO?
0. So I&#x27;m doomed. What can I do?
0. Punch Ransha in the face
{
}&gt; [[Doomed!Hazel: Why can&#x27;t you get over your problem with me? Did I do something? I&#x27;m more than willing to help you all, I&#x27;ve been trying to forever!-&gt;Doomed!Hazel: Ask Ransha what her problem is]]
&gt; [[Doomed!Hazel: Seriously Tara what did Alpha me do??!??-&gt;Doomed!Hazel: Ask Ransha what her problem is]]</tw-passagedata><tw-passagedata pid="107" name="Tara: Listen to Hazel argue with Ransha" tags="dark" position="1900,200">&lt;span class=&quot;hazel-text&quot;&gt;&quot;First, what the fuck is your problem with me?&quot;&lt;/span&gt; Hazel interrupts.

&quot;I TOLD YOU ALREADY. I DON&#x27;T FUCKING LIKE YOU.&quot; You give Ransha a shut-the-fuck-up look, but she just rolls her eyes at you. &quot;YOU ARE THIS ULTIMATE ANTI-TROLL. IF YOU ARE SUCCESSFUL AND THE BIG HERO, THEN MY WHOLE LIFE, MY DREAMS, AND ALL MY SUFFERING ARE ALL MEANINGLESS, NOT TO MENTION YOUR FUCKING FAULT,&quot; the troll girl says, her voice low.

You almost feel a bit sorry for her.

&quot;SO YEAH I HAVE A PROBLEM WITH YOU!&quot; she says to Hazel, becoming more agitated. &quot;I HATE YOU, AND I WANT YOU TO FAIL. AND THE FACT THAT YOU JUST WANT TO BE MY FRIEND MAKES IT 100X WORSE!&quot; she finishes, in an exasperated yell.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Does it work?&quot;&lt;/span&gt; Doomed!Hazel asks.

&quot;IT FUCKING LOOKS LIKE IT, AND THAT&#x27;S THE MOST INFURIATING FUCKING THING OF ALL, KNOWING THAT YOUR FUTURE SELF IS SUCH A FUCKING LOSER&quot;

Hazel looks extremely satisfied.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;that&#x27;s how i feel about future me all the time,&quot;&lt;/span&gt; you sigh. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;except. i always feel like i&#x27;m a loser, and she&#x27;s this huge asshole.&quot;&lt;/span&gt;

&quot;SHE IS AN ASSHOLE. BUT SO ARE YOU. YOU HAVE THIS ONE UNBROKEN STRING OF BEING AN ASSHOLE, WITH A LOT OF LOOPS IN IT,&quot; Ransha offers helpfully, illustrating her words by making a spiralling motion in the air with a single grey finger. &quot;WHAT&#x27;S AN ASSHOLE, BY THE WAY?&quot;

&gt; [[`===&gt;`-&gt;Tara: Riff about assholes]]</tw-passagedata><tw-passagedata pid="108" name="Tara: Riff about assholes" tags="dark" position="1900,350">You have been waiting for a troll to ask this question since the beginning of this game. This is an amazing opportunity.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;it&#x27;s a loaf ringer,&quot;&lt;/span&gt; you say, cheerfully.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;A dump pincher?&quot;&lt;/span&gt; Hazel suggests.

&quot;WHAT?&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;a pursed deadmeal splitter,&quot;&lt;/span&gt; you add.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;A dung divider,&quot;&lt;/span&gt; Hazel continues, picking up on things.

Ransha begins to glower, confused, angry, and sure she is the butt of a joke.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;a flux kerfer.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Caca compartmentalizer?&quot;&lt;/span&gt;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;guano cleaver.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Doo Doo dealer.&quot;&lt;/span&gt;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;discharge apporter!&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Assdrop allocator!&quot;&lt;/span&gt;

&quot;FUCKING SHUT YOUR STUPID FECULENCE HOLES, BY WHICH I MEAN THE ONES IN YOUR FUCKING FACES,&quot; Ransha says.

You and Hazel titter a bit at Ransha&#x27;s expense, before the tall Hero focuses her questioning on you. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Seriously though, what did Alpha me do to you, tara? Besides making friends with questionable beings?&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha share your personal stuff]]</tw-passagedata><tw-passagedata pid="109" name="Tara: Listen to Ransha share your personal stuff" tags="dark" position="1900,500">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i. i&#x27;m not like super excited about airing that right now? it&#x27;s complicated.&quot;&lt;/span&gt;

&quot;NO IT&#x27;S FUCKING NOT. YOU FUCKING WITCHED LIAM AND STARTED SNOGGING OLIVIA AND THEN TARA SUDDENLY REALIZED THAT SHE WANTED IN ON SOME OF THAT ACTION BUT SHE HAS NO IDEA WHICH PART&quot;

You feel your cheeks scorch, and you wheel on her and explode.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;how do you expect me to be on your side to save you when you&#x27;re being such a fucking... a fucking feculence hole!&quot;&lt;/span&gt; you shout at the top of your lungs. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;that&#x27;s not your fucking thing to share!&quot;&lt;/span&gt;

&quot;WHO FUCKING CARES. SHE&#x27;S FUCKING DEAD. I&#x27;M PRACTICALLY DOING YOU A FAVOR AND YOU CAN GO BACK TO YOUR SESSION REFRESHED AND ALL DIATRIBED OUT WITHOUT RUINING SHIT BACK AT THE HOMESTEAD. HELL YOU COULD EVEN MAKE OUT WITH HER, SEE WHAT IT FEELS LIKE. OH WAIT YOU ALREADY DID WHILE I WAS SMASHED INTO FUCKING GOO&quot; New teeth slide themselves into place in the aquatic girl&#x27;s mouth.

You cover your face with your palm, out of both an increasing dearth of patience and a desire to hide your burning embarrassment.

&gt; [[`===&gt;`-&gt;Tara: Stop a fight]]</tw-passagedata><tw-passagedata pid="110" name="Tara: Stop a fight" tags="dark" position="1900,650">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay so what&#x27;s your fucking plan out here then? i assume you dragged me here to sneak something through the stupid predestiny of a bunch of messages we&#x27;re fated to have and your creepy stalker vision?&quot;&lt;/span&gt;

&quot;YOU GOT IT, TOOTS.&quot;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Grrr don&#x27;t fucking call her that!&quot;&lt;/span&gt; Hazel interjects.

&quot;YOU WANT SOME MORE?&quot; Ransha offers.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;You didn&#x27;t have enough last time, Fish Stick!&quot;&lt;/span&gt;

&quot;I DIDN&#x27;T WANT TO GIVE YOU TOO MUCH, FATTY.&quot;

Before they can start in again, you step in between with the 2x3dent, one pointy end to each girl.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay that is fucking it. ENOUGH. i need to know who i&#x27;m supposed to be helping and what bullshit i&#x27;m supposed to be doing, cause i sorta have some kind of plan and tbh i&#x27;m not sure if any plan you have is gonna be a good thing for us.&quot;&lt;/span&gt;

&quot;FUCKING FINE. TELL ME ABOUT YOUR GRODDAMN PLANS, THEN I WILL TELL YOU WHAT&#x27;S WRONG WITH THEM AND WE CAN USE MY PLANS. EVERYONE&#x27;S HAPPY.&quot;{
}
0. Elaborate on plan
0. Fuck you, Ransha
{
}&gt; [[Tara: First of all: Shut up Ransha, making out with Hazel is not on my bucket list.-&gt;Tara: Discuss plans]]
&gt; [[Tara: Second of all: Shut up Hazel, you&#x27;re dead. If you&#x27;re going to keep making things worse go and find one of my doomed selves to hang out with.-&gt;Tara: Discuss plans]]
&gt; [[Tara: Okay. You need uranium and we don&#x27;t have enough.-&gt;Tara: Discuss plans]]
&gt; [[Tara: If we can sendificate you some, then I bet Olivia can break through the fenestrated wall with her Pinkie Pie powers and maybe we can reach you through the other side of yours.-&gt;Tara: Discuss plans]]
&gt; [[Tara: But the only way I can think of to get more uranium is to reset our session and hope for better resources.-&gt;Tara: Discuss plans]]</tw-passagedata><tw-passagedata pid="111" name="Doomed!Hazel: Ask Ransha what her problem is" tags="dark" position="2100,200">&lt;span class=&quot;hazel-text&quot;&gt;&quot;First, what the fuck is your problem with me?&quot;&lt;/span&gt; you demand.

&quot;I TOLD YOU ALREADY. I DON&#x27;T FUCKING LIKE YOU.&quot; Tara shoots the troll princess daggers with her eyes, but she ignores it with a faint eyeroll. &quot;YOU ARE THIS ULTIMATE ANTI-TROLL. IF YOU ARE SUCCESSFUL AND THE BIG HERO, THEN MY WHOLE LIFE, MY DREAMS, AND ALL MY SUFFERING ARE ALL MEANINGLESS, NOT TO MENTION YOUR FUCKING FAULT,&quot; the girl says, her voice low.

You almost feel bad about it.

&quot;SO YEAH I HAVE A PROBLEM WITH YOU!&quot; she says to you, becoming more agitated. &quot;I HATE YOU, AND I WANT YOU TO FAIL. AND THE FACT THAT YOU JUST WANT TO BE MY FRIEND MAKES IT 100X WORSE!&quot; she finishes, in an exasperated yell.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Does it work?&quot;&lt;/span&gt; you ask.

&quot;IT FUCKING LOOKS LIKE IT, AND THAT&#x27;S THE MOST INFURIATING FUCKING THING OF ALL, KNOWING THAT YOUR FUTURE SELF IS SUCH A FUCKING LOSER&quot;

You grin smugly, secure in the knowledge that your Alpha timeline self will properly carry on the standard of Hazeldom.

Tara sighs. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;that&#x27;s how i feel about future me all the time. except. i always feel like i&#x27;m a loser, and she&#x27;s this huge asshole.&quot;&lt;/span&gt;

&quot;SHE IS AN ASSHOLE. BUT SO ARE YOU. YOU HAVE THIS ONE UNBROKEN STRING OF BEING AN ASSHOLE, WITH A LOT OF LOOPS IN IT,&quot; Ransha offers helpfully, illustrating her words by making a spiralling motion in the air with a single small grey finger. &quot;WHAT&#x27;S AN ASSHOLE, BY THE WAY?&quot;

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Riff about assholes]]</tw-passagedata><tw-passagedata pid="112" name="Doomed!Hazel: Riff about assholes" tags="dark" position="2100,350">Tara suddenly brightens. It&#x27;s the most cheerful you&#x27;ve seen her since you woke up.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;it&#x27;s a loaf ringer,&quot;&lt;/span&gt; Tara says, with poorly-concealed delight.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;A dump pincher?&quot;&lt;/span&gt; you suggest.

&quot;WHAT?&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;a pursed deadmeal splitter,&quot;&lt;/span&gt; Tara adds.

You&#x27;re starting to see where this is going. &lt;span class=&quot;hazel-text&quot;&gt;&quot;A dung divider.&quot;&lt;/span&gt;

Ransha begins to glower, confused, angry, and sure she is the butt of a joke.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;a flux kerfer.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Caca compartmentalizer?&quot;&lt;/span&gt;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;guano cleaver.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Doo Doo dealer.&quot;&lt;/span&gt;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;discharge apporter!&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Assdrop allocator!&quot;&lt;/span&gt;

&quot;FUCKING SHUT YOUR STUPID FECULENCE HOLES, BY WHICH I MEAN THE ONES IN YOUR FUCKING FACES,&quot; Ransha says. You and Tara snicker a bit at her expense.

You decide to take advantage of the lighter mood to press on with your initial line of questioning. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Seriously though,&quot;&lt;/span&gt; you ask the ponytailed girl, &lt;span class=&quot;hazel-text&quot;&gt;&quot;what did Alpha me do to you, tara? Besides making friends with questionable beings?&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Listen to Ransha share Tara&#x27;s personal stuff]]</tw-passagedata><tw-passagedata pid="113" name="Doomed!Hazel: Listen to Ransha share Tara&#x27;s personal stuff" tags="dark" position="2100,500">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i. i&#x27;m not like super excited about airing that right now?&quot;&lt;/span&gt; Tara says, evasively. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;it&#x27;s complicated.&quot;&lt;/span&gt;

&quot;NO IT&#x27;S FUCKING NOT. YOU FUCKING WITCHED LIAM AND STARTED SNOGGING OLIVIA AND THEN TARA SUDDENLY REALIZED THAT SHE WANTED IN ON SOME OF THAT ACTION BUT SHE HAS NO IDEA WHICH PART&quot;

Your mouth drops open in surprise. Olivia?

Tara blushes uncontrollably, wheels on Ransha and explodes.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;how do you expect me to be on your side to save you when you&#x27;re being such a fucking... a fucking feculence hole! that&#x27;s not your fucking thing to share!&quot;&lt;/span&gt; she shouts. It&#x27;s nowhere near the volume that the tiny Condesce can output.

&quot;WHO FUCKING CARES. SHE&#x27;S FUCKING DEAD. I&#x27;M PRACTICALLY DOING YOU A FAVOR AND YOU CAN GO BACK TO YOUR SESSION REFRESHED AND ALL DIATRIBED OUT WITHOUT RUINING SHIT BACK AT THE HOMESTEAD. HELL YOU COULD EVEN MAKE OUT WITH HER, SEE WHAT IT FEELS LIKE. OH WAIT YOU ALREADY DID WHILE I WAS SMASHED INTO FUCKING GOO&quot; New teeth slide themselves into place in the aquatic girl&#x27;s mouth.

Tara covers her face with her palm.

Judging from her expression, you&#x27;re pretty sure she would rather be the dead one than you right now.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay so what&#x27;s your fucking plan out here then?&quot;&lt;/span&gt; she says, in a transparent attempt to change the subject. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i assume you dragged me here to sneak something through the stupid predestiny of a bunch of messages we&#x27;re fated to have and your creepy stalker vision?&quot;&lt;/span&gt;

&quot;YOU GOT IT, TOOTS.&quot;

Toots? That was not okay.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Start a fight]]</tw-passagedata><tw-passagedata pid="114" name="Doomed!Hazel: Start a fight" tags="dark" position="2100,650">&lt;span class=&quot;hazel-text&quot;&gt;&quot;Grrr don&#x27;t fucking call her that!&quot;&lt;/span&gt; you roar.

&quot;YOU WANT SOME MORE?&quot; Ransha offers.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;You didn&#x27;t have enough last time, Fish Stick!&quot;&lt;/span&gt;

&quot;I DIDN&#x27;T WANT TO GIVE YOU TOO MUCH, FATTY.&quot;

You leap into a combat pose, but Tara steps in between you and the troll girl with the 2x3dent, suddenly making real insights into troll leadership and diplomacy.

Really, you could be a little bit proud of her.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay that is fucking it. enough. i need to know who i&#x27;m supposed to be helping and what bullshit i&#x27;m supposed to be doing, cause i sorta have some kind of plan and tbh i&#x27;m not sure if any plan you have is gonna be a good thing for us.&quot;&lt;/span&gt;

&quot;FUCKING FINE. TELL ME ABOUT YOUR GRODDAMN PLANS, THEN I WILL TELL YOU WHAT&#x27;S WRONG WITH THEM AND WE CAN USE MY PLANS. EVERYONE&#x27;S HAPPY.&quot;{
}
0. Who&#x27;s the real one to watch out for? Chehro, Sesili, or Khetus?
0. How can I help?
{
}&gt; [[`===&gt;`-&gt;Doomed!Hazel: Get chewed out by Tara]]</tw-passagedata><tw-passagedata pid="115" name="Doomed!Hazel: Get chewed out by Tara" tags="dark" position="2100,800">Tara beats you to the punch, and says something that makes your heart sink.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay first of all. shut up ransha, making out with hazel is not on my bucket list. and second of all —&quot;&lt;/span&gt;

&quot;HOW IS A VERB ON YOUR BUCKET LIST?&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you said you need uranium and we don&#x27;t have any. if we just sendificate you some —&quot;&lt;/span&gt;

&quot;WHICH YOU WOULD NEED URANIUM TO DO.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;— yeah, then we can — wait what?&quot;&lt;/span&gt;

&quot;THE TECHNOLOGY EXISTS TO SEND THINGS BACK AND FORTH BETWEEN SESSIONS. IT JUST TAKES URANIUM.&quot;

The Korean girl and the alien girl are clearly much more interested in talking to each other than to you.

&gt; [[Doomed!Hazel: Think: wtf, this Tara is a bitch, and not as bright as you would have thought.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: Well I&#x27;m not wanted here, but I don&#x27;t care. It&#x27;s not the first time people have needed and not wanted my help, so fuck both of you.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: Tara, I&#x27;m going to tell you what Ransha is about to tell you. YOU DON&#x27;T NEED TO RESET THE SESSION TO GET MORE URANIUM GRIST. Plus if you do you won&#x27;t get any more grist that way, you don&#x27;t know yet what resetting really does, don&#x27;t do it.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: To Ransha: Man she&#x27;s a fucking dense time player isn&#x27;t she? No wonder Nhamni hates her.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: To Tara, haughtily: Go back in time and farm some, OR use the fucking grist market. Or, OR OOOORRRR!-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: Okay, there I helped save some time. Now you two figure out what you need from me and let&#x27;s get on with this shit.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: Give Tara a chiding glance.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: Since I&#x27;m dead, I might as well put my last breaths to good use.-&gt;Doomed!Hazel: Yell at Tara.]]
&gt; [[Doomed!Hazel: Think about how you can get a secret message to Alpha you. She&#x27;s not the witch you are yet and she needs guidance.-&gt;Doomed!Hazel: Yell at Tara.]]</tw-passagedata><tw-passagedata pid="116" name="Tara: Discuss plans" tags="dark" position="1900,800">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay first of all. shut up ransha, making out with hazel is not on my bucket list. and second of all —&quot;&lt;/span&gt;

&quot;HOW IS A VERB ON YOUR BUCKET LIST?&quot; Ransha asks.

You decide to let that one slide. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;you said you need uranium and we don&#x27;t have any. if we just sendificate you some —&quot;&lt;/span&gt;

&quot;WHICH YOU WOULD NEED URANIUM TO DO.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;— yeah, then we can — wait what?&quot;&lt;/span&gt;

&quot;THE TECHNOLOGY EXISTS TO SEND THINGS BACK AND FORTH BETWEEN SESSIONS. IT JUST TAKES URANIUM.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;oh, uh. i just thought it was one of your weird troll vocab words?&quot;&lt;/span&gt; you say, deciding to power through your ignorance on the matter. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;but anyways, if we had some uranium then i&#x27;m p. sure that olivia can break through the fenestrated wall with her pinkie pie pony 4th wall powers and reach you on the other side. but i can&#x27;t think of any way to get more uranium without resetting our session, so —&quot;&lt;/span&gt;

Doomed!Hazel bursts into the conversation, interrupting you. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Well I&#x27;m not wanted here, but I don&#x27;t care. It&#x27;s not the first time people have needed and not wanted my help, so fuck both of you.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Get chewed out by Hazel]]</tw-passagedata><tw-passagedata pid="117" name="Tara: Get chewed out by Hazel" tags="dark" position="1900,950">Your head turns to regard your doomed friend, seething with fury in a way that you&#x27;ve never witnessed. It&#x27;s as if you&#x27;re seeing her for the first time.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Tara, I&#x27;m going to tell you what Ransha is about to tell you. YOU DON&#x27;T NEED TO RESET THE SESSION TO GET MORE URANIUM GRIST. Plus if you do you won&#x27;t get any more grist that way, you don&#x27;t know yet what resetting really does, don&#x27;t do it.&quot;&lt;/span&gt;

&quot;HOPY SHIT, DOOMED HAZEL IS ON TO SOMETHING HERE. I DON&#x27;T KNOW SHIT ABOUT RESETTING A SESSION EXCEPT THAT IT&#x27;S POSSIBLE AND YOU NEED A QUILL OF ECHIDNA, AND YOU DON&#x27;T NEED TO RESET TO FARM URANIUM. DOOMED HAZEL IS FLYING HIGH AS SMARTEST HUMAN, WHICH IS REALLY SAYING SOMETHING.&quot;

Hazel lets the louder girl finish. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Man she&#x27;s a fucking dense time player isn&#x27;t she? No wonder Nhamni hates her.&quot;&lt;/span&gt; She tilts her head back and assumes her full, commanding height. &lt;span class=&quot;hazel-text&quot;&gt;&quot;go back in time and farm some, OR use the fucking grist market. Or, OR OOOORRRR!&quot;&lt;/span&gt; she demands, punctuating each &quot;or&quot; with exasperated hand gestures.

And just like that, //Hey presto.// You realize, all of a sudden, what your doomed alternate self must have intended when she interrupted you and Hazel at that precipitous moment.

&gt; [[`===&gt;`-&gt;Tara: Tell Hazel to go away]]</tw-passagedata><tw-passagedata pid="118" name="Tara: Tell Hazel to go away" tags="dark" position="1900,1100">You&#x27;ve had just about enough of these fucking dream bubble shenanigans.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;shut up hazel, you&#x27;re dead,&quot;&lt;/span&gt; you spit out, not caring whether you&#x27;re being mean or not right now. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;if you&#x27;re gonna keep making everything worse go and find one of my doomed selves to hang out with.&quot;&lt;/span&gt;

&quot;ALAS IT WAS NOT MEANT TO LAST,&quot; the diminutive despot continues condescendingly. &quot;NONE OF THAT HAPPENS. I&#x27;D HAVE SEEN IT IF THERE WERE A TARA FARMING URANIUM. AND THE GRIST MARKETS DON&#x27;T HAVE IT, THEY JUST HAVE GRIST. YOU ALL SEEM TO GET THROUGH THE ENTIRE SESSION WITHOUT GETTING MORE THAN A TINY HANDFUL OF URANIUM, AND I&#x27;M PRETTY SURE THAT THAT&#x27;S THE FAULT OF YOUR DANCESTORS.&quot;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;fuck you both. Figure out what you need from me and let&#x27;s get on with this shit.&quot;&lt;/span&gt;

You narrow your eyes at Doomed!Hazel, but she doesn&#x27;t even seem to be looking at you.

&quot;YOU&#x27;VE ALREADY PROVIDED EVERYTHING THAT WE NEED. WE JUST NEEDED YOUR DREAM BUBBLE. WE COULD EVEN LEAVE IT AND GO TO MY DREAM BUBBLE. YOU&#x27;RE DONE HERE.&quot; Ransha says.

Throwing your head back in a final show of exasperation, you sigh deeply up to the overcast skies of [[LoCaB]]. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;well you heard the stupid alien.&quot;&lt;/span&gt;

Ransha turns to you unexpectedly, and you stumble back a bit from the alien invasion of your personal space.

&gt; [[`===&gt;`-&gt;Tara: Get chewed out by Ransha about Hazel]]</tw-passagedata><tw-passagedata pid="119" name="Doomed!Hazel: Yell at Tara." tags="dark" position="2100,950">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;oh, uh. i just thought it was one of your weird troll vocab words?&quot;&lt;/span&gt; says Tara. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;but anyways, if we had some uranium then i&#x27;m p. sure that olivia can break through the fenestrated wall with her pinkie pie pony 4th wall powers and reach you on the other side. but i can&#x27;t think of any way to get more uranium without resetting our session, so —&quot;&lt;/span&gt;

Somehow this Tara is nowhere near as bright as you thought, even though she&#x27;s from further ahead in the future. It&#x27;s time to set this girl straight.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Well I&#x27;m not wanted here, but I don&#x27;t care. It&#x27;s not the first time people have needed and not wanted my help, so fuck both of you.&quot;&lt;/span&gt; You take a breath, which you&#x27;re pretty sure is an affectation now that you&#x27;re dead. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Tara, I&#x27;m going to tell you what Ransha is about to tell you. YOU DON&#x27;T NEED TO RESET THE SESSION TO GET MORE URANIUM GRIST. Plus if you do you won&#x27;t get any more grist that way, you don&#x27;t know yet what resetting really does, don&#x27;t do it.&quot;&lt;/span&gt;

&quot;HOPY SHIT, DOOMED HAZEL IS ON TO SOMETHING HERE. I DON&#x27;T KNOW SHIT ABOUT RESETTING A SESSION EXCEPT THAT IT&#x27;S POSSIBLE AND YOU NEED A QUILL OF ECHIDNA, AND YOU DON&#x27;T NEED TO RESET TO FARM URANIUM. DOOMED HAZEL IS FLYING HIGH AS SMARTEST HUMAN, WHICH IS REALLY SAYING SOMETHING.&quot;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Man she&#x27;s a fucking dense time player isn&#x27;t she?&quot;&lt;/span&gt; you say, nodding. &lt;span class=&quot;hazel-text&quot;&gt;&quot;No wonder Nhamni hates her.&quot;&lt;/span&gt; You tilt your head back haughtily, standing with regal bearing. &lt;span class=&quot;hazel-text&quot;&gt;&quot;go back in time and farm some, OR use the fucking grist market. Or, OR OOOORRRR!&quot;&lt;/span&gt; you command Tara, punctuating each &quot;or&quot; with exasperated hand gestures.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Be wrong]]</tw-passagedata><tw-passagedata pid="120" name="Doomed!Hazel: Be wrong" tags="dark" position="2100,1100">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;shut up hazel, you&#x27;re dead,&quot;&lt;/span&gt; says Tara, contemptuously. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;if you&#x27;re gonna keep making everything worse go and find one of my doomed selves to hang out with.&quot;&lt;/span&gt;

&quot;ALAS IT WAS NOT MEANT TO LAST,&quot; the diminutive despot continues condescendingly. &quot;NONE OF THAT HAPPENS. I&#x27;D HAVE SEEN IT IF THERE WERE A TARA FARMING URANIUM. AND THE GRIST MARKETS DON&#x27;T HAVE IT, THEY JUST HAVE GRIST. YOU ALL SEEM TO GET THROUGH THE ENTIRE SESSION WITHOUT GETTING MORE THAN A TINY HANDFUL OF URANIUM, AND I&#x27;M PRETTY SURE THAT THAT&#x27;S THE FAULT OF YOUR DANCESTORS.&quot;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;fuck you both,&quot;&lt;/span&gt; you shout. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Figure out what you need from me and let&#x27;s get on with this shit.&quot;&lt;/span&gt;

&quot;YOU&#x27;VE ALREADY PROVIDED EVERYTHING THAT WE NEED. WE JUST NEEDED YOUR DREAM BUBBLE. WE COULD EVEN LEAVE IT AND GO TO MY DREAM BUBBLE. YOU&#x27;RE DONE HERE.&quot; Ransha says.

The Princess of Time tilts her head back to gaze at the sky, not even bothering to look at you. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;well you heard the stupid alien.&quot;&lt;/span&gt;

You turn away.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Be hurt]]</tw-passagedata><tw-passagedata pid="121" name="Doomed!Hazel: Be hurt" tags="dark" position="2100,1250">You wouldn&#x27;t even bother paying attention at this point, except that the heiress to the coral throne is just too damn loud.

&quot;HOW COULD YOU BE SO MEAN TO POOR DOOMED HAZEL HERE? I MEAN, SHE&#x27;S BEEN FEELING THE MAD PASSIONS FOR YOU FOREVER AND NOW SHE&#x27;S DOOMED AND SHE&#x27;LL NEVER FIND PEACE, SEEMS LIKE THE LEAST YOU COULD DO IS MASH PROTEIN FLAPS FOR A SATISFYING MINUTE OR TWO, LIKE A CULLING REQUEST FOUNDATION GIFT&quot;

There&#x27;s a pause.

&quot;OH, BY ALIEN YOU MEANT ME. OOPS. GOT IT.&quot;{
}
0. Make a retreat, write some notes, and try to sneak them onto Tara
0. Ransha, you have a dream bubble?
0. Punch Ransha in the face
0. Punch Tara in the face
0. The last thing I want now is to kiss this bitchy Tara. I guess there&#x27;s no guarantee that the Alpha timeline is the best timeline
{
}&gt; [[Doomed!Hazel: Stew in righteous anger, and wait for the ponytailed one to speak her piece.-&gt;Doomed!Hazel: Teleport away]]
&gt; [[Doomed!Hazel: Feel better now? Good.-&gt;Doomed!Hazel: Teleport away]]
&gt; [[Doomed!Hazel: Don&#x27;t reset your session. And give Hazel this message I wrote.-&gt;Doomed!Hazel: Teleport away]]
&gt; [[Doomed!Hazel: With renewed hope and purpose, resolve to find and wake every dream kid, starting with the Doomed!Tara who loves you.-&gt;Doomed!Hazel: Teleport away]]
&gt; [[Doomed!Hazel: Before you leave, give the mermaid of hope a hug and tell her your glad that you&#x27;re friends.-&gt;Doomed!Hazel: Teleport away]]
&gt; [[Doomed!Hazel: Then punch her in the arm and teleport away.-&gt;Doomed!Hazel: Teleport away]]</tw-passagedata><tw-passagedata pid="122" name="Doomed!Hazel: Teleport away" tags="dark" position="2100,1400">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;hazel already made me mash protein flaps with her for a whole minute and i didn&#x27;t even want that. why do you care about this all of a sudden?&quot;&lt;/span&gt; says the Sylph, seemingly not paying you any mind.

You fume silently, hurt and angry. Ransha rolls her eyes.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i mean,&quot;&lt;/span&gt; Tara says, as if making a decision. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay fine. but i&#x27;m not doing this for you, ransha.&quot;&lt;/span&gt;

The ponytailed girl leans toward you to give you a peck on the cheek.

You push her face away with your palm. &lt;span class=&quot;hazel-text&quot;&gt;&quot;I may be just pitiful, Doomed Hazel, but that doesn&#x27;t mean I want your pity.&quot;&lt;/span&gt;

Tara&#x27;s caught off-guard. Knowing her, this wasn&#x27;t the way she expected the story to go. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i&#x27;m sure there&#x27;s some other me out there —&quot;&lt;/span&gt;

You don&#x27;t let her get any further. &lt;span class=&quot;hazel-text&quot;&gt;&quot;I&#x27;m sure there&#x27;s a lot of you,&quot;&lt;/span&gt; you agree. &lt;span class=&quot;hazel-text&quot;&gt;&quot;And some of them might just be as nice as I thought you were. Doesn&#x27;t matter, going to wake them all up.&quot;&lt;/span&gt;

Ransha raises an eyebrow, but says nothing.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Don&#x27;t reset your session, Tara. It won&#x27;t work,&quot;&lt;/span&gt; you say finally, before tapping deep into your powers and disappearing away.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Survey]]</tw-passagedata><tw-passagedata pid="123" name="Doomed!Hazel: Survey" tags="dark" position="2100,1550">You use your Space powers to survey the dream space of your bubble. If you stretch your abilities, you can —

Oh, right.

You take a moment to record your thoughts onto paper for your Alpha self.

&gt; [[`===&gt;`-&gt;Doomed!Hazel: Reappear]]</tw-passagedata><tw-passagedata pid="124" name="Doomed!Hazel: end transmission" tags="dark" position="2100,1850">&gt; (link: &quot;Doomed!Hazel: Be Tara in the past.&quot;)[(set: $name to &#x27;Tara Tan&#x27;)(goto: &quot;Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.&quot;)](if: false)[ [[Tara: I&#x27;m sorry, Hazel. I think you&#x27;re dead.]] ]

Or:

&gt; (link: &quot;Doomed!Hazel: Be Tara.&quot;)[(set: $name to &#x27;Tara Tan&#x27;)(goto: &quot;Tara: Take the note&quot;)](if: false)[ [[Tara: Take the note]] ]

Or:

&gt; (link: &quot;end transmission&quot;)[(set: $name to 0)(goto: &quot;Hearthchained: In the Dark&quot;)](if: false)[ [[Hearthchained: In the Dark]] ]</tw-passagedata><tw-passagedata pid="125" name="Doomed!Hazel: Reappear" tags="dark" position="2100,1700">You teleport yourself to the very edge of your dream bubble, where the two girls are about to leave through the blurry transition between the fields of [[LoCaB]] and grey sands, lit by moonlight.

Right behind Ransha.

You sweep the alien girl into a sneaky side hug, eliciting a shocked squawk. &lt;span class=&quot;hazel-text&quot;&gt;&quot;I&#x27;m glad we&#x27;re friends, Fishbits. Good luck, although I don&#x27;t think you need it.&quot;&lt;/span&gt;

Before she&#x27;s able to counter your hug with a toothy assault, you vanish to a safe distance away, and glide without motion before Tara. You hand her your note. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Give this to Alpha me. If you can&#x27;t take it with you, read it. And then pass it on.&quot;&lt;/span&gt;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, okay,&quot;&lt;/span&gt; says the Alpha Tara. It&#x27;s hard for you to read her face, but you think you see... a sort of wistfulness. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;don&#x27;t... whatever can happen to you out here.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;I won&#x27;t,&quot;&lt;/span&gt; you say, with sudden determination, sharp as iron.

You vanish once more, into dreams beyond.

&gt; [[`==&gt;`-&gt;Doomed!Hazel: end transmission]]</tw-passagedata><tw-passagedata pid="126" name="Tara: Get chewed out by Ransha about Hazel" tags="dark" position="1900,1250">&quot;HOW COULD YOU BE SO MEAN TO POOR DOOMED HAZEL HERE? I MEAN, SHE&#x27;S BEEN FEELING THE MAD PASSIONS FOR YOU FOREVER AND NOW SHE&#x27;S DOOMED AND SHE&#x27;LL NEVER FIND PEACE, SEEMS LIKE THE LEAST YOU COULD DO IS MASH PROTEIN FLAPS FOR A SATISFYING MINUTE OR TWO, LIKE A CULLING REQUEST FOUNDATION GIFT&quot;

You pause to consider her sudden outburst.

&quot;OH, BY ALIEN YOU MEANT ME. OOPS. GOT IT.&quot;

&gt; [[Tara: Hazel already made me mash protein flaps with her for a whole minute and I didn&#x27;t even want that. Why do you care about this all of a sudden?-&gt;Tara: Try to speechify]]
&gt; [[Tara: I mean... okay fine. But I&#x27;m not doing this for you, Ransha.-&gt;Tara: Try to speechify]]
&gt; [[Tara: Look, Hazel, I&#x27;m sorry, because I know you fought hard, but your story is over. There&#x27;s an Alpha!Hazel out there and I have to be her friend and Olivia&#x27;s friend and I&#x27;m not going to go around making out with alternate versions of her-slash-you.-&gt;Tara: Try to speechify]]
&gt; [[Tara: I might have liked you a long time ago, and I might have liked you in some future that isn&#x27;t mine. But now I have to make my own way, and figure my own shit out, and not dwell on the could-have-beens.-&gt;Tara: Try to speechify]]
&gt; [[Tara: Kiss Doomed!Hazel on the cheek.-&gt;Tara: Try to speechify]]
&gt; [[Tara: But I meant what I said. There&#x27;s probably some less bitchy doomed me out there in a dream bubble who has a lot of regrets about you. I think you should look for her and wake her up.-&gt;Tara: Try to speechify]]
&gt; [[Tara: Sigh. I think maybe we should just go to your dream bubble, Ransha.-&gt;Tara: Try to speechify]]</tw-passagedata><tw-passagedata pid="127" name="Tara: Try to speechify" tags="dark" position="1900,1400">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;hazel already made me mash protein flaps with her for a whole minute and i didn&#x27;t even want that. why do you care about this all of a sudden?&quot;&lt;/span&gt; you ask.

Hazel looks hurt and angry, while Ransha just rolls her eyes. 

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i mean, okay fine. but i&#x27;m not doing this for you, ransha.&quot;&lt;/span&gt;

You lean in to give Hazel a peck on the cheek, and meet an open palm.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;I may be just pitiful, Doomed Hazel,&quot;&lt;/span&gt; says Doomed!Hazel coldly, &lt;span class=&quot;hazel-text&quot;&gt;&quot;but that doesn&#x27;t mean I want your pity.&quot;&lt;/span&gt;

This was not how you expected the story to go. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i&#x27;m sure there&#x27;s some other me out there —&quot;&lt;/span&gt; you start, but don&#x27;t get any further.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;I&#x27;m sure there&#x27;s a lot of you,&quot;&lt;/span&gt; says Hazel tersely. &lt;span class=&quot;hazel-text&quot;&gt;&quot;And some of them might just be as nice as I thought you were. Doesn&#x27;t matter, going to wake them all up.&quot;&lt;/span&gt;

Ransha raises an eyebrow, but says nothing.

&lt;span class=&quot;hazel-text&quot;&gt;&quot;Don&#x27;t reset your session, Tara,&quot;&lt;/span&gt; Doomed!Hazel says.  &lt;span class=&quot;hazel-text&quot;&gt;&quot;It won&#x27;t work.&quot;&lt;/span&gt; She disappears.

You look over to the troll princess, and sigh. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i think,&quot;&lt;/span&gt; you say haltingly, &lt;span class=&quot;tara-text dark&quot;&gt;&quot;maybe we should just go to your dream bubble now.&quot;&lt;/span&gt;

&quot;FAIR ENOUGH,&quot; she agrees. She holds out a hand.

Oh, right.

You hand the 2x3dent back to the warrior princess, who gives it a confident spin.

The two of you set off in an awkward silence.

&gt; [[`===&gt;`-&gt;Tara: Cross the border]]</tw-passagedata><tw-passagedata pid="128" name="Tara: Cross the border" tags="dark" position="1900,1550">At the end of the dream bubble, where you&#x27;re about to cross into a blurry landscape of grey sands and the light of two moons, Hazel reappears.

Behind Ransha.

The alien girl&#x27;s keen senses give her no warning as she is swept up into a side hug. She squawks in indignant protest. &lt;span class=&quot;hazel-text&quot;&gt;&quot;I&#x27;m glad we&#x27;re friends, Fishbits. Good luck, although I don&#x27;t think you need it.&quot;&lt;/span&gt;

Ransha goes to bite, but gets nothing but air. You hear her teeth clack loudly as she bounces lightly away into a combat pose.

Hazel glides into your vision with neither sound nor motion. &lt;span class=&quot;hazel-text&quot;&gt;&quot;Give this to Alpha me. If you can&#x27;t take it with you, read it. And then pass it on.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Take the note]]</tw-passagedata><tw-passagedata pid="129" name="Tara: Take the note" tags="dark" position="1900,1850">Your steely facade softens a bit. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, okay,&quot;&lt;/span&gt; you say, not unkindly. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;don&#x27;t... whatever can happen to you out here.&quot;&lt;/span&gt;

&lt;span class=&quot;hazel-text&quot;&gt;&quot;I won&#x27;t,&quot;&lt;/span&gt; Doomed!Hazel says, eyes sparkling, with determination etched into her face.

That&#x27;s more like the Hazel you know.

The doomed Witch of Space disappears, leaving the two of you, each alien to the other, on the grey sandy shores of Dream Alternia.

A rock whistles through the empty space formerly occupied by Hazel&#x27;s head.

&quot;YOU... HUG MOLESTER! AND DON&#x27;T COME BACK&quot;{
}
0. Where is this?
0. Read letter
0. Cry a little bit
0. Suck it up and show no weakness in front of Ransha
{
}&gt; [[Tara: Cry a little.-&gt;Tara: Cry a little]]
&gt; [[Tara: ...sorry.-&gt;Tara: Cry a little]]
&gt; [[Tara: So this is your world?-&gt;Tara: Cry a little]]

Or:

&gt; (link: &quot;Tara: Be Doomed!Hazel in the past.&quot;)[(set: $name to &#x27;Doomed!Hazel Saigo&#x27;)(goto: &quot;Narrator: Open Doomed!Hazel&#x27;s prompt.&quot;)](if: false)[ [[Narrator: Open Doomed!Hazel&#x27;s prompt.]] ]</tw-passagedata><tw-passagedata pid="130" name="Tara: Cry a little" tags="dark" position="2000,2000">&quot;YEAH. I HOPE YOU DON&#x27;T WANT A TOUR OAR ANYTHING, BECAUSE IT&#x27;S NOT FUCKING HAPPENING.&quot; Ransha gesticulates towards the sea. &quot;I DON&#x27;T THINK YOU&#x27;D DROWN BUT IF YOU GOT DISTRACTED OR TOO INTO IT YOU MIGHT, OR YOU MIGHT GET FUCKING MASHED BECAUSE IT&#x27;S DEEP AND YOU&#x27;RE SOFT AND BEIGE. LIKE TROUSERS&quot;

She stops for a moment.

&quot;ARE YOU FUCKING CRYING?&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;...sorry.&quot;&lt;/span&gt; You wipe the evidence, a single tear, away hastily.

&quot;FUCK THIS. FUCK YOU. I CAN&#x27;T FUCKING HANDLE THIS. GET IT TOGETHER, HUMAN. YOU CAN CRY WHEN YOU&#x27;RE DEAD. GET LIAM OVER THE FUCKING HUMP SO I CAN TALK TO HIM.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;did you go through all this trouble just to tell me that?&quot;&lt;/span&gt; You notice that you&#x27;re trembling, and you try to still yourself so she doesn&#x27;t notice.

&quot;I GOT TO MURDER A HUMAN WITHOUT DOOMING MYSELF, SO I CONSIDER THE SACRIFICE WORTH IT,&quot; the petite princess says, before she sees your face. For the first time, you see an expression of immediate regret trace itself across the troll girl&#x27;s countenance.

&quot;DON&#x27;T BE LIKE THAT. IT&#x27;S HOW WE ARE. THERE ARE TOO MANY TROLL KIDS, WE CAN&#x27;T ALL GROW UP... SO WE FIGHT. NONE OF THIS &#x27;ADULT&#x27; AND &#x27;CHILD&#x27; AND &#x27;ANTI BULLYING CAMPAIGN&#x27; HOOFBEAST SHIT THAT MAKES UP A HUMAN CHILDHOOD.&quot;

You sigh. You&#x27;ve been doing a lot of that. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay fine w/e. anything else you wanna tell me?&quot;&lt;/span&gt; you ask, gingerly walking towards the grey waves.

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha&#x27;s request]]</tw-passagedata><tw-passagedata pid="131" name="Tara: Listen to Ransha&#x27;s request" tags="dark" position="2350,200">&quot;LOOK. SHIT&#x27;S ABOUT TO HIT THE FAN OVER THERE&quot; Ransha says, stepping into the sea just past her ankles. &quot;AND I THINK THAT YOU ARE GOING TO MAKE OUR UNIVERSE. SO THIS IS SORT OF LIKE TIME TRAVEL, RIGHT?&quot;

You consider this for a moment. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i mean i guess sure, totally? but it&#x27;s not just time, it&#x27;s also interdimensional travel and i don&#x27;t know how predestiny —&quot;&lt;/span&gt;

&quot;LET ME CUT YOU OFF THERE BEFORE YOU DRIBBLE OUT A WHOLE BUNCH OF SHIT I DONT CARE ABOUT,&quot; she says. &quot;TO MAKE A LONG STORY SHORT, I KNOW THAT YOU&#x27;RE GOING TO JAM OUR UNIVERSE FULL OF STORY SHIT. AND I WANT TO...&quot;

The alien girl trails off.

Your eyebrows form an inscrutable juxtaposition, beckoning her to continue.

&quot;I WANT TO READ IT. MAYBE EDIT IT OR MAKE A SUGGESTION. BECAUSE THERE&#x27;S A LOT OF SHIT THAT&#x27;S SHIT IN OUR WORLD AND I WANT YOU TO CHANGE SOME CONTEXT SO IT&#x27;S NOT ALL AS BAD AS IT IS.&quot;{
}
0. Hahaha no and fuck you, Ransha
0. As long as you don&#x27;t get in the way of my sweet, sweet slash... maybe
0. Why would I?
{
}&gt; [[Tara: Walk into the sea a bit.-&gt;Tara: Walk into the sea]]
&gt; [[Tara: Okay, Ransha.-&gt;Tara: Walk into the sea]]
&gt; [[Tara: I&#x27;m trying to write my own future. I can&#x27;t argue if you do too.-&gt;Tara: Walk into the sea]]</tw-passagedata><tw-passagedata pid="132" name="Tara: Walk into the sea" tags="dark" position="2350,550">&quot;OKAY THEN,&quot; the fishy princess replies. &quot;LOOK. WALK WITH ME ALONG THIS BEACH.&quot;

You shrug faintly. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay,&quot;&lt;/span&gt; you call out. Like every beach trip you&#x27;ve ever been on, the grey sands have somehow made their way into your shoes, and there&#x27;s a silicon crunch between your toes as you begin to trail behind your otherworldly comrade.

&quot;THERE&#x27;S A REASON FOR THAT, TOO,&quot; you hear the heiress say from ahead of you. &quot;TIME IS ALL FUCKED UP OUT HERE. IF YOU STAY IN ONE PLACE, IT HAS A TENDENCY TO NOT PASS ANYWHERE. IT&#x27;S WHY SO MANY OF THE GHOSTS AND SHIT OUT HERE ARE SO SHITHIVE CRAZY — THEY&#x27;RE ALONE IN THEIR OWN FUCKING HEADS OR NIGHTMARE OR WHATEVER THE FUCK FOR WHAT MUST SEEM LIKE A GILLION YEARS&quot;

You turn this idea over in your mind. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;wait. time is space out here?&quot;&lt;/span&gt;

&quot;NO. OR YES. WHO FUCKING KNOWS. SOMETIMES TIME PASSES IF YOU&#x27;RE JUST SITTING SOMEWHERE DOING SOMETHING FUN. SOMETIMES IT DOESN&#x27;T. I HAVEN&#x27;T FIGURED OUT ANY RIME OR REASON IT&#x27;S JUST STANDING STILL DOESN&#x27;T USUALLY WORK.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;sounds p. weird to me, but okay,&quot;&lt;/span&gt; you say, splashing through the ankle-deep grey tide, which has by now come in.

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha talk about the troll world]]</tw-passagedata><tw-passagedata pid="133" name="Tara: Listen to Ransha talk about the troll world" tags="dark" position="2350,700">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;so okay. tell me about this story you wanna tell about your people. and what your other troll friends want, too.&quot;&lt;/span&gt;

&quot;MAN FUCK THOSE GUYS. THOSE GUYS ARE ALL ASSHOLES.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i mean you&#x27;re totally an asshole, and i&#x27;m talking to you anyway,&quot;&lt;/span&gt; you point out.

&quot;OK FINE. HERE, LOOK. I KNOW WE&#x27;RE GOING TO GET INTO THE GAME AT SOME POINT AND WE GET OUR SESSION FUCKING HIJACKED. I WANT YOU TO MAKE SURE THAT WE HAVE THE TOOLS TO TAKE IT ALL FUCKING BACK.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;like you need anymore tools besides the ones you started your session with?&quot;&lt;/span&gt;

Ransha just ignores this. &quot;WELL TRY AND MAKE THE TROLL WORLD. DON&#x27;T FUCKING GIVE IN TO OLIVIA AND FILL IT ALL WITH CUTE LITTLE JELLY BLOBS AND BABY DRAGONS AND UNICORNS.&quot; In her sing-song voice, the jelly blob universe doesn&#x27;t sound unappealing. &quot;ALTHOUGH I SUPPOSE THE MAGIC HORN CREATURES PART MIGHT HAVE BEEN PART OF THE RECIPE, WHO FUCKING KNOWS. AND THEN AFTER THAT, A COUPLE MORE THINGS.&quot;

You slow your walk slightly. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;like what?&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha ask for Condesce powers]]</tw-passagedata><tw-passagedata pid="134" name="Tara: Listen to Ransha ask for Condesce powers" tags="dark" position="2350,850">Ransha stops, noticing the shift in your tone of voice, and turns around. Dual moonlight glints off of her candy corn horns. &quot;IT WOULD BE IDEAL IF I COULD COME INTO MY CONDESCE POWERS, LIKE, AS SOON AS I WAKE UP.&quot;

A dubious look crosses your face. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh. there are condesce powers?&quot;&lt;/span&gt;

&quot;LIKE TELEKINESIS, MIND CONTROL, ENERGY PROJECTION AND SHIT.&quot;

You think about this for a long while. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;and... i&#x27;m supposed to just trust you with energy projection and shit?&quot;&lt;/span&gt;

&quot;FUCK YOU. I MIGHT HATE YOU AND YOU MIGHT HATE ME BUT I&#x27;M THE MOST REASONABLE FUCKING TROLL BY FAR.&quot;{
}
0. I don&#x27;t know, Ransha. Sesili seems reasonable
0. I&#x27;ll discuss it with the others
0. So what&#x27;s Liam&#x27;s part in all this? Because I don&#x27;t mind telling you, he&#x27;s kind of on my... uh... load parser... list right now
0. I&#x27;m concerned about what kind of world you&#x27;ll make
0. For such a screaming maniac all the time, you do sort of seem to have the big picture in mind. Maybe you&#x27;re not so bad after all
{
}&gt; [[Tara: Fuck you too. You could be a little fucking nicer if you want something from me.-&gt;Tara: Splash Ransha]]
&gt; [[Tara: Splash Ransha with seawater petulantly.-&gt;Tara: Splash Ransha]]
&gt; [[Tara: Don&#x27;t think that I&#x27;m going to make your wish come true just because I&#x27;m supposed to be a Sylph or something.-&gt;Tara: Splash Ransha]]
&gt; [[Tara: If you want me to help you, I need to know what you&#x27;re going to do with these Condesce whatever powers.-&gt;Tara: Splash Ransha]]
&gt; [[Tara: And I want you to tell me about this universe you made.-&gt;Tara: Splash Ransha]]</tw-passagedata><tw-passagedata pid="135" name="Tara: Splash Ransha" tags="dark" position="2350,1000">Ransha&#x27;s eyes narrow as the water hits her face. A drop flies in her eye, but she doesn&#x27;t seem to share the flinching reaction to it that a human might.

Probably a sea troll thing, you think to yourself.

&quot;YEAH YOU&#x27;RE A SYLPH. I HONESTLY DIDN&#x27;T EVEN THINK ABOUT THAT, YOU COULD MAKE ALL OF MY DREAMS OF NOT BEING DOOMED COME TRUE. HOW FUCKING SELFISH OF ME,&quot; says the diminutive princess, with biting sarcasm.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;wait like. big-d Doomed or little-d dOOMED?&quot;&lt;/span&gt;

&quot;DON&#x27;T MAKE FUN OF HOW I TALK!&quot; she shouts. It&#x27;s clear from the tone that she does //not// enjoy your teasing. &quot;AND... UH...  LITTLE D DOOMED, I THINK. YES. THAT&#x27;S THE ONE. I HOPE&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i dunno if giving you phenomenal cosmic powers is the greatest idea,&quot;&lt;/span&gt; you opine doubtfully. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;what would you even do with these condesce w/e powers?&quot;&lt;/span&gt;

&quot;IF MY FUCKING HATCHRIGHT WOULD SHORE UP THE EGREGIOUS SHORTCOMINGS OF MY OTHER HATCHRIGHT, I MIGHT BE ABLE TO GET THE FUCKING GRUBSNACKS THAT I AM FORCED TO CALL &#x27;HEROES&#x27; TO FUCKING GET IN LINE AND SAVE A WHOLE FUCKING UNIVERSE.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;no i know what you want. or like, what your goals are. but i mean, what are you actually gonna do?&quot;&lt;/span&gt;

&quot;SMOKE SOME FUCKING FOOLS WHO REALLY, REALLY NEED A COMEUPPANCE. I KNOW THAT SOUNDS SHITTY TO YOU BUT YOU REALLY HAVE TO BELIEVE ME, SOME OF THOSE CLEFTWIPES NEED A FULL ON OPTIC BLAST TO THE JOINREGION.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;ahahaha joinregion?&quot;&lt;/span&gt; you interrupt, with mirth in your voice.

Ransha steps in with blazing speed for an open-handed slap to the face, but you instinctively speed yourself up and move out of the way.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay now. tell me about your universe.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha talk about her universe]]</tw-passagedata><tw-passagedata pid="136" name="Tara: Listen to Ransha talk about her universe" tags="dark" position="2350,1150">&quot;I DON&#x27;T WANT TO TALK ABOUT IT&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;too fucking bad, if you want me to help you,&quot;&lt;/span&gt; you tell her, crossing your arms. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i need to know. what kind of an idea are you?&quot;&lt;/span&gt;

&quot;FINE. BUT YOU HAVE TO KEEP IT AN ABSOLUTE FUCKING SECRET ALL RIGHT? IF YOU TELL ANYONE I WILL FIND A WAY TO MURDER YOU FOREVER, ACROSS ALL TIMELINES. ALL OF PARADOX SPACE WILL BE LIKE A FUCKING BURNT IN PLASMA TRANSVIEW MONITOR SHOWING NOTHING BUT MY SMILING FACE OVER YOUR CORPSE.&quot;

You purse your lips at the perfunctory threat. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;well?&quot;&lt;/span&gt;

Ransha whispers.

&quot;I &lt;span class=&quot;ransha-text whisper&quot;&gt;WANT A SOFT PINK AND SQUISHY WORLD LIKE YOURS&lt;/span&gt;.&quot;

It wasn&#x27;t much of a whisper, but it was quiet by Ransha standards.{
}
0. WHY I mean why, Ransha?
0. Slap Ransha in the face
0. I need to know more than &quot;Soft and squishy&quot;
0. Snicker. Sorry, Joinregion
{
}&gt; [[Tara: Haha, okay, really now tell me about your for real universe frog.-&gt;Tara: Tell Ransha she&#x27;s cute]]
&gt; [[Tara: Uh, I.-&gt;Tara: Tell Ransha she&#x27;s cute]]
&gt; [[Tara: Wow, okay, I guess you&#x27;re not kidding.-&gt;Tara: Tell Ransha she&#x27;s cute]]
&gt; [[Tara: I guess I thought you were a troll supremacist or something? Why do you and your alien friends want a world full of walking spam?-&gt;Tara: Tell Ransha she&#x27;s cute]]
&gt; [[Tara: It&#x27;s... sort of cute how embarrassed you are about this.-&gt;Tara: Tell Ransha she&#x27;s cute]]</tw-passagedata><tw-passagedata pid="137" name="Tara: Tell Ransha she&#x27;s cute" tags="dark" position="2350,1300">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;haha, okay, really now tell me about your for real universe frog,&quot;&lt;/span&gt; you say, waiting for the joke.

Ransha gives you the sort of look that indicates that no punchline is forthcoming.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i. wow, okay,&quot;&lt;/span&gt; you babble, thrown a bit off-guard. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i guess you&#x27;re not kidding. i guess i thought you were a troll supremacist or something? why do you and your alien friends want a world full of walking spam?&quot;&lt;/span&gt;

The troll girl is about to respond when the thought strikes you. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;it&#x27;s... sort of cute how embarrassed you are about this,&quot;&lt;/span&gt; you admit.

&gt; [[`===&gt;`-&gt;Tara: Get slapped]]</tw-passagedata><tw-passagedata pid="138" name="Tara: Get slapped" tags="dark" position="2350,1450">The petite princess reacts to the perceived slight with superhuman speed, closing the distance between you in an instant. This time, her outstretched hand flashes across your face before you even notice it happens, and the aquatic alien&#x27;s webbed hand delivers a mighty, stinging slap that draws blood fully to the surface.

[&gt; [Tara: Yelp in pain and surprise.]&lt;yelp|]&lt;yelp_prompt|{

}(click: ?yelp)[(replace: ?yelp_prompt)[You yelp involuntarily, in pain and surprise.

[&gt; [Tara: Use Time mastery to slap Ransha back.]&lt;slap|]&lt;slap_prompt| ] ]{

}(click: ?slap)[(replace: ?slap_prompt)[But by this time you&#x27;ve already planned to counter anything she might do to you.

When you slap Ransha back, she tries to block it with her hand, but your augmented speed zips past it, making contact with Ransha&#x27;s rough skin. Something like a shark, it feels like worn silk in one direction and ground glass in the other.

It draws blood from your hand, but the effect on Ransha is even more substantial. A pink blush immediately welts up on her cheek, and she turns shyly inwards as though that would somehow conceal what has already transpired.

[&gt; [Tara: I promise not to tell. I&#x27;ll even pinky promise it.]&lt;promise|]&lt;promise_prompt| ] ]{

}(click: ?promise)[(replace: ?promise_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i promise not to tell,&quot;&lt;/span&gt; you offer, trying to be reassuring. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i&#x27;ll even pinky promise it.&quot;&lt;/span&gt;

&quot;I DON&#x27;T BELIEVE YOU. TO YOU I&#x27;M JUST SOME ASSHOLE ALIEN. YOU&#x27;D TELL YOUR FRIENDS ANYTHING I SHARED.&quot;

[&gt; [Tara: I swear on Dean&#x27;s Baby I won&#x27;t tell anyone.]&lt;swear|]&lt;swear_prompt| ] ]{

}(click: ?swear)[(replace: ?swear_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i swear on dean&#x27;s baby i won&#x27;t tell anyone!&quot;&lt;/span&gt; you declare.

&gt; [Tara: Maybe you&#x27;re just some asshole alien, but asshole aliens must have the feels too, I guess.]&lt;sympathy|]&lt;sympathy_prompt| ] ]{

}(click: ?sympathy)[(replace: ?sympathy_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i swear on dean&#x27;s baby i won&#x27;t tell anyone!&quot;&lt;/span&gt; you declare. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;maybe you&#x27;re just some asshole alien, but asshole aliens must have the feels too, i guess.&quot;&lt;/span&gt;

&gt; [Tara: Mysterious and perplexing feels.]&lt;mysterious|]&lt;mysterious_prompt| ] ]{

}(click: ?mysterious)[(replace: ?mysterious_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i swear on dean&#x27;s baby i won&#x27;t tell anyone!&quot;&lt;/span&gt; you declare. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;maybe you&#x27;re just some asshole alien, but asshole aliens must have the feels too, i guess. mysterious and perplexing feels.&quot;&lt;/span&gt;

&gt; [Tara: Now tell me about why you made your Anthropic Croaker.]&lt;question|]&lt;question_prompt| ] ]{

}(click: ?question)[(replace: ?question_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i swear on dean&#x27;s baby i won&#x27;t tell anyone!&quot;&lt;/span&gt; you declare. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;maybe you&#x27;re just some asshole alien, but asshole aliens must have the feels too, i guess. mysterious and perplexing feels.

&quot;now,&quot;&lt;/span&gt; you say, changing the subject from your musings, &lt;span class=&quot;tara-text dark&quot;&gt;&quot;tell me about why you made your anthropic croaker.&quot;&lt;/span&gt;

Ransha sighs. &quot;IT&#x27;S NOT AN ANTHROPIC CROAKER. IT&#x27;S A JOTNAREC CROAKER.&quot;

&gt; [[`===&gt;`-&gt;Tara: Listen to Ransha&#x27;s story]] ] ]</tw-passagedata><tw-passagedata pid="139" name="Tara: Listen to Ransha&#x27;s story" tags="dark" position="2350,1600">&quot;L&lt;span class=&quot;ransha-text whisper&quot;&gt;OOK&lt;/span&gt;,&quot; she continues in a whisper, trying not to look at you. &quot;M&lt;span class=&quot;ransha-text whisper&quot;&gt;Y LIFE WAS TRASH — LITERALLY, LIKE MY ROOM WAS MADE UP FROM AND FILLED WITH TRASH THAT SANK INTO THE DEEP OCEAN. &lt;/span&gt;A&lt;span class=&quot;ransha-text whisper&quot;&gt;ND THIS WHOLE FUCKING THING HAPPENED BEFORE &lt;/span&gt;I&lt;span class=&quot;ransha-text whisper&quot;&gt; EVEN HAD A CHANCE TO PURSUE MY HATCHRIGHT, NOT THAT &lt;/span&gt;I&lt;span class=&quot;ransha-text whisper&quot;&gt; HAD ANY REAL CHANCE OF DOING SO.&lt;/span&gt;

&quot;M&lt;span class=&quot;ransha-text whisper&quot;&gt;AYBE &lt;/span&gt;I&lt;span class=&quot;ransha-text whisper&quot;&gt; JUST DON&#x27;T WANT TO LIVE LIKE THAT ANYMORE, AND &lt;/span&gt;I&lt;span class=&quot;ransha-text whisper&quot;&gt; DON&#x27;T REALLY WANT TO MAKE ANYONE ELSE DO IT EXCEPT THE FUCKING TROLL TRASH &lt;/span&gt;I&lt;span class=&quot;ransha-text whisper&quot;&gt; BROUGHT INTO THE MEDIUM WITH ME.&lt;/span&gt;

&quot;SO THAT&#x27;S WHY.&quot;{
}
0. You make up your own prompts anyway
{
}&gt; [[Tara: That&#x27;s kind of a sad story.-&gt;Tara: Have an awkward moment with Ransha]]
&gt; [[Tara: Like, really sad.-&gt;Tara: Have an awkward moment with Ransha]]
&gt; [[Tara: Okay, you have convinced this soft pink human I guess.-&gt;Tara: Have an awkward moment with Ransha]]
&gt; [[Tara: So that&#x27;s the whole plan? I write you these Condesce powers?-&gt;Tara: Have an awkward moment with Ransha]]</tw-passagedata><tw-passagedata pid="140" name="Tara: Have an awkward moment with Ransha" tags="dark" position="2350,1750">&quot;IF YOU HAVE SOME OTHER SOLUTION, I&#x27;M ALL AURACULAR SPONGE,&quot; the princess of hope notes. &quot;OR, I DON&#x27;T KNOW, MAYBE YOU COULD JUST SPEED UP MY DEVELOPMENT SO I GET THEM.&quot;

She angles her wide gaze straight at you. &quot;THIS IS BASICALLY YOUR FAULT. YOU MADE THIS. TAKE SOME FUCKING RESPONSIBILITY AND LET ME TAKE SOME RESPONSIBILITY.&quot;

You feel under the spotlight all of a sudden. The petite girl&#x27;s stare is very intense.

Her eyes narrow, and she steps toward you, once again within slapping distance. &quot;IT&#x27;S KIND OF LOAD THAT I HAVE TO EXPLAIN MYSELF TO MY TORTURER.&quot;

[&gt; [Tara: I&#x27;m not your torturer. I didn&#x27;t try to be anyway.]&lt;torturer|]&lt;torturer_prompt|{

}(click: ?torturer)[(replace: ?torturer_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i&#x27;m not your torturer. i didn&#x27;t try to be anyway.&quot;&lt;/span&gt;

This is the closest Ransha has ever been to you without an expression of glee or viciousness on her face.

[&gt; [Tara: Uh, I.]&lt;babble|]&lt;babble_prompt| ] ]{

}(click: ?babble)[(replace: ?babble_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i,&quot;&lt;/span&gt; you start, falteringly.

&gt; [Tara: I&#x27;m sorry? For all the stupid shittiness you had to grow up with.]&lt;apology|]&lt;apology_prompt| ] ]{

}(click: ?apology)[(replace: ?apology_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i. i&#x27;m sorry? for all the stupid shittiness you had to grow up with.&quot;&lt;/span&gt;

[&gt; [Tara: Turn back away from Ransha, and idly kick some Alternian seawater away from the shore.]&lt;turn|]&lt;turn_prompt| ] ]{

}(click: ?turn)[(replace: ?turn_prompt)[You turn your back to the alien girl, and try kicking some seafoam out to sea. Droplets of grey water rise into the air and splash quietly back onto the waves.

[&gt; [Tara: ...anyway, I told you that I think you should be able to write your own destiny. I don&#x27;t change my mind so easy.]&lt;destiny|]&lt;destiny_prompt| ] ]{

}(click: ?destiny)[(replace: ?destiny_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;...anyway, i told you,&quot;&lt;/span&gt; you insist, &lt;span class=&quot;tara-text dark&quot;&gt;&quot;that i think you should be able to write your own destiny. i don&#x27;t change my mind so easy.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Have a heart-to-heart with Ransha]] ] ]</tw-passagedata><tw-passagedata pid="141" name="Tara: Have a heart-to-heart with Ransha" tags="dark" position="2350,1900">&quot;WHAT&#x27;S THAT SUPPOSED TO MEAN?&quot; the troll girl asks, behind you. You feel yourself being grabbed by the shoulders and spun around to face Ransha. &quot;I ALWAYS WAS GOING TO. BUT I NEED YOUR HELP. I CAN&#x27;T DO THIS ALONE. I&#x27;M TIRED, TARA.&quot;{
}
[0. NO RANSHA I mean, no, Ransha, I&#x27;m Dean
0. ...are you hitting on me?
0. We&#x27;ll do it together, Ransha. Just like dad taught us
{
}&gt; [Tara: Be kind of speechless for a moment.]&lt;supernatural|]&lt;supernatural_choice|{

}(click: ?supernatural)[(replace: ?supernatural_choice)[
You have no idea what to say. You certainly weren&#x27;t expecting this.

Thoughts of Sam and Dean Winchester, and Dean&#x27;s angel Castiel, and [BM scenes]&lt;melodrama| rise to your mind.

[&gt; [Tara: You don&#x27;t have to do this alone, Ransha.]&lt;alone|]&lt;alone_prompt| ] ]{

}(click: ?alone)[(replace: ?alone_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you don&#x27;t have to do this alone, ransha,&quot;&lt;/span&gt; you say softly. [

&gt; [Tara: I can help, if you let me.]&lt;help|]&lt;help_prompt| ] ]{

}(click: ?help)[(replace: ?help_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i can help, if you let me.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Watch Ransha be defeated]] ] ]{

}(click-replace: ?melodrama)[boy melodrama scenes]</tw-passagedata><tw-passagedata pid="142" name="Tara: Watch Ransha be defeated" tags="dark" position="2350,2050">&quot;CONSIDER YOURSELF LET. HELP ME. SAVE ME,&quot; Ransha says. &quot;AND WITH THAT, MY DEFEAT IS COMPLETE.&quot;

She seems to deflate a bit. She clearly doesn&#x27;t have any guiding insight as to who to be or what to do in this moment.

Your minimal understanding of troll culture is that right now is a time when a rival would strike her down, and be rewarded for it. At this moment, all she has now is Hope.

In this light, she suddenly seems a very different creature.

[&gt; [`===&gt;`]&lt;advance|]&lt;advance_choice|{

}(click: ?advance)[(replace: ?advance_choice)[You feel the stirrings of a fire in you.

[&gt; [Tara: Okay, no, fuck you.]&lt;fuck|]&lt;fuck_prompt| ] ]{

}(click: ?fuck)[(replace: ?fuck_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;okay, no, fuck you,&quot;&lt;/span&gt; you say loudly. [

&gt; [Tara: You don&#x27;t get to be beaten. You&#x27;re supposed to be a badass fucking sea princess.]&lt;princess|]&lt;princess_prompt| ] ]{

}(click: ?princess)[(replace: ?princess_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you don&#x27;t get to be beaten. you&#x27;re supposed to be a badass fucking sea princess.&quot;&lt;/span&gt;

&gt; [Tara: You&#x27;re gonna wake up and then save a universe.]&lt;universe|]&lt;universe_prompt| ] ]{

}(click: ?universe)[(replace: ?universe_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you don&#x27;t get to be beaten. you&#x27;re supposed to be a badass fucking sea princess. you&#x27;re gonna wake up and then save a universe.&quot;&lt;/span&gt;

&gt; [Tara: And then we can beat this fucking game together maybe. So fuck you.]&lt;beat|]&lt;beat_prompt| ] ]{

}(click: ?beat)[(replace: ?beat_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you don&#x27;t get to be beaten. you&#x27;re supposed to be a badass fucking sea princess. you&#x27;re gonna wake up and then save a universe. and then we can beat this fucking game together maybe.

&quot;so fuck you,&quot;&lt;/span&gt; you manage, taking a breath. You feel your heart racing from the adrenaline of your speech[.

&gt; [Tara: Hug this alien girl.]&lt;hug|]&lt;hug_prompt| ] ]{

}(click: ?hug)[(replace: ?hug_prompt)[, and finish it by reaching forward and enveloping this alien girl in an embrace.

&gt; [[`===&gt;`-&gt;Tara: Hug Ransha]] ] ]</tw-passagedata><tw-passagedata pid="143" name="Tara: Hug Ransha" tags="dark" position="2350,2200">An audible squawk, musical and pleasing, emits from the girl as you wrap your arms around her small frame. She smells clean and natural, like the ocean at high tide, with a hint of orchid and lily.

[&gt; [`===&gt;`]&lt;advance|]&lt;advance_choice|{

}(click: ?advance)[(replace: ?advance_choice)[She continues to be surprised, and doesn&#x27;t hug you back for a sort of awkward time, before stiffly extending her arms around you. You can feel her horns with the back of your head as she turns her head into your arms.

[&gt; [`===&gt;`]&lt;awkward|]&lt;awkward_choice| ] ]{

}(click: ?awkward)[(replace: ?awkward_choice)[&quot;Y&lt;span class=&quot;ransha-text whisper&quot;&gt;OU SMELL GOOD&lt;/span&gt;,&quot; she says. She licks your neck. Thoughts of her mouth full of sharp, pointy teeth come unbidden, but no bite follows.

[&gt; [Tara: Momentarily forget all of the ideas about looking cool that you had.]&lt;cool|]&lt;cool_choice| ] ]{

}(click: ?cool)[(replace: ?cool_choice)[You can&#x27;t even think about looking cool right now.

[&gt; [Tara: Uh, I.]&lt;babble|]&lt;babble_prompt| ] ]{

}(click: ?babble)[(replace: ?babble_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i,&quot;&lt;/span&gt; you say, with hesitation.

&gt; [Tara: I&#x27;m not...]&lt;doubt|]&lt;doubt_prompt| ] ]{

}(click: ?doubt)[(replace: ?doubt_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, i.

&quot;i&#x27;m not...&quot;&lt;/span&gt; you say, with hesitation.

[&gt; [Tara: You smell good too.]&lt;smell|]&lt;smell_prompt| ] ]{

}(click: ?smell)[(replace: ?smell_prompt)[You say the only thing you can think.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;you smell good too.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Talk about fangtrains]] ] ]</tw-passagedata><tw-passagedata pid="144" name="Tara: Talk about fangtrains" tags="dark" position="2550,200">Ransha draws her head back, her little butterfly horns framing your face. Her cheeks are flushed with fuschia, the same color as her lips.

&quot;SEA DWELLERS CAN SMELL WITH OUR TONGUES, LIKE FANGTRAINS. VERY SENSITIVE,&quot; she says, thoughtfully. &quot;I THINK YOU HAVE FANGTRAINS TOO. IT&#x27;S WEIRD, YOU HAVE A FANGTRAIN WEEK AND EVERYTHING.&quot;

The young troll&#x27;s eyes seem to sparkle with excitement. &quot;THEY&#x27;RE SO AWESOME. AND FUN TO FIGHT. I USED TO RAISE THEM. THEY&#x27;D TRY TO EAT ME AND I&#x27;D TRAP THEM IN MY CAVE AND TRAIN THEM. THEY&#x27;RE NOT VERY SMART, BUT IT WAS GOOD PRACTICE.

&quot;HAVE YOU EVER LIKED SOMETHING THAT WAS BAD NEWS? I THINK THOSE ARE THE BEST KIND OF THINGS&quot;

Jegus. I mean Jesus.{
}
0. Ask about horns
0. Comment on similarities between her story and The Little Mermaid
0. Ask if she ever lost her voice to an evil sea witch
0. Ask if she has a seashell bra
0. Ask to see sharks, er, fangtrains
{
}&gt; [[`===&gt;`-&gt;Tara: Tell a story]]</tw-passagedata><tw-passagedata pid="145" name="Tara: Tell a story" tags="dark" position="2550,350">&lt;span class=&quot;tara-text dark&quot;&gt;&quot;bad news? i think i have a story about that,&quot;&lt;/span&gt; you say.

It strikes you that, perhaps, Ransha might be bad news. She gives you her full attention.

[&gt; [Tara: When I was a kid, my nanna and I did a picnic near a volcano, and I went out rock collecting and I found one that was bright red and so pretty.]&lt;volcano|]&lt;volcano_prompt|{

}(click: ?volcano)[(replace: ?volcano_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;when i was a kid,&quot;&lt;/span&gt; you begin, &lt;span class=&quot;tara-text dark&quot;&gt;&quot;my nanna and i did a picnic near a volcano, and i went out rock collecting and i found one that was bright red and so pretty.&quot;&lt;/span&gt;

&gt; [Tara: Then when I showed it to her, she kind of went all crazy on me? And said it was called like cinnabar, and that it was totes dangerous and poisonous, and made me throw it away.]&lt;cinnabar|]&lt;cinnabar_prompt| ] ]{

}(click: ?cinnabar)[(replace: ?cinnabar_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;when i was a kid,&quot;&lt;/span&gt; you begin, &lt;span class=&quot;tara-text dark&quot;&gt;&quot;my nanna and i did a picnic near a volcano, and i went out rock collecting and i found one that was bright red and so pretty.&lt;/span&gt;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;then when i showed it to her, she kind of went all crazy on me? and said it was called like cinnabar, and that it was totes dangerous and poisonous, and made me throw it away.&quot;&lt;/span&gt;

[&gt; [Tara: But I snuck out and found it again and brought it home anyway, and put it in the secret box in my desk.]&lt;desk|]&lt;desk_prompt| ] ]{

}(click: ?desk)[(replace: ?desk_prompt)[&quot;— SYNNIBARR?&quot; the grey-skinned girl asks, but you continue.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;but i snuck out and found it again and brought it home anyway, and put it in the secret box in my desk.&quot;&lt;/span&gt;

[&gt; [Tara: I guess that was a dumb story, huh.]&lt;dumb|]&lt;dumb_prompt| ] ]{

}(click: ?dumb)[(replace: ?dumb_prompt)[You feel like this is probably not the most adventurous follow-up to shark-training. &lt;span class=&quot;tara-text dark&quot;&gt;&quot;i guess that was a dumb story, huh,&quot;&lt;/span&gt; you say.

[&gt; [Tara: Maybe someday I can see a &quot;fangtrain&quot; when like I won&#x27;t be killed by scary fucking dream teeth.]&lt;fangtrain|]&lt;fangtrain_prompt| ] ]{

}(click: ?fangtrain)[(replace: ?fangtrain_prompt)[Possibly you can regain some of your coolness via cleverly employed snark and irony.

[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;maybe someday i can see a &#x27;fangtrain&#x27; when like i won&#x27;t be killed by scary fucking dream teeth.&quot;&lt;/span&gt;

&gt; [Tara: Or your like &quot;Secret Grotto.&quot;]&lt;grotto|]&lt;grotto_prompt| ] ]{

}(click: ?grotto)[(replace: ?grotto_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;maybe someday i can see a &#x27;fangtrain&#x27; when like i won&#x27;t be killed by scary fucking dream teeth.

&quot;or your like &#x27;secret grotto,&#x27;&quot;&lt;/span&gt; you add, wanting to get in a dig at her narrative origins.

[&gt; [`===&gt;`]&lt;advance|]&lt;advance_prompt| ] ]{

}(click: ?advance)[(replace: ?advance_prompt)[Ransha gets an incredibly embarrassed look on her face, and you realize what you&#x27;ve just said.

&quot;JEGUS. BUY ME DINNER FIRST.&quot;

&gt; [[`===&gt;`-&gt;Tara: Be flustered.]] ] ]</tw-passagedata><tw-passagedata pid="146" name="Tara: Be flustered." tags="dark" position="2550,500">Fuck.

[&gt; [Tara: Oh, uh, no, like, that was like just uh.]&lt;uh|]&lt;uh_prompt|{

}(click: ?uh)[(replace: ?uh_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;oh, uh, no,&quot;&lt;/span&gt; you assert, already feeling the terrible white-hot sensation of being completely flustered. [&lt;span class=&quot;tara-text dark&quot;&gt;&quot;like, that was just like uh.&quot;&lt;/span&gt;

&gt; [Tara: Kind of a Little Mermaid reference, because you&#x27;re like.]&lt;mermaid|]&lt;mermaid_prompt| ] ]{

}(click: ?mermaid)[(replace: ?mermaid_prompt)[[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;like, that was just like uh. kind of a little mermaid reference, because you&#x27;re like.&quot;&lt;/span&gt;

&gt; [Tara: Uh, never mind!]&lt;nevermind|]&lt;nevermind_prompt| ] ]{

}(click: ?nevermind)[(replace: ?nevermind_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;like, that was just like uh. kind of a little mermaid reference, because you&#x27;re like. uh, never mind!&quot;&lt;/span&gt;

[&gt; [Tara: Uggggh, I had all of these cool lines. Where are my cool lines? Fuck.]&lt;cool|]&lt;cool_prompt| ] ]{

}(click: ?cool)[(replace: ?cool_prompt)[You spin around, not even wanting to look at the girl.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uggggh, i had all of these cool lines,&quot;&lt;/span&gt; you moan, mostly to yourself. [&lt;span class=&quot;tara-text dark&quot;&gt;&quot;where are my cool lines? fuck.&quot;&lt;/span&gt;

&gt; [Tara: Fuck fuck fuck.]&lt;fuck|]&lt;fuck_prompt| ] ]{

}(click: ?fuck)[(replace: ?fuck_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;where are my cool lines? fuck. fuck fuck fuck.&quot;&lt;/span&gt;

[&gt; [Tara: I&#x27;m gonna like. Get off this weird dream afterlife thing now and go die in a time paradox before I embarrass myself anymore.]&lt;embarrass|]&lt;embarrass_prompt| ] ]{

}(click: ?embarrass)[(replace: ?embarrass_prompt)[You turn back to Ransha with a wince, your eyes half-closed. She looks about as ruffled as you suspect you do.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i&#x27;m gonna like. get off this weird dream afterlife thing now and go die in a time paradox before i embarrass myself anymore.&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Figure out how to leave.]] ] ]</tw-passagedata><tw-passagedata pid="147" name="Tara: Figure out how to leave." tags="dark" position="2550,650">Ransha clears her throat. &quot;YEAH. THAT&#x27;S PROBABLY A GOOD IDEA,&quot; she says, rubbing on her 2x3dent arm. &quot;I HONESTLY HAVE NO IDEA HOW TO SNAP YOU OUT OF HERE THOUGH. YOU&#x27;RE ACTUALLY PHYSICALLY HERE, RIGHT? I MEAN YOU STILL HAVE TWO BODIES AND EVERYTHING.&quot;

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i do,&quot;&lt;/span&gt; you agree.

&quot;THAT&#x27;S FUCKING WEIRD. I DIDN&#x27;T KNOW THAT WAS EVEN A THING YOU COULD DO. I GUESS THE TITANS PROBABLY HAVE PLANS FOR YOU OR WHATEVER.&quot;

More than one thing about that sentence nags at you a little bit on the inside, but you press on, awkwardly avoiding matching Ransha&#x27;s gaze.

This is both easy and hard, because Ransha is doing the same thing, and you keep giving each other furtive glances, which makes the whole thing that much more obvious and ridiculous.

&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i think i have to like... walk out of here,&quot;&lt;/span&gt; you suggest.

&quot;MAYBE LET&#x27;S GET SOME GRUBSAUCE ON IT. I DON&#x27;T KNOW THAT MOMENTUM MEANS THE SAME THING, ESPECIALLY OUTSIDE OF A BUBBLE, BUT LET&#x27;S TRY IT.&quot;{
}
0. But first
0. Grubsauce?
0. So how does that work?
{
}&gt; [[Tara: You&#x27;re saying I have to like run out of here really fast instead?]]</tw-passagedata><tw-passagedata pid="148" name="Tara: You&#x27;re saying I have to like run out of here really fast instead?" tags="dark" position="2550,800">&quot;OH NO. FASTER THAN THAT,&quot; the diminutive despot replies. She holds out her trident. &quot;HOP ON.&quot;

[&gt; [Tara: What.]&lt;what|]&lt;what_prompt|{

}(click: ?what)[(replace: ?what_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;what.&quot;&lt;/span&gt;

&quot;WHAT WHAT. GET ON THE 2X3DENT. YOU CAN STAND ACROSS THE TINES. IT&#x27;S CALLED A &#x27;QUICKBLADDER SPECIAL&#x27;.

&quot;JUST... DON&#x27;T FORGET. ABOUT... OUR DEAL.&quot;

[&gt; [Tara: Uh, okay. I&#x27;m going to feel like this is a dumb idea later I bet. After I stop the bleeding.]&lt;bleeding|]&lt;bleeding_prompt| ] ]{

}(click: ?bleeding)[(replace: ?bleeding_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;uh, okay. i&#x27;m going to feel like this is a dumb idea later i bet. after i stop the bleeding.&quot;&lt;/span&gt;

[&gt; [Tara: Climb onto the 2x3dent with some difficulty, and take a last look at the grey sands.]&lt;climb|]&lt;climb_prompt| ] ]{

}(click: ?climb)[(replace: ?climb_prompt)[You scrabble onto the tines of the 2x3dent, breathing in your last of Alternia for awhile, and survey the breathtakingly savage ocean in the distance.

[&gt; [Tara: Definitely not some asshole alien girl or anything.]&lt;girl|]&lt;girl_prompt| ] ]{

}(click: ?girl)[(replace: ?girl_prompt)[Certainly not the stupidly, frustratingly pretty alien girl before you, with the butterfly horns and the musical voice.

[&gt; [Tara: I won&#x27;t forget.]&lt;forget|]&lt;forget_prompt| ] ]{

}(click: ?forget)[(replace: ?forget_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;i won&#x27;t forget,&quot;&lt;/span&gt; you tell her. [

&gt; [Tara: It&#x27;s a promise, okay?]&lt;promise|]&lt;promise_prompt| ] ]{

}(click: ?promise)[(replace: ?promise_prompt)[&lt;span class=&quot;tara-text dark&quot;&gt;&quot;it&#x27;s a promise, okay?&quot;&lt;/span&gt;

&gt; [[`===&gt;`-&gt;Tara: Spin]] ] ]</tw-passagedata><tw-passagedata pid="149" name="Tara: Spin" tags="dark" position="2550,950">Ransha balances you on the 2x3dent with ease, belying her lifetime of experience with the weapon. She pulls you in close on the trident, and places one hand on the small of your back as she begins to spin.

Your arm reflexively snakes out to steady yourself on Ransha&#x27;s shoulder, while her hand drops down to your rear and begins to push into the spin.

You feel yourself blush a little bit, and Ransha whispers. &quot;I&lt;span class=&quot;ransha-text whisper&quot;&gt;&#x27;LL BE WAITING&lt;/span&gt;.&quot;

&gt; [[`===&gt;`-&gt;Tara: Leave the dream bubble]]</tw-passagedata><tw-passagedata pid="150" name="Tara: Leave the dream bubble" tags="dark" position="2550,1100">You feel like you&#x27;re on a carnival ride as the other girl suddenly pushes the 2x3dent away from her body in a bouncing, sweeping moment that will look, in retrospect and with the benefit of emotion, like a graceful dance and not a blurring engine of suicide.

Despite the difficulty in balancing the momentum of a human being on the tines, Ransha spins and angles your crouching self on a full extension swing of the 2x3dent that swoops around behind the alien girl and suddenly, with blood-curdling force, launches you over her butterfly horns, and out into the darkness.

As the bubble recedes into the distance, you can just make out Ransha&#x27;s exhausted form dropping to her knees.

&gt; [[`===&gt;`-&gt;Tara: Enter the Medium]]</tw-passagedata><tw-passagedata pid="151" name="Tara: Enter the Medium" tags="" position="2550,1250">It&#x27;s an almost gross feeling, returning to regular space and time. There isn&#x27;t really any feeling to it, actually, but your natural frictions and resentment with the arbitrary, exasperating and painful nature of paradox space and its flow of time weigh heavily on you as you coast into regular space.

Your Ray-B&amp;s begin to light up with touchingly concerned messages from Hazel, then the others.

Hazel promises to invade the outer darkness to rescue you, while Liam professes that you will find your way back because of some statistic he made up on the spot.

Travis says that he can&#x27;t let you leave things this way.

Strangely, Olivia says nothing, but she chalks it up to destiny, because of course. 

Ethan says nothing, but that&#x27;s the least surprising thing ever. He does say he&#x27;s glad you made it back, though.

Hazel recovers you, and you both make their way down to Winfield House, where you and your friends begin to argue about breeding frogs.

You pay close attention... because by then you have gone back in time, to think.

&gt; (link: &quot;end transmission&quot;)[(set: $name to 0)(set: $completed to 1)(goto: &quot;Hearthchained: In the Dark&quot;)](if: false)[ [[Hearthchained: In the Dark]] ]</tw-passagedata><tw-passagedata pid="152" name="LoCaF" tags="" position="50,1850">The Land of Cities and Frogs. It&#x27;s (if: $name is &#x27;Hazel Saigo&#x27;)[Carver&#x27;s](else:)[Liam&#x27;s] planet.</tw-passagedata><tw-passagedata pid="153" name="Beta Kids" tags="" position="1150,2050">Those three kids who have invaded your game from outside your session.

They seem to be genetically identical teenaged versions of your friends&#x27; parents, who also for complicated time paradox reasons are also your friends&#x27; genetic offspring.
* [**Simone**]&lt;simone|. (click: ?simone)[She&#x27;s a Mage of Space. Also, Liam&#x27;s mom as a teenager. Kind of a bitch! Supposedly she&#x27;s Tara and Olivia&#x27;s paradox genetic kid, which you find awfully disappointing.]
* [**Edward**]&lt;edward|. (click: ?edward)[He&#x27;s a Seer of Void. Also, your best friend Ethan&#x27;s dad, in kid form. He seems like he has a level head on his shoulders.]
* [**Taliya**]&lt;taliya|. (click: ?taliya)[She&#x27;s a Witch of Light. Also, Tara&#x27;s hot teen grandma. She looks like Simone&#x27;s identical twin, except she has way longer hair. You&#x27;ve only gotten a mere glimpse of her, so she&#x27;s entirely forgettable.]
They&#x27;re probably clones or from the future or the past or some alternate universe or something, where they played the same game as you but things went south. Tara keeps making a way bigger deal about this than you think she should, though -- why should it matter that they&#x27;re related to you by blood?

You&#x27;re pretty sure that they&#x27;re here to take over your game and steal your Ultimate Reward, which is the ability to create a universe. But you&#x27;re certain that you&#x27;re going to make friends with them and work together to rid the multiverse of the tyranny of paradox space.</tw-passagedata><tw-passagedata pid="154" name="Log Entries" tags="" position="250,2450">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="155" name="Startup" tags="startup" position="54,501">{
  (display: &#x27;Google Analytics&#x27;)
}</tw-passagedata><tw-passagedata pid="156" name="Okay, no, don&#x27;t be distracted." tags="" position="700,800">You&#x27;ve been playing this game by its rules and you feel like you&#x27;re getting behind.

You and your friends have been doing all of the personal quests that SPan has set out for you, in the hopes of gaining more power and experience.

Well, most of your friends anyway. Tara has been here and there, doing something or other, showing no interest in completing her quests. But she&#x27;s been accumulating a huge amount of Boondollars and grist, so you can&#x27;t complain about that too much, even if she is wasting time writing these emails to trolls.

You&#x27;re certain that if she&#x27;d just learn to cooperate with them instead of provoking them, she&#x27;d have a lot to learn from them.

The problem is that these [[Beta Kids]] already have knowledge of this game and have gotten ahead of you. They&#x27;re already [[God Tier]], so they must have had their own session and made a good amount of progress before things went wrong.

&gt; [[You need to get ahead of this game.]]</tw-passagedata><tw-passagedata pid="157" name="God Tier" tags="" position="550,2000">The God Tier is the highest echelon of power that you can get in this game.

To get there, you need to die on your Quest Bed, which is a magical four-posted stone bed of some kind. When you do, your dream self ascends to the God Tier, and you get pretty awesome robes-slash-pajamas that correspond to your classpect.

(if: $name is &#x27;Hazel Saigo&#x27;)[You&#x27;ve already hit the God Tier, and you think your Witch of Space robejamas are snazzy. You&#x27;ve scouted out all of your friends&#x27; beds already, just in case. Wouldn&#x27;t want them to die without becoming gods.]</tw-passagedata><tw-passagedata pid="158" name="You need to get ahead of this game." tags="" position="700,950">If you could just understand the Medium more, and how it works, then you&#x27;re sure you can get a leg up on these other kids.

You would ask Carver, but he&#x27;s been busy tinkering with the [[Alchemiter]], and you&#x27;ve always felt like as the most logical of your friends, he&#x27;s also the most constrained by the rules.

Besides, he&#x27;s a bit distant right now, because of his recent self-discoveries about his own nature and the realization that he doesn&#x27;t need to hide who he is.

You did a pretty good Witchy job with helping him there. You decided to start calling him Carver, instead of Liam, in honor of his new identity.

No, you need someone who&#x27;s going to think up the weird, dumb ideas that make enough sense to try.

Tara.

&gt; [[You bring up your instant message window.]]</tw-passagedata><tw-passagedata pid="159" name="You&#x27;re lying on your bed, taking a break from your quests." tags="" position="700,500">On your bed, in your house, which was transported to [[LoCaF]] when you entered the Medium.

You&#x27;ve been carting your friends around from place to place, and you&#x27;re kind of tired of being the Magic School Bus.

Not that you //mind// it. You&#x27;re the best person for the job, and you believe you should always make sure to get the best person to do the important jobs.

But it takes a lot out of you, using your [[Witch of Space]] powers to teleport everyone around.

So right now, you&#x27;re just taking a few minutes to browse the Internet and concentrate on how to get your friends through this game.

That&#x27;s not the easiest thing for you to do right now, though.

&gt; [[You&#x27;ve been having a lot of thoughts about Olivia.]]</tw-passagedata><tw-passagedata pid="160" name="Witch of Space" tags="" position="1150,1900">Being a Hero of Space gives you the ability to manipulate space by stretching, deforming, and moving it.

You can do so much cool stuff with this. You can create portals, and slow things down sort-of, and combine multiple locations into one.

But most of the time it means that you just teleport stuff, which you feel like is a waste. You can do so much more!

Being a Witch means you&#x27;re good at sacrifices, and trading, and making deals, and breaking the rules.

You&#x27;re itching to break some rules, but you&#x27;re having trouble thinking of what to break. It&#x27;s a matter of figuring out what the rules are, so that you can break them.</tw-passagedata><tw-passagedata pid="161" name="Alchemiter" tags="" position="1000,2050">By using an unnecessarily complicated process involving a strange device called the Alchemiter, raw materials known as grist, and some other stuff that is even more complicated, you can convert objects to punch cards and combine them with other punch cards to create new objects with combined properties.

You&#x27;ve been working industriously with your friends to make all manner of ridiculous useless things like this, such as combining a laser pistol and a crystal prism to make a Color Gun that changes the color of things.

You can also make useful equipment, but that has been a much harder task than you expected.</tw-passagedata><tw-passagedata pid="162" name="You bring up your instant message window." tags="" position="700,1100">&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Hey, since you are really the best, really the only, person to do this I think it&#x27;s time, no pun intended, we got a better lay of the land.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Why are the Beta kids here, and what do they really want? What are all the mechanics of this game? Why does everything want to keep that information from us? &lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;I&#x27;m tried of always being in the dark, and I think you are too. Not only that but because we don&#x27;t have a Seer like we should have we are at a disadvantage.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;If we don&#x27;t get ahead of this wave it&#x27;s going the crush us, we need to ride it to the finish if we hope to succeed.&lt;/span&gt;&lt;/div&gt;
You wait, impatiently.

That&#x27;s the shitty thing about talking to Tara. Even though she can travel through time, somehow she always takes way too long to reply to your important messages.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;ahahahahahahahaha time puns, or something&lt;/span&gt;&lt;/div&gt;
&gt; [[It&#x27;s Future Tara, again.]]</tw-passagedata><tw-passagedata pid="163" name="It&#x27;s Future Tara, again." tags="" position="700,1250">Every time you talk to a Tara from the future, you&#x27;re torn between really liking her and being annoyed by her. She has a confidence and breezy air that your Tara from the present woefully lacks, but her flippant attitude gets on your nerves.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;i don&#x27;t know, i think i might not be that worried&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;the thing you have to remember is&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;we are doing everything we can&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;and i mean literally everything, in all possible timelines.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;so if there&#x27;s a solution to the labyrinth we&#x27;ll find it, probably, or at least the alpha set of us will.&lt;/span&gt;&lt;/div&gt;
Just like that. Her whole //If we just keep doing what we&#x27;re doing everything will be fine// deal is completely wrong-headed. The girl is so passive.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;also, for reals, olivia is going to end up killing me later just so we can figure out how the fucking afterlife works, so it&#x27;s not like we&#x27;re not already busting our muppet-exterminating asses here.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;god future me is so judgmental. i&#x27;ve been reading my email and she is just judgy like whoa&lt;/span&gt;&lt;/div&gt;
Now she&#x27;s just arguing with herself.

&gt; [[It&#x27;s always a little weird to interrupt when she&#x27;s arguing with herself.]]</tw-passagedata><tw-passagedata pid="164" name="It&#x27;s always a little weird to interrupt when she&#x27;s arguing with herself." tags="" position="700,1400">Watching your Korean friend fight with her future self is a bit like watching someone have an argument with her older sister.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;hazel, i still don&#x27;t totally get how everything works, but i&#x27;ve only done a couple of loops&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;but i&#x27;m trying my best to figure out what is going on around here really&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;who the hell are these &quot;beta kids&quot; btw?&lt;/span&gt;&lt;/div&gt;
Sigh. Time to step in and set the girl straight.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;First, if you die and go to the afterlife I think that&#x27;s a one way trip, unless you trust Carver more than you seem to be letting on.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Second, what I&#x27;m saying is what can we do now to get ahead of the curve?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Beta kids : Simone&#x27;s group&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Also, how the hell are the trolls on their home planet if they didn&#x27;t win the game? I thought the game sends meteors that destroy the planet?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;i&#x27;m pretty sure that there&#x27;s some lag time between being doomed and actually dying&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;also stop spoiling stuff for past me, seriously.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;PAST ME, STOP READING REPLIES PAST THIS LINE&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;NO OKAY SERIOUSLY FOR REAL, I KNOW YOU ARE READING THIS FAR, STOP IT&lt;/span&gt;&lt;/div&gt;
&gt; [[You know Tara, and you&#x27;re certain she&#x27;s still reading at this point.]]</tw-passagedata><tw-passagedata pid="165" name="You know Tara, and you&#x27;re certain she&#x27;s still reading at this point." tags="" position="700,1550">&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;...anyway&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;there&#x27;s something i told travis to do a few days ago (in my time not in your time) but which he never did&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;which was to find a way to fly out to the furthest ring and see what happens out in space.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;everything we&#x27;ve been doing so far is what the game wants us to do, more or less&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;if you want to get ahead of the curve, you want to break the story.&lt;/span&gt;&lt;/div&gt;
That&#x27;s a great idea. //Sasuga// Tara.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Okay. I will then, would you like to come with me?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;i did already.&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Okay. Then what should I do?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Also, what happened?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;not much&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;but now that you know this you are doomed to have to go through the motions anyway or you are no longer the alpha&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Future!CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;NOW YOU KNOW HOW I FEEL&lt;/span&gt;&lt;/div&gt;
You frown. Really, she&#x27;s going to lord future information over you? She&#x27;s smart enough to know that doesn&#x27;t work on you.

&lt;div class=&quot;im-text&quot;&gt;&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;You do remember that I&#x27;ve been &quot;knowing the future&quot; for a lot longer than you right?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;Zelha:&lt;/span&gt; &lt;span class=&quot;hazel-text&quot;&gt;Shall we then? Where were you when I showed up to take you?&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;guys stop talking to me like i am not here&lt;/span&gt;
&lt;span class=&quot;im-handle-text&quot;&gt;CassandraMoon:&lt;/span&gt; &lt;span class=&quot;tara-text&quot;&gt;i&#x27;m on derse.&lt;/span&gt;&lt;/div&gt;
Derse, huh?

&gt; [[You wonder what she and Travis talked about.]]</tw-passagedata><tw-passagedata pid="166" name="You wonder what she and Travis talked about." tags="" position="700,1700">Probably they had some kind of argument over his crush on her.

Before, you were hoping that the Sylph and the Knight would get over their feelings about each other so you could have Tara all to yourself.

Now, you just want them to grow up.

If you&#x27;re going to win this game, you decide, you&#x27;re going to need everyone to be in it together.

With a thought, you teleport yourself and your Derse-bound friend to the edge of the Medium.

&gt; (link: &quot;Hazel: Be the Narrator.&quot;)[(set: $name to &#x27;the Narrator&#x27;)(goto: &quot;Hazel: Be the Narrator.&quot;)](if: false)[ [[Hazel: Be the Narrator.]] ]</tw-passagedata><tw-passagedata pid="167" name="dream self" tags="" position="400,2150">You have an entirely separate body who lives sleeping in a tower on the chained moon of Derse: your dream self.

All of your friends have one, too. Except when they fall asleep, sometimes they wake up in their dream self, and you never do. You&#x27;re not sure why this is. Hazel, in particular, has been waking up in her dream self since she was a kid, so you&#x27;re not sure why you can&#x27;t do it.

You&#x27;re told that you need to die in your normal body so that your dream self can reach the God Tier.

</tw-passagedata><tw-passagedata pid="168" name="Changelog" tags="" position="50,1250">Version 1.3
* Postgame content

Version 1.2
* Tara now spins the knob of the Scroll top away from herself, not the future
* It&#x27;s once, not twice, on LoLaS
* Doubt is now confidence-based, not confidence based
* Snaking arms are no longer anthropomorphized
* Tara now begins rather than narrating
* We&#x27;ve got the crab&#x27;s back
* Yelling for Hazel now hyphenates on small screens
* Slap decisions are now reflected in text
* Proper numbered lists
* Title font is now in a stylesheet
* Stopped using tables for layout
* The Cetracean Dreamer is supposed to be spelt that way
* This moment is now that moment
* The walkthrough link now properly creates a pop-up

Version 1.1
* The word &quot;flips&quot; has completed an acrobatic pirouette back into Tara&#x27;s view of the fight
* Text paralleling both Hazel and Travis is now less inscrutable
* The item-text CSS was entirely removed because I thought I was going to do something fancier with it but I just switched to bold markers
* The Ray-B&amp;s have a less mediocre description
* The Scroll Top is no longer bolded in its own description passage
* Tara&#x27;s use of the word &quot;like&quot; is less annoying now
* Ending the game sets a flag in case I want to do something fun with New Game Plus at some point in the future, so save your game at the title screen when you&#x27;re done
* Actually says Version 1.1 on the title screen

Version 1.0
* Initial release!</tw-passagedata></tw-storydata>

<script title="Twine engine code" data-main="harlowe">/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v2.1.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:11Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */

/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2014 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.22.1
  * see https://github.com/paulmillr/es6-shim/blob/0.22.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */

// with permission and license, per https://twitter.com/inexorabletash/status/372206509540659200

/**
 * requestAnimationFrame version: "0.0.17" Copyright (c) 2011-2012, Cyril Agosta ( cyril.agosta.dev@gmail.com) All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/cagosta/requestAnimationFrame for details
 *
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel
 * MIT license
 *
 */

/*!
 * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license
 * Author: Jim Palmer (based on chunking idea from Dave Koelle)
 * Expanded by Leon Arnott to use Intl.Collator, 2015.
 */

(function(){var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){var i=l.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),n.apply(e,i.concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("almond",function(){}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n,r=jQuery(t.createElement(e)).appendTo(t.body),i=window.getDefaultComputedStyle&&(n=window.getDefaultComputedStyle(r[0]))?n.display:jQuery.css(r[0],"display");return r.detach(),i}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):(i=isHidden(r),(n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l,c=this,h={},p=e.style,d=e.nodeType&&isHidden(e),v=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],f=jQuery.css(e,"display"),l=f==="none"?data_priv.get(e,"olddisplay")||defaultDisplay(e.nodeName):f,l==="inline"&&jQuery.css(e,"float")==="none"&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(d?"hide":"show")){if(i!=="show"||!v||v[r]===undefined)continue;d=!0}h[r]=v&&v[r]||jQuery.style(e,r)}else f=undefined}if(!jQuery.isEmptyObject(h)){v?"hidden"in v&&(d=v.hidden):v=data_priv.access(e,"fxshow",{}),s&&(v.hidden=!d),d?jQuery(e).show():c.done(function(){jQuery(e).hide()}),c.done(function(){var t;data_priv.remove(e,"fxshow");for(t in h)jQuery.style(e,t,h[t])});for(r in h)o=createTween(d?v[r]:0,r,c),r in v||(v[r]=o.start,d&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}else(f==="none"?defaultDisplay(e.nodeName):f)==="inline"&&(p.display=f)}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.1",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return!jQuery.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e)?!1:e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":(e+"").replace(rtrim,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;(t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[];if(!e||typeof e!="string")return r;if((l=t.nodeType)!==1&&l!==9)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(l===9){u=t.getElementById(f);if(!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){y=g=w,S=t,x=l===9&&e;if(l===1&&t.nodeName.toLowerCase()!=="object"){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[w]||(t[w]={});if((u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){var r=0,i=t.length;for(;r<i;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(z,"$1"),n,a<i&&St(e.slice(a,i)),i<s&&St(e=e.slice(i)),i<s&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=b==null?1:Math.random()||.1,x=w.length;l&&(f=o!==p&&o);for(;m!==x&&(c=w[m])!=null;m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}v+=m;if(n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L=typeof undefined,A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|"+".*"+")\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;if(i===p||i.nodeType!==9||!i.documentElement)return p;p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&v)return t.getElementsByClassName(e)},g=[],m=[];if(n.qsa=Y.test(i.querySelectorAll))at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")});return(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:r&4?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){(e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']");if(n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):undefined;return s!==undefined?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k);if(c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=W.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=X.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length);for(o in r.filter)(i=K[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e=="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0];if(!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){l=f[a];if(r.relative[c=l.type])break;if(h=r.find[c])if(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t)){f.splice(a,1),e=s.length&&mt(f);if(!e)return P.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return e.compareDocumentPosition(p.createElement("div"))&1}),at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ft("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ft("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),at(function(e){return e.getAttribute("disabled")==null})||ft(j,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)o[n]&&(r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r])));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div")),n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s=jQuery.event.special,o=0;for(;(n=e[o])!==undefined;o++){if(jQuery.acceptData(n)){i=n[data_priv.expando];if(i&&(t=data_priv.cache[i])){if(t.events)for(r in t.events)s[r]?jQuery.event.remove(n,r):jQuery.removeEvent(n,r,t.handle);data_priv.cache[i]&&delete data_priv.cache[i]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function s(){i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i.innerHTML="",n.appendChild(r);var s=window.getComputedStyle(i,null);e=s.top!=="1%",t=s.width==="4px",n.removeChild(r)}var e,t,n=document.documentElement,r=document.createElement("div"),i=document.createElement("div");if(!i.style)return;i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=i.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(i),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return s(),e},boxSizingReliable:function(){return t==null&&s(),t},reliableMarginRight:function(){var e,t=i.appendChild(document.createElement("div"));return t.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",i.style.width="1px",n.appendChild(r),e=!parseFloat(window.getComputedStyle(t,null).marginRight),n.removeChild(r),e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return rdisplayswap.test(jQuery.css(e,"display"))&&e.offsetWidth===0?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{option:{get:function(e){var t=jQuery.find.attr(e,"value");return t!=null?t:jQuery.trim(jQuery.text(e))}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(r.value,s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=jQuery.trim(e.slice(u)),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(e,t){typeof define=="function"&&define.amd?define("es6-shim",t):typeof exports=="object"?module.exports=t():e.returnExports=t()}(this,function(){"use strict";var e=function(e){try{e()}catch(t){return!1}return!0},t=function(e,t){try{var n=function(){e.apply(this,arguments)};return n.__proto__?(Object.setPrototypeOf(n,e),n.prototype=Object.create(e.prototype,{constructor:{value:e}}),t(n)):!1}catch(r){return!1}},n=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}},r=function(){var e=!1;if(String.prototype.startsWith)try{"/a/".startsWith(/a/)}catch(t){e=!0}return e},i=new Function("return this;"),s=i(),o=s.isFinite,u=!!Object.defineProperty&&n(),a=r(),f=Function.call.bind(String.prototype.indexOf),l=Function.call.bind(Object.prototype.toString),c=Function.call.bind(Object.prototype.hasOwnProperty),h,p=function(){},d=s.Symbol||{},v={string:function(e){return l(e)==="[object String]"},regex:function(e){return l(e)==="[object RegExp]"},symbol:function(e){return typeof s.Symbol=="function"&&typeof e=="symbol"}},m=function(e,t,n,r){if(!r&&t in e)return;u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n},g={getter:function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},proxy:function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(r){e[t]=r}})},redefine:function(e,t,n){if(u){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n}},y=function(e,t){Object.keys(t).forEach(function(n){var r=t[n];m(e,n,r,!1)})},b=Object.create||function(e,t){function n(){}n.prototype=e;var r=new n;return typeof t!="undefined"&&y(r,t),r},w=v.symbol(d.iterator)?d.iterator:"_es6-shim iterator_";s.Set&&typeof (new s.Set)["@@iterator"]=="function"&&(w="@@iterator");var E=function(e,t){t||(t=function(){return this});var n={};n[w]=t,y(e,n),!e[w]&&v.symbol(w)&&(e[w]=t)},S=function(t){var n=l(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&l(t.callee)==="[object Function]"),r},x={CheckObjectCoercible:function(e,t){if(e==null)throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return e!=null&&Object(e)===e},ToObject:function(e,t){return Object(x.CheckObjectCoercible(e,t))},IsCallable:function(e){return typeof e=="function"&&l(e)==="[object Function]"},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0},ToInteger:function(e){var t=+e;return Number.isNaN(t)?0:t===0||!Number.isFinite(t)?t:(t>0?1:-1)*Math.floor(Math.abs(t))},ToLength:function(e){var t=x.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?e===0?1/e===1/t:!0:Number.isNaN(e)&&Number.isNaN(t)},SameValueZero:function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)},IsIterable:function(e){return x.TypeIsObject(e)&&(typeof e[w]!="undefined"||S(e))},GetIterator:function(e){if(S(e))return new h(e,"value");var t=e[w];if(!x.IsCallable(t))throw new TypeError("value is not an iterable");var n=t.call(e);if(!x.TypeIsObject(n))throw new TypeError("bad iterator");return n},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!x.TypeIsObject(t))throw new TypeError("bad iterator");return t},Construct:function(e,t){var n;x.IsCallable(e["@@create"])?n=e["@@create"]():n=b(e.prototype||null),y(n,{_es6construct:!0});var r=e.apply(n,t);return x.TypeIsObject(r)?r:n}},T=function(e){if(!x.TypeIsObject(e))throw new TypeError("bad object");return e._es6construct||(e.constructor&&x.IsCallable(e.constructor["@@create"])&&(e=e.constructor["@@create"](e)),y(e,{_es6construct:!0})),e},N=function(){function e(e){var t=Math.floor(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}function t(t,n,r){var i=(1<<n-1)-1,s,o,u,a,f,l,c;t!==t?(o=(1<<n)-1,u=Math.pow(2,r-1),s=0):t===Infinity||t===-Infinity?(o=(1<<n)-1,u=0,s=t<0?1:0):t===0?(o=0,u=0,s=1/t===-Infinity?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),u=e(t/Math.pow(2,o)*Math.pow(2,r)),u/Math.pow(2,r)>=2&&(o+=1,u=1),o>i?(o=(1<<n)-1,u=0):(o+=i,u-=Math.pow(2,r))):(o=0,u=e(t/Math.pow(2,1-i-r)))),f=[];for(a=r;a;a-=1)f.push(u%2?1:0),u=Math.floor(u/2);for(a=n;a;a-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse(),l=f.join(""),c=[];while(l.length)c.push(parseInt(l.slice(0,8),2)),l=l.slice(8);return c}function n(e,t,n){var r=[],i,s,o,u,a,f,l,c;for(i=e.length;i;i-=1){o=e[i-1];for(s=8;s;s-=1)r.push(o%2?1:0),o>>=1}return r.reverse(),u=r.join(""),a=(1<<t-1)-1,f=parseInt(u.slice(0,1),2)?-1:1,l=parseInt(u.slice(1,1+t),2),c=parseInt(u.slice(1+t),2),l===(1<<t)-1?c!==0?NaN:f*Infinity:l>0?f*Math.pow(2,l-a)*(1+c/Math.pow(2,n)):c!==0?f*Math.pow(2,-(a-1))*(c/Math.pow(2,n)):f<0?0:0}function r(e){return n(e,11,52)}function i(e){return t(e,11,52)}function s(e){return n(e,8,23)}function o(e){return t(e,8,23)}var u={toFloat32:function(e){return s(o(e))}};if(typeof Float32Array!="undefined"){var a=new Float32Array(1);u.toFloat32=function(e){return a[0]=e,a[0]}}return u}();y(String,{fromCodePoint:function(t){var n=[],r;for(var i=0,s=arguments.length;i<s;i++){r=Number(arguments[i]);if(!x.SameValue(r,x.ToInteger(r))||r<0||r>1114111)throw new RangeError("Invalid code point "+r);r<65536?n.push(String.fromCharCode(r)):(r-=65536,n.push(String.fromCharCode((r>>10)+55296)),n.push(String.fromCharCode(r%1024+56320)))}return n.join("")},raw:function(t){var n=x.ToObject(t,"bad callSite"),r=n.raw,i=x.ToObject(r,"bad raw value"),s=i.length,o=x.ToLength(s);if(o<=0)return"";var u=[],a=0,f,l,c,h;while(a<o){f=String(a),l=i[f],c=String(l),u.push(c);if(a+1>=o)break;l=a+1<arguments.length?arguments[a+1]:"",h=String(l),u.push(h),a++}return u.join("")}});if(String.fromCodePoint.length!==1){var C=Function.apply.bind(String.fromCodePoint);m(String,"fromCodePoint",function(e){return C(this,arguments)},!0)}var k={repeat:function(){var e=function(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r};return function(t){var n=String(x.CheckObjectCoercible(this));t=x.ToInteger(t);if(t<0||t===Infinity)throw new RangeError("Invalid String#repeat value");return e(n,t)}}(),startsWith:function(e){var t=String(x.CheckObjectCoercible(this));if(v.regex(e))throw new TypeError('Cannot call method "startsWith" with a regex');e=String(e);var n=arguments.length>1?arguments[1]:void 0,r=Math.max(x.ToInteger(n),0);return t.slice(r,r+e.length)===e},endsWith:function(e){var t=String(x.CheckObjectCoercible(this));if(v.regex(e))throw new TypeError('Cannot call method "endsWith" with a regex');e=String(e);var n=t.length,r=arguments.length>1?arguments[1]:void 0,i=typeof r=="undefined"?n:x.ToInteger(r),s=Math.min(Math.max(i,0),n);return t.slice(s-e.length,s)===e},includes:function(t){var n=arguments.length>1?arguments[1]:void 0;return f(this,t,n)!==-1},codePointAt:function(e){var t=String(x.CheckObjectCoercible(this)),n=x.ToInteger(e),r=t.length;if(n>=0&&n<r){var i=t.charCodeAt(n),s=n+1===r;if(i<55296||i>56319||s)return i;var o=t.charCodeAt(n+1);return o<56320||o>57343?i:(i-55296)*1024+(o-56320)+65536}}};y(String.prototype,k);var L="".trim().length!==1;if(L){delete String.prototype.trim;var A=["	\n\f\r   ᠎    ","         　\u2028","\u2029﻿"].join(""),O=new RegExp("(^["+A+"]+)|(["+A+"]+$)","g");y(String.prototype,{trim:function(){if(typeof this=="undefined"||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(O,"")}})}var M=function(e){this._s=String(x.CheckObjectCoercible(e)),this._i=0};M.prototype.next=function(){var e=this._s,t=this._i;if(typeof e=="undefined"||t>=e.length)return this._s=void 0,{value:void 0,done:!0};var n=e.charCodeAt(t),r,i;return n<55296||n>56319||t+1===e.length?i=1:(r=e.charCodeAt(t+1),i=r<56320||r>57343?1:2),this._i=t+i,{value:e.substr(t,i),done:!1}},E(M.prototype),E(String.prototype,function(){return new M(this)}),a||y(String.prototype,{startsWith:k.startsWith,endsWith:k.endsWith});var _={from:function(e){var t=arguments.length>1?arguments[1]:void 0,n=x.ToObject(e,"bad iterable");if(typeof t!="undefined"&&!x.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");var r=arguments.length>2,i=r?arguments[2]:void 0,s=x.IsIterable(n),o,u,a,f;if(s){a=0,u=x.IsCallable(this)?Object(new this):[];var l=s?x.GetIterator(n):null,c;do c=x.IteratorNext(l),c.done||(f=c.value,t?u[a]=r?t.call(i,f,a):t(f,a):u[a]=f,a+=1);while(!c.done);o=a}else{o=x.ToLength(n.length),u=x.IsCallable(this)?Object(new this(o)):new Array(o);for(a=0;a<o;++a)f=n[a],t?u[a]=r?t.call(i,f,a):t(f,a):u[a]=f}return u.length=o,u},of:function(){return Array.from(arguments)}};y(Array,_);var D=function(){try{return Array.from({length:-1}).length===0}catch(e){return!1}};D()||m(Array,"from",_.from,!0),h=function(e,t){this.i=0,this.array=e,this.kind=t},y(h.prototype,{next:function(){var e=this.i,t=this.array;if(this instanceof h){if(typeof t!="undefined"){var n=x.ToLength(t.length);for(;e<n;e++){var r=this.kind,i;return r==="key"?i=e:r==="value"?i=t[e]:r==="entry"&&(i=[e,t[e]]),this.i=e+1,{value:i,done:!1}}}return this.array=void 0,{value:void 0,done:!0}}throw new TypeError("Not an ArrayIterator")}}),E(h.prototype);var P={copyWithin:function(e,t){var n=arguments[2],r=x.ToObject(this),i=x.ToLength(r.length);e=x.ToInteger(e),t=x.ToInteger(t);var s=e<0?Math.max(i+e,0):Math.min(e,i),o=t<0?Math.max(i+t,0):Math.min(t,i);n=typeof n=="undefined"?i:x.ToInteger(n);var u=n<0?Math.max(i+n,0):Math.min(n,i),a=Math.min(u-o,i-s),f=1;o<s&&s<o+a&&(f=-1,o+=a-1,s+=a-1);while(a>0)c(r,o)?r[s]=r[o]:delete r[o],o+=f,s+=f,a-=1;return r},fill:function(e){var t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=x.ToObject(this),i=x.ToLength(r.length);t=x.ToInteger(typeof t=="undefined"?0:t),n=x.ToInteger(typeof n=="undefined"?i:n);var s=t<0?Math.max(i+t,0):Math.min(t,i),o=n<0?i+n:n;for(var u=s;u<i&&u<o;++u)r[u]=e;return r},find:function(t){var n=x.ToObject(this),r=x.ToLength(n.length);if(!x.IsCallable(t))throw new TypeError("Array#find: predicate must be a function");var i=arguments.length>1?arguments[1]:null;for(var s=0,o;s<r;s++){o=n[s];if(i){if(t.call(i,o,s,n))return o}else if(t(o,s,n))return o}},findIndex:function(t){var n=x.ToObject(this),r=x.ToLength(n.length);if(!x.IsCallable(t))throw new TypeError("Array#findIndex: predicate must be a function");var i=arguments.length>1?arguments[1]:null;for(var s=0;s<r;s++)if(i){if(t.call(i,n[s],s,n))return s}else if(t(n[s],s,n))return s;return-1},keys:function(){return new h(this,"key")},values:function(){return new h(this,"value")},entries:function(){return new h(this,"entry")}};Array.prototype.keys&&!x.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!x.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[w]&&(y(Array.prototype,{values:Array.prototype[w]}),v.symbol(d.unscopables)&&(Array.prototype[d.unscopables].values=!0)),y(Array.prototype,P),E(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&E(Object.getPrototypeOf([].values()));var H=Math.pow(2,53)-1;y(Number,{MAX_SAFE_INTEGER:H,MIN_SAFE_INTEGER:-H,EPSILON:2.220446049250313e-16,parseInt:s.parseInt,parseFloat:s.parseFloat,isFinite:function(e){return typeof e=="number"&&o(e)},isInteger:function(e){return Number.isFinite(e)&&x.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER},isNaN:function(e){return e!==e}}),[,1].find(function(e,t){return t===0})||m(Array.prototype,"find",P.find,!0),[,1].findIndex(function(e,t){return t===0})!==0&&m(Array.prototype,"findIndex",P.findIndex,!0),u&&y(Object,{assign:function(e,t){if(!x.TypeIsObject(e))throw new TypeError("target must be an object");return Array.prototype.reduce.call(arguments,function(e,t){return Object.keys(Object(t)).reduce(function(e,n){return e[n]=t[n],e},e)})},is:function(e,t){return x.SameValue(e,t)},setPrototypeOf:function(e,t){var n,r=function(e,t){if(!x.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(t!==null&&!x.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},i=function(e,t){return r(e,t),n.call(e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,t).set,n.call({},null)}catch(s){if(e.prototype!=={}[t])return;n=function(e){this[t]=e},i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")}),Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null&&function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var r=t(n);return r===e?null:r},Object.setPrototypeOf=function(t,r){return r===null&&(r=e),n(t,r)},Object.setPrototypeOf.polyfill=!1}();try{Object.keys("foo")}catch(B){var j=Object.keys;Object.keys=function(e){return j(x.ToObject(e))}}if(!RegExp.prototype.flags&&u){var F=function(){if(!x.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t};g.getter(RegExp.prototype,"flags",F)}var I=function(){try{return String(new RegExp(/a/g,"i"))==="/a/i"}catch(e){return!1}}();if(!I&&u){var q=RegExp,R=function Z(e,t){return v.regex(e)&&v.string(t)?new Z(e.source,t):new q(e,t)};m(R,"toString",q.toString.bind(q),!0),Object.setPrototypeOf&&Object.setPrototypeOf(q,R),Object.getOwnPropertyNames(q).forEach(function(e){if(e==="$input")return;if(e in p)return;g.proxy(q,e,R)}),R.prototype=q.prototype,g.redefine(q.prototype,"constructor",R),RegExp=R,g.redefine(s,"RegExp",R)}var U={acosh:function(e){return e=Number(e),Number.isNaN(e)||e<1?NaN:e===1?0:e===Infinity?e:Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return e=Number(e),e===0||!o(e)?e:e<0?-Math.asinh(-e):Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return e=Number(e),Number.isNaN(e)||e<-1||e>1?NaN:e===-1?-Infinity:e===1?Infinity:e===0?e:.5*Math.log((1+e)/(1-e))},cbrt:function(e){e=Number(e);if(e===0)return e;var t=e<0,n;return t&&(e=-e),n=Math.pow(e,1/3),t?-n:n},clz32:function(e){e=Number(e);var t=x.ToUint32(e);return t===0?32:32-t.toString(2).length},cosh:function(e){return e=Number(e),e===0?1:Number.isNaN(e)?NaN:o(e)?(e<0&&(e=-e),e>21?Math.exp(e)/2:(Math.exp(e)+Math.exp(-e))/2):Infinity},expm1:function(e){return e=Number(e),e===-Infinity?-1:!o(e)||e===0?e:Math.exp(e)-1},hypot:function(e,t){var n=!1,r=!0,i=!1,s=[];Array.prototype.every.call(arguments,function(e){var t=Number(e);return Number.isNaN(t)?n=!0:t===Infinity||t===-Infinity?i=!0:t!==0&&(r=!1),i?!1:(n||s.push(Math.abs(t)),!0)});if(i)return Infinity;if(n)return NaN;if(r)return 0;s.sort(function(e,t){return t-e});var o=s[0],u=s.map(function(e){return e/o}),a=u.reduce(function(e,t){return e+t*t},0);return o*Math.sqrt(a)},log2:function(e){return Math.log(e)*Math.LOG2E},log10:function(e){return Math.log(e)*Math.LOG10E},log1p:function(e){e=Number(e);if(e<-1||Number.isNaN(e))return NaN;if(e===0||e===Infinity)return e;if(e===-1)return-Infinity;var t=0,n=50;if(e<0||e>1)return Math.log(1+e);for(var r=1;r<n;r++)r%2===0?t-=Math.pow(e,r)/r:t+=Math.pow(e,r)/r;return t},sign:function(e){var t=+e;return t===0?t:Number.isNaN(t)?t:t<0?-1:1},sinh:function(e){return e=Number(e),!o(e)||e===0?e:(Math.exp(e)-Math.exp(-e))/2},tanh:function(e){return e=Number(e),Number.isNaN(e)||e===0?e:e===Infinity?1:e===-Infinity?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))},trunc:function(e){var t=Number(e);return t<0?-Math.floor(-t):Math.floor(t)},imul:function(e,t){e=x.ToUint32(e),t=x.ToUint32(t);var n=e>>>16&65535,r=e&65535,i=t>>>16&65535,s=t&65535;return r*s+(n*s+r*i<<16>>>0)|0},fround:function(e){if(e===0||e===Infinity||e===-Infinity||Number.isNaN(e))return e;var t=Number(e);return N.toFloat32(t)}};y(Math,U),Math.imul(4294967295,5)!==-5&&(Math.imul=U.imul);var z=function(){var e,t;x.IsPromise=function(e){return x.TypeIsObject(e)?e._promiseConstructor?typeof e._status=="undefined"?!1:!0:!1:!1};var n=function(e){if(!x.IsCallable(e))throw new TypeError("bad promise constructor");var t=this,n=function(e,n){t.resolve=e,t.reject=n};t.promise=x.Construct(e,[n]);if(!t.promise._es6construct)throw new TypeError("bad promise constructor");if(!x.IsCallable(t.resolve)||!x.IsCallable(t.reject))throw new TypeError("bad promise constructor")},r=s.setTimeout,i;typeof window!="undefined"&&x.IsCallable(window.postMessage)&&(i=function(){var e=[],t="zero-timeout-message",n=function(n){e.push(n),window.postMessage(t,"*")},r=function(n){if(n.source===window&&n.data===t){n.stopPropagation();if(e.length===0)return;var r=e.shift();r()}};return window.addEventListener("message",r,!0),n});var o=function(){var e=s.Promise;return e&&e.resolve&&function(t){return e.resolve().then(t)}},u=x.IsCallable(s.setImmediate)?s.setImmediate.bind(s):typeof process=="object"&&process.nextTick?process.nextTick:o()||(x.IsCallable(i)?i():function(e){r(e,0)}),a=function(e,t){if(!x.TypeIsObject(e))return!1;var n=t.resolve,r=t.reject;try{var i=e.then;if(!x.IsCallable(i))return!1;i.call(e,n,r)}catch(s){r(s)}return!0},f=function(e,t){e.forEach(function(e){u(function(){var n=e.handler,r=e.capability,i=r.resolve,s=r.reject;try{var o=n(t);if(o===r.promise)throw new TypeError("self resolution");var u=a(o,r);u||i(o)}catch(f){s(f)}})})},l=function(e,t,r){return function(i){if(i===e)return r(new TypeError("self resolution"));var s=e._promiseConstructor,o=new n(s),u=a(i,o);return u?o.promise.then(t,r):t(i)}};e=function(e){var t=this;t=T(t);if(!t._promiseConstructor)throw new TypeError("bad promise");if(typeof t._status!="undefined")throw new TypeError("promise already initialized");if(!x.IsCallable(e))throw new TypeError("not a valid resolver");t._status="unresolved",t._resolveReactions=[],t._rejectReactions=[];var n=function(e){if(t._status!=="unresolved")return;var n=t._resolveReactions;t._result=e,t._resolveReactions=void 0,t._rejectReactions=void 0,t._status="has-resolution",f(n,e)},r=function(e){if(t._status!=="unresolved")return;var n=t._rejectReactions;t._result=e,t._resolveReactions=void 0,t._rejectReactions=void 0,t._status="has-rejection",f(n,e)};try{e(n,r)}catch(i){r(i)}return t},t=e.prototype;var c=function(e,t,n,r){var i=!1;return function(s){if(i)return;i=!0,t[e]=s;if(--r.count===0){var o=n.resolve;o(t)}}};return y(e,{"@@create":function(e){var n=this,r=n.prototype||t;return e=e||b(r),y(e,{_status:void 0,_result:void 0,_resolveReactions:void 0,_rejectReactions:void 0,_promiseConstructor:void 0}),e._promiseConstructor=n,e},all:function(t){var r=this,i=new n(r),s=i.resolve,o=i.reject;try{if(!x.IsIterable(t))throw new TypeError("bad iterable");var u=x.GetIterator(t),a=[],f={count:1};for(var l=0;;l++){var h=x.IteratorNext(u);if(h.done)break;var p=r.resolve(h.value),d=c(l,a,i,f);f.count++,p.then(d,i.reject)}--f.count===0&&s(a)}catch(v){o(v)}return i.promise},race:function(t){var r=this,i=new n(r),s=i.resolve,o=i.reject;try{if(!x.IsIterable(t))throw new TypeError("bad iterable");var u=x.GetIterator(t);for(;;){var a=x.IteratorNext(u);if(a.done)break;var f=r.resolve(a.value);f.then(s,o)}}catch(l){o(l)}return i.promise},reject:function(t){var r=this,i=new n(r),s=i.reject;return s(t),i.promise},resolve:function(t){var r=this;if(x.IsPromise(t)){var i=t._promiseConstructor;if(i===r)return t}var s=new n(r),o=s.resolve;return o(t),s.promise}}),y(t,{"catch":function(e){return this.then(void 0,e)},then:function(t,r){var i=this;if(!x.IsPromise(i))throw new TypeError("not a promise");var s=this.constructor,o=new n(s);x.IsCallable(r)||(r=function(e){throw e}),x.IsCallable(t)||(t=function(e){return e});var u=l(i,t,r),a={capability:o,handler:u},c={capability:o,handler:r};switch(i._status){case"unresolved":i._resolveReactions.push(a),i._rejectReactions.push(c);break;case"has-resolution":f([a],i._result);break;case"has-rejection":f([c],i._result);break;default:throw new TypeError("unexpected")}return o.promise}}),e}();s.Promise&&(delete s.Promise.accept,delete s.Promise.defer,delete s.Promise.prototype.chain),y(s,{Promise:z});var W=t(s.Promise,function(e){return e.resolve(42)instanceof e}),X=function(){try{return s.Promise.reject(42).then(null,5).then(null,p),!0}catch(e){return!1}}(),V=function(){try{Promise.call(3,p)}catch(e){return!0}return!1}();if(!W||!X||!V)Promise=z,m(s,"Promise",z,!0);var $=function(e){var t=Object.keys(e.reduce(function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},J=$(["z","a","bb"]),K=$(["z",1,"a","3",2]);if(u){var Q=function(t){if(!J)return null;var n=typeof t;return n==="string"?"$"+t:n==="number"?K?t:"n"+t:null},G=function(){return Object.create?Object.create(null):{}},Y={Map:function(){function t(e,t){this.key=e,this.value=t,this.next=null,this.prev=null}function n(e,t){this.head=e._head,this.i=this.head,this.kind=t}function r(e){var n=this;if(!x.TypeIsObject(n))throw new TypeError("Map does not accept arguments when called as a function");n=T(n);if(!n._es6map)throw new TypeError("bad map");var r=new t(null,null);r.next=r.prev=r,y(n,{_head:r,_storage:G(),_size:0});if(typeof e!="undefined"&&e!==null){var i=x.GetIterator(e),s=n.set;if(!x.IsCallable(s))throw new TypeError("bad map");for(;;){var o=x.IteratorNext(i);if(o.done)break;var u=o.value;if(!x.TypeIsObject(u))throw new TypeError("expected iterable of pairs");s.call(n,u[0],u[1])}}return n}var e={};t.prototype.isRemoved=function(){return this.key===e},n.prototype={next:function(){var e=this.i,t=this.kind,n=this.head,r;if(typeof this.i=="undefined")return{value:void 0,done:!0};while(e.isRemoved()&&e!==n)e=e.prev;while(e.next!==n){e=e.next;if(!e.isRemoved())return t==="key"?r=e.key:t==="value"?r=e.value:r=[e.key,e.value],this.i=e,{value:r,done:!1}}return this.i=void 0,{value:void 0,done:!0}}},E(n.prototype);var i=r.prototype;return y(r,{"@@create":function(e){var t=this,n=t.prototype||i;return e=e||b(n),y(e,{_es6map:!0}),e}}),g.getter(r.prototype,"size",function(){if(typeof this._size=="undefined")throw new TypeError("size method called on incompatible Map");return this._size}),y(r.prototype,{get:function(e){var t=Q(e);if(t!==null){var n=this._storage[t];if(n)return n.value;return}var r=this._head,i=r;while((i=i.next)!==r)if(x.SameValueZero(i.key,e))return i.value},has:function(e){var t=Q(e);if(t!==null)return typeof this._storage[t]!="undefined";var n=this._head,r=n;while((r=r.next)!==n)if(x.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){var r=this._head,i=r,s,o=Q(e);if(o!==null){if(typeof this._storage[o]!="undefined")return this._storage[o].value=n,this;s=this._storage[o]=new t(e,n),i=r.prev}while((i=i.next)!==r)if(x.SameValueZero(i.key,e))return i.value=n,this;return s=s||new t(e,n),x.SameValue(0,e)&&(s.key=0),s.next=this._head,s.prev=this._head.prev,s.prev.next=s,s.next.prev=s,this._size+=1,this},"delete":function(t){var n=this._head,r=n,i=Q(t);if(i!==null){if(typeof this._storage[i]=="undefined")return!1;r=this._storage[i].prev,delete this._storage[i]}while((r=r.next)!==n)if(x.SameValueZero(r.key,t))return r.key=r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){this._size=0,this._storage=G();var t=this._head,n=t,r=n.next;while((n=r)!==t)n.key=n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return new n(this,"key")},values:function(){return new n(this,"value")},entries:function(){return new n(this,"key+value")},forEach:function(e){var t=arguments.length>1?arguments[1]:null,n=this.entries();for(var r=n.next();!r.done;r=n.next())t?e.call(t,r.value[1],r.value[0],this):e(r.value[1],r.value[0],this)}}),E(r.prototype,function(){return this.entries()}),r}(),Set:function(){var e=function(t){var n=this;if(!x.TypeIsObject(n))throw new TypeError("Set does not accept arguments when called as a function");n=T(n);if(!n._es6set)throw new TypeError("bad set");y(n,{"[[SetData]]":null,_storage:G()});if(typeof t!="undefined"&&t!==null){var r=x.GetIterator(t),i=n.add;if(!x.IsCallable(i))throw new TypeError("bad set");for(;;){var s=x.IteratorNext(r);if(s.done)break;var o=s.value;i.call(n,o)}}return n},t=e.prototype;y(e,{"@@create":function(e){var n=this,r=n.prototype||t;return e=e||b(r),y(e,{_es6set:!0}),e}});var n=function(t){if(!t["[[SetData]]"]){var n=t["[[SetData]]"]=new Y.Map;Object.keys(t._storage).forEach(function(e){e.charCodeAt(0)===36?e=e.slice(1):e.charAt(0)==="n"?e=+e.slice(1):e=+e,n.set(e,e)}),t._storage=null}};return g.getter(e.prototype,"size",function(){if(typeof this._storage=="undefined")throw new TypeError("size method called on incompatible Set");return n(this),this["[[SetData]]"].size}),y(e.prototype,{has:function(e){var t;return this._storage&&(t=Q(e))!==null?!!this._storage[t]:(n(this),this["[[SetData]]"].has(e))},add:function(e){var t;return this._storage&&(t=Q(e))!==null?(this._storage[t]=!0,this):(n(this),this["[[SetData]]"].set(e,e),this)},"delete":function(e){var t;if(this._storage&&(t=Q(e))!==null){var r=c(this._storage,t);return delete this._storage[t]&&r}return n(this),this["[[SetData]]"]["delete"](e)},clear:function(){this._storage?this._storage=G():this["[[SetData]]"].clear()},values:function(){return n(this),this["[[SetData]]"].values()},entries:function(){return n(this),this["[[SetData]]"].entries()},forEach:function(e){var t=arguments.length>1?arguments[1]:null,r=this;n(r),this["[[SetData]]"].forEach(function(n,i){t?e.call(t,i,i,r):e(i,i,r)})}}),m(e,"keys",e.values,!0),E(e.prototype,function(){return this.values()}),e}()};y(s,Y);if(s.Map||s.Set)if(typeof s.Map.prototype.clear!="function"||(new s.Set).size!==0||(new s.Map).size!==0||typeof s.Map.prototype.keys!="function"||typeof s.Set.prototype.keys!="function"||typeof s.Map.prototype.forEach!="function"||typeof s.Set.prototype.forEach!="function"||e(s.Map)||e(s.Set)||!t(s.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}))s.Map=Y.Map,s.Set=Y.Set;s.Set.prototype.keys!==s.Set.prototype.values&&m(s.Set.prototype,"keys",s.Set.prototype.values,!0),E(Object.getPrototypeOf((new s.Map).keys())),E(Object.getPrototypeOf((new s.Set).keys()))}return s}),define("jqueryplugins",["jquery"],function(e){"use strict";e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){return this.length===1&&this[0]instanceof Text?[this[0]]:Array.apply(0,this.add(this.contents().add(this.find("*").contents())).filter(function(){return this instanceof Text})).sort(function(e,t){return e.compareDocumentPosition(t)&2?1:-1})},prevTextNode:function(){var e=this.first()[0],t=this.parent(),n;return t.length?(n=t.textNodes().filter(function(t){var n=t.compareDocumentPosition(e);return n&4&&!(n&8)}),n=n[n.length-1],n?n:t.prevTextNode()):null},nextTextNode:function(){var e=this.last()[0],t=this.parent(),n;return t.length?(n=t.textNodes().filter(function(t){var n=t.compareDocumentPosition(e);return n&2&&!(n&8)})[0],n?n:t.nextTextNode()):null}})}),function(){"use strict";function n(){var e,t;for(e=0;e<arguments.length;e++)for(t in arguments[e])this[t]=arguments[e][t]}function r(e,t){var n;e.childAt=e.childAt||{};for(n=t.start;n<t.end;n+=1)e.childAt[n]=t}function i(e,t,n,r){return(!e.canFollow||e.canFollow.indexOf(n&&n.type)>-1)&&(!e.cannotFollow||e.cannotFollow.indexOf(n&&n.type)===-1&&!(e.cannotFollow.indexOf("text")>-1&&r))&&(!e.peek||e.peek===t.slice(0,e.peek.length))}function s(e){var n=e.innerText,r,s,u,a,f,l,c,h=[],p=0,d=p,v=n.length,m=null,g,y;while(p<v){f=n.slice(p),c=(h.length?h[0]:e).innerMode;for(r=0,s=c.length;r<s;r+=1){u=t[c[r]];if(!i(u,f,m,d<p)||!u.pattern.test(f))continue;a=u.pattern.exec(f),g=u.fn(a),y=!1;if(g.matches){for(l=0;l<h.length;l+=1)if(h[l].type in g.matches){y=!0;break}if(l>=h.length&&!g.isFront)continue}d<p&&e.addChild({type:"text",text:n.slice(d,p),innerMode:c}),m=e.addChild(g),p+=m.text.length,d=p,y&&(o(e,m,h[l]),h=h.slice(l+1)),m.isFrontToken()&&h.unshift(m);break}r===s&&(p+=1,m===null&&(m={type:"text"}))}d<p&&e.addChild({type:"text",text:n.slice(d,p),innerMode:(h.length?h[0]:e).innerMode});while(h.length>0)h.shift().demote();return e}function o(e,t,n){var i=e.children.indexOf(t),s=e.children.indexOf(n),o,u;t.children=e.children.splice(s+1,i-(s+1)),t.children.forEach(function(e){r(t,e)}),t.type=t.matches[n.type],t.innerText="";for(o=0,u=t.children.length;o<u;o++)t.innerText+=t.children[o].text;t.start=n.start,t.text=n.text+t.innerText+t.text,Object.keys(n).forEach(function(e){Object.hasOwnProperty.call(t,e)||(t[e]=n[e])}),t.isFront&&(t.isFront=!1),e.children.splice(s,1),r(e,t)}var e,t={};n.prototype={constructor:n,addChild:function(t){var i=this.lastChildEnd(),o;return o=new n({start:i,end:t.text&&i+t.text.length,children:[]},t),o.innerText&&s(o),this.children.push(o),r(this,o),o},lastChild:function(){return this.children?this.children[this.children.length-1]||null:null},lastChildEnd:function(){var t=this.lastChild();return t?t.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(t){var n,r;if(t<this.start||t>=this.end)return null;if(this.childAt)return this.childAt[t]&&this.childAt[t].tokenAt(t)||this;if(this.children.length)for(n=0;n<this.children.length;n+=1){r=this.children[n].tokenAt(t);if(r)return r}return this},pathAt:function(t){var n=[],r,i;if(t<this.start||t>=this.end)return[];if(this.childAt)return(this.childAt[t]&&this.childAt[t].pathAt(t)||[]).concat(this);if(this.children.length)for(r=0;r<this.children.length;r+=1){i=this.children[r].pathAt(t);if(i.length){n.concat(i);break}}return n.concat(this)},nearestTokenAt:function(t){return t<this.start||t>=this.end?null:this.children?this.children.reduce(function(e,n){return e||(t>=n.start&&t<n.end?n:null)},null):this},everyLeaf:function u(e){var t;return!this.children||this.children.length===0?!!e(this):this.children.everyLeaf(function(){t=t&&!!u(e)})},isWhitespace:function(){return this.everyLeaf(function(e){return e.type==="whitespace"||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return"matches"in this},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"→"+this.end+")";return this.children&&this.children.length>0&&(e+="["+this.children+"]"),e}},e={lex:function(t,r){var i=s(new n({type:"root",start:r||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:e.startMode}));return i},rules:t},typeof module=="object"?module.exports=e:typeof define=="function"&&define.amd?define("lexer",[],function(){return e}):typeof StoryFormat=="function"&&this instanceof StoryFormat?(this.modules||(this.modules={}),this.modules.Lexer=e):this.TwineLexer=e}.call(this||(typeof global!="undefined"?global:window)),function(){"use strict";function t(e){return e&&typeof e=="object"?(Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e):(e+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(){return"[^"+Array.apply(0,arguments).map(t).join("")+"]*"}function r(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var e,i=r("?:"),s=r("?!"),o=r("?="),u="[ \\f\\t\\v  ᠎ - \u2028\u2029  　]*",a=u.replace("*","+"),f="\\b",l="\\\\\\n\\\\?|\\n\\\\",c="\\n(?!\\\\)",h="[\\w\\-À-Þß-ÿŐŰőű]",p="[\\wÀ-Þß-ÿŐŰőű]",d=i("\\n","$"),v="("+i(l,"[^\\n]")+"+)",m="\\*",g=u+"("+m+"+)"+a+v+d,y="(?:0\\.)",b=u+"("+y+"+)"+a+v+d,w=u+"-{3,}"+u+d,E=u+"(#{1,6})"+u+v+d,S=u+"(==+>|<=+|=+><=+|<==+>)"+u+d,x={opener:"\\[\\[(?!\\[)",text:"("+n("]")+")",rightSeparator:i("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+i("[^\\|\\]]","\\]"+s("\\]"))+"+)"},T=h.replace("\\-","")+"*"+h.replace("\\-","").replace("\\w","a-zA-Z")+h.replace("\\-","")+"*",N="\\$("+T+")",C="'s"+a+"("+T+")",k="("+T+")"+a+"of"+f+s("it"+f),L="'s"+a,A="of"+f,O=i("it","time")+f,M="its"+a+"("+T+")",_="its"+a,D="("+T+")"+a+"of"+a+"it"+f,P="of"+f+a+"it"+f,H={opener:"\\(",name:"("+i(h.replace("]","\\/]")+h+"*",N)+"):",closer:"\\)"},B="<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",j={name:"[a-zA-Z][\\w\\-]*",attrs:"(?:\"[^\"]*\"|'[^']*'|[^'\">])*?"},F="\\|("+h.replace("]","_]")+"*)>",I="<("+h.replace("]","_]")+"*)\\|",q="\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?|NaN)"+s("m?s")+"\\b";x.main=x.opener+i(x.text+x.rightSeparator,x.text.replace("*","*?")+x.leftSeparator)+x.text,e={upperLetter:"[A-ZÀ-ÞŐŰ]",lowerLetter:"[a-z0-9_\\-ß-ÿőű]",anyLetter:h,anyLetterStrict:p,whitespace:a,escapedLine:l,br:c,commentFront:"<!--",commentBack:"-->",tag:"<\\/?"+j.name+j.attrs+">",tagPeek:"<",scriptStyleTag:"<("+i("script","style")+")"+j.attrs+">"+"[^]*?"+"<\\/\\1>",scriptStyleTagOpener:"<",url:"("+i("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:m,hr:w,heading:E,align:S,bulleted:g,numbered:b,delOpener:t("~~"),italicOpener:t("//"),boldOpener:t("''"),supOpener:t("^^"),strongFront:t("**"),strongBack:t("**"),emFront:t("*"),emBack:t("*"),verbatimOpener:"`+",collapsedFront:"{",collapsedBack:"}",hookAppendedFront:"\\[",hookPrependedFront:F+"\\[",hookAnonymousFront:"\\[",hookBack:"\\]"+s(I),hookAppendedBack:"\\]"+I,passageLink:x.main+x.closer,passageLinkPeek:"[[",legacyLink:x.opener+x.legacyText+x.legacySeparator+x.legacyText+x.closer,legacyLinkPeek:"[[",simpleLink:x.opener+x.legacyText+x.closer,simpleLinkPeek:"[[",macroFront:H.opener+o(H.name),macroFrontPeek:"(",macroName:H.name,groupingFront:"\\("+s(H.name),groupingFrontPeek:"(",groupingBack:"\\)",twine1Macro:B,twine1MacroPeek:"<<",property:C,propertyPeek:"'s",belongingProperty:k,possessiveOperator:L,belongingOperator:A,belongingOperatorPeek:"of",itsOperator:_,itsOperatorPeek:"its",belongingItOperator:P,belongingItOperatorPeek:"of",variable:N,variablePeek:"$",hookRef:"\\?("+h+"+)\\b",hookRefPeek:"?",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)"+f,colour:i(i("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),number:q,"boolean":i("true","false")+f,identifier:O,itsProperty:M,itsPropertyPeek:"its",belongingItProperty:D,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',is:"is"+s(" not"," in")+f,isNot:"is not"+f,and:"and"+f,or:"or"+f,not:"not"+f,inequality:i("<(?!=)","<=",">(?!=)",">="),isIn:"is in"+f,contains:"contains"+f,addition:t("+")+s("="),subtraction:t("-")+s("="),multiplication:t("*")+s("="),division:i("/","%")+s("="),comma:",",spread:"\\.\\.\\."+s("\\."),to:i("to"+f,"="),into:"into"+f,augmentedAssign:i("\\+","\\-","\\*","\\/","%")+"="},typeof module=="object"?module.exports=e:typeof define=="function"&&define.amd?define("patterns",[],function(){return e}):typeof StoryFormat=="function"&&this instanceof StoryFormat?(this.modules||(this.modules={}),this.modules.Patterns=e):this.Patterns=e}.call(this||(typeof global!="undefined"?global:window)),function(){"use strict";function t(t){function f(e){return e=e||"innerText",function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:"")},""),r={};return r[e]=n,r}}function l(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n}}}function h(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var i=r(t);return i.text||(i.text=t[0]),i.type||(i.type=n),i.innerMode||(i.innerMode=e),i}}),t}var n,r,i,s,o,u=[],a=[],c=Object.bind(0,null);return n=h(u,{hr:{fn:c},bulleted:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},numbered:{fn:function(e){return{depth:e[1].length/2,innerText:e[2]}}},heading:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},align:{fn:function(e){var t,n=e[1],r=n.indexOf("><");return~r?(t=Math.round(r/(n.length-2)*50),t===25&&(t="center")):n[0]==="<"&&n.slice(-1)===">"?t="justify":n.indexOf(">")>-1?t="right":n.indexOf("<")>-1&&(t="left"),{align:t}}}}),Object.keys(n).forEach(function(e){n[e].canFollow=[null,"br","hr","bulleted","numbered","heading","align"],n[e].cannotFollow=["text"]}),r=h(u,{twine1Macro:{fn:function(){return{type:"error",message:"Twine 2 macros use a different syntax to Twine 1 macros."}}},br:{fn:c},emBack:{fn:function(){return{matches:{emFront:"em"}}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"}}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:l("boldOpener","bold")},italicOpener:{fn:l("italicOpener","italic")},delOpener:{fn:l("delOpener","del")},supOpener:{fn:l("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:c},tag:{fn:c},url:{fn:c},passageLink:{fn:function(e){var t=e[1],n=e[2],r=e[3];return{type:"twineLink",innerText:n?r:t,passage:t?r:n}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[1]}}},hookPrependedFront:{fn:function(e){return{name:e[1],isFront:!0,tagPosition:"prepended"}}},hookAnonymousFront:{fn:function(){return{isFront:!0,demote:function(){this.error("This tagged hook doesn't have a matching ].")}}},canFollow:["macro","variable"]},hookAppendedFront:{fn:function(){return{isFront:!0}},cannotFollow:["macro","variable"]},hookBack:{fn:function(){return{type:"hookAppendedBack",matches:{hookPrependedFront:"hook",hookAnonymousFront:"hook"}}}},hookAppendedBack:{fn:function(e){return{name:e[1],tagPosition:"appended",matches:{hookAppendedFront:"hook"}}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n["verbatim"+t]="verbatim",{type:"verbatim"+t,isFront:!0,matches:n}}},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"}}}},escapedLine:{fn:c},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2]}}}}),i=h(a,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"}}}},hookRef:{fn:f("name")},variable:{fn:f("name")},whitespace:{fn:c,cannotFollow:"text"}}),s=h(a,Object.assign({macroName:{canFollow:["macroFront"],fn:function(e){return e[2]?{isMethodCall:!0,innerText:e[2]}:{isMethodCall:!1}}},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:f("name"),canFollow:["variable","hookRef","property","itsProperty","belongingItProperty","macro","grouping","string"]},possessiveOperator:{fn:c},itsProperty:{fn:f("name")},itsOperator:{fn:c},belongingItProperty:{cannotFollow:["text"],fn:f("name")},belongingItOperator:{cannotFollow:["text"],fn:c},belongingProperty:{cannotFollow:["text"],fn:f("name")},belongingOperator:{cannotFollow:["text"],fn:c},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"}}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"}}}},cssTime:{fn:function(e){return{value:+e[1]*(e[2].toLowerCase()==="s"?1e3:1)}}},colour:{cannotFollow:["text"],fn:function(e){var t,n=e[0].toLowerCase(),r={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"};return Object.hasOwnProperty.call(r,n)?t="#"+r[n]:t=n,{colour:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},addition:{fn:c},subtraction:{fn:c},multiplication:{fn:c},division:{fn:c},inequality:{fn:function(e){return{operator:e[0]}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:f("name")}},["boolean","is","to","into","and","or","not","isNot","contains","isIn"].reduce(function(e,t){return e[t]={fn:c,cannotFollow:["text"]},e},{}),["comma","spread","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:c},e},{}))),[].push.apply(u,Object.keys(n).concat(Object.keys(r)).concat(Object.keys(i))),[].push.apply(a,Object.keys(i).concat(Object.keys(s))),o=Object.assign({},n,r,i,s),Object.keys(o).forEach(function(t){var n=e[t];typeof n!="string"?o[t].pattern=n:o[t].pattern=new RegExp("^(?:"+n+")","i"),e[t+"Peek"]&&(o[t].peek=e[t+"Peek"])}),Object.assign(t.rules,o),t.startMode=u,t}function n(n){var r=Object.freeze({lex:t(n).lex,Patterns:e});return r}var e;Object.assign=Object.assign||function(t){var n=1,r,i;for(;n<arguments.length;n++){r=arguments[n];for(i in r)Object.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},typeof module=="object"?(e=require("patterns"),module.exports=n(require("lexer"))):typeof define=="function"&&define.amd?define("markup",["lexer","patterns"],function(t,r){return e=r,n(t)}):typeof StoryFormat=="function"&&this instanceof StoryFormat?(e=this.modules.Patterns,this.modules.Markup=n(this.modules.Lexer),this.lex=this.modules.Markup.lex):(e=this.Patterns,this.TwineMarkup=n(this.TwineLexer))}.call(this||(typeof global!="undefined"?global:window)),define("utils/selectors",[],function(){"use strict";return Object.freeze({passage:"tw-passage",story:"tw-story",sidebar:"tw-sidebar",internalLink:"tw-link",brokenLink:"tw-broken-link",hook:"tw-hook",pseudoHook:"tw-pseudo-hook",expression:"tw-expression",enchanter:"[enchanter]",script:"[role=script]",stylesheet:"[role=stylesheet]",storyData:"tw-storydata",passageData:"tw-passagedata",whitespace:"tw-char[char=space], tw-char[char=tab], br",collapsed:"tw-collapsed"})}),define("utils/customelements",[],function(){"use strict";if(!document.registerElement)return;var e={};return function t(n,r){var i,s=Object.create(HTMLElement.prototype),o={};return r=Array.from(arguments).slice(1),r.forEach(function(e){o[e]={value:null}}),Object.defineProperties(s,o),i=document.registerElement(n,{prototype:s}),e[n]=i,t}("tw-storydata","storyname","startnode","creator","creator-version","options")("tw-passagedata","name","pid","position")("tw-story")("tw-debugger")("tw-passage")("tw-link","passage-name")("tw-broken-link","passage-name")("tw-expression","type","name","js")("tw-sidebar")("tw-icon")("tw-align")("tw-collapsed")("tw-verbatim")("tw-hook","name","source")("tw-pseudo-hook")("tw-transition-container")("tw-error")("tw-error-explanation")("tw-error-explanation-button")("tw-notifier","message"),Object.freeze(e)}),define("utils",["jquery","markup","utils/selectors","utils/customelements"],function(e,t,n){"use strict";function f(e){var t=[];return Array.prototype.every.call(e.find("*"),function(e){return e.hidden||/none|inline/.test(e.style.display)?!0:o.indexOf(e.tagName.toLowerCase())>-1||/none|inline/.test(e.style.display)?!1:u.indexOf(e.tagName.toLowerCase())>-1?!0:(t.push(e),!0)})&&t.every(function(e){return/none|inline/.test(e.style.display)})}var r={configurable:0,writable:0},i={"transition-in":Object.create(null),"transition-out":Object.create(null)},s,o="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align".split(","),u="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error".split(","),a=["audio"],l={lockProperties:function(e){var t,n,i=Object.keys(e),s={};for(t=0;t<i.length;t++)n=i[t],s[n]=r;return Object.defineProperties(e,s)},lockProperty:function(e,t,n){var i=Object.create(r);return n&&(i.value=n),Object.defineProperty(e,t,i),e},getInheritedPropertyDescriptor:function(e,t){while(e&&!e.hasOwnProperty(t))e=Object.getPrototypeOf(e);return e&&Object.getOwnPropertyDescriptor(e,t)||null},toJSLiteral:JSON.stringify,toTSStringLiteral:function(e){var t=Math.max.apply(0,(e.match(/(`+)/g)||[]).map(function(e){return e.length}).concat(0))+1;return"`".repeat(t)+e+"`".repeat(t)},cssTimeUnit:function(e){var t;if(typeof e=="string"){e=e.toLowerCase();if(e.slice(-2)==="ms")return+e.slice(0,-2)||0;if(e.slice(-1)==="s")return+e.slice(0,-1)*1e3||0}else if(Array.isArray(e))return t=[],e.forEach(function(e){var n=l.cssTimeUnit(e);n>0&&t.push(n)}),t;return 0},nth:function(e){var t=(e+"").slice(-1);return e+(t==="1"?"st":t==="2"?"nd":t==="3"?"rd":"th")},plural:function(e,t){return e+" "+t+(e>1?"s":"")},unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(/-|_/g,"")},wrapHTMLTag:function(e,t){return"<"+t+">"+e+"</"+t+">"},findAndFilter:function(t,n){return t=e(t||l.storyElement),t.filter(n).add(t.find(n))},closestHookSpan:function(e){var t=e.closest(n.hook+","+n.pseudoHook);return t.length?t:e},transitionReplace:function(t,n,r){var i,s,o;t=l.closestHookSpan(t),i=e("<tw-transition-container>").css("position","relative"),i.insertBefore(t.first()),n&&(s=e("<tw-transition-container>").appendTo(i),n.appendTo(s)),o=e("<tw-transition-container>").css("position","absolute").prependTo(i),t.detach().appendTo(o),l.transitionOut(o,r),n&&l.transitionIn(s,r,function(){s.unwrap().children().first().unwrap()})},transitionOut:function(e,t){function s(){e.remove()}var n,r=f(e),i=e.length>1||!r||["tw-hook","tw-passage"].indexOf(e.tag())===-1;i&&(e=e.wrapAll("<tw-transition-container>").parent()),e.attr("data-t8n",t).addClass("transition-out"),f(e)&&e.css("display","inline-block"),n=l.transitionTime(t,"transition-out"),n?window.setTimeout(s,n):s()},transitionIn:function(e,t){function s(){var t=l.findAndFilter(e,a.join(",")).length===0;i&&t?e.contents().unwrap():e.removeClass("transition-in").removeAttr("data-t8n")}var n,r=f(e),i=e.length>1||!r||["tw-hook","tw-passage"].indexOf(e.tag())===-1;i&&(e=e.wrapAll("<tw-transition-container>").parent()),e.attr("data-t8n",t).addClass("transition-in"),f(e)&&e.css("display","inline-block"),n=l.transitionTime(t,"transition-in"),n?window.setTimeout(s,n):s()},transitionTime:function(t,n){var r;return i[n][t]||(r=e("<p>").appendTo(document.body).attr("data-t8n",t).addClass(n),i[n][t]=l.cssTimeUnit(r.css("animation-duration"))+l.cssTimeUnit(r.css("animation-delay")),r.remove()),i[n][t]},$:function(t,n){return e(t,n||l.storyElement).not(".transition-out, .transition-out *")},log:function(e){if(!window.console)return;console.log(e)},impossible:function(e,t){if(!window.console)return;console.error(e+"(): "+t)},assert:function(e){if(!window.console)return;e||console.error("Assertion failed!")},assertMustHave:function(e,t){if(!window.console)return;for(var n=0;n<t.length;n+=1)t[n]in e||console.error("Assertion failed: "+e+" lacks property "+t[n])},assertOnlyHas:function(e,t){if(!window.console)return;for(var n in e)t.indexOf(n)===-1&&console.error("Assertion failed: "+e+" had unexpected property '"+n+"'!")},get storyElement(){return s}};return e(document).ready(function(){s=e(n.story)}),Object.freeze(l)}),define("twinescript/compiler",["utils"],function(e){"use strict";function t(e,t){var n,r=arguments.length===1?t:Array.prototype.slice.call(arguments,1);for(n=0;n<e.length;n+=1)if(0+r.indexOf(e[n].type)>-1)return n;return NaN}function n(e){var n=Array.prototype.slice.call(arguments,0);return n[0]=Array.from(e).reverse(),e.length-1-t.apply(0,n)}function r(i,s){var o,u,a,f,l,c,h,p,d,v=!0,m=!0,g=!1;if(!i)return"";i=[].concat(i);if(i.length===1){l=i[0];if(l.type==="identifier")return s?"TwineError.create('keyword','I can\\'t use \\'"+l.text+"\\' in this position.') ":" Operations.Identifiers."+l.text.toLowerCase()+" ";if(l.type==="variable")return"VarRef.create(State.variables,"+e.toJSLiteral(l.name)+")"+(s?"":".get()");if(l.type==="hookRef")return s?"VarRef.create(section.selectHook('?"+l.name+"'), 'TwineScript_Assignee')":" section.selectHook('?"+l.name+"') ";if(l.type==="string")return l.text.replace(/\n/g,"\\n");if(l.type==="colour")return"Colour.create("+e.toJSLiteral(l.colour)+")";if(l.type==="root")return r(l.children)}return(o=t(i,"comma"))>-1?(c=",",m=!1):(o=t(i,"spread"))>-1?(c="Operations.makeSpreader(",a=r(i.splice(o+1))+")",v=!1):(o=t(i,"to"))>-1?(p="to",u="Operations.setIt("+r(i.slice(0,o),"varRef")+")"):(o=t(i,"into"))>-1?(p="into",a=r(i.slice(0,o),"varRef"),u="Operations.setIt("+r(i.slice(o+1),"varRef")+")"):(o=t(i,"augmentedAssign"))>-1?(p=i[o].operator,u=r(i.slice(0,o),"varRef"),a="Operations['"+p+"']("+(r(i.slice(0,o))+","+r(i.splice(o+1)))+")"):(o=t(i,"and","or"))>-1?h=i[o].type:(o=t(i,"is","isNot"))>-1?(g=!0,h=i[o].type):(o=t(i,"contains","isIn"))>-1?(g=!0,h=i[o].type):(o=t(i,"inequality"))>-1?(g=!0,h=i[o].operator):(o=t(i,"addition","subtraction"))>-1?(h=i[o].text,u=r(i.slice(0,o)),u.trim()||(u="0")):(o=t(i,"multiplication","division"))>-1?h=i[o].text:(o=t(i,"not"))>-1?(c="Operations.not(",a=r(i.splice(o+1))+")",v=!1):(o=t(i,"belongingProperty"))>-1?(a="VarRef.create("+r(i.slice(o+1),"varref")+","+e.toJSLiteral(i[o].name)+")"+(s?"":".get()"),c=" ",v=m=!1):(o=t(i,"belongingOperator","belongingItOperator"))>-1?(i[o].type.includes("It")&&(a="Operations.Identifiers.it",m=!1),d="belonging"):(o=n(i,"property"))>-1?(u="VarRef.create("+r(i.slice(0,o),"varref")+","+e.toJSLiteral(i[o].name)+")"+(s?"":".get()"),c=" ",v=m=!1):(o=n(i,"itsProperty"))>-1||(o=t(i,"belongingItProperty"))>-1?(u="VarRef.create(Operations.Identifiers.it,"+e.toJSLiteral(i[o].name)+").get()",c=" ",v=m=!1):(o=n(i,"possessiveOperator","itsOperator"))>-1?(i[o].type.includes("it")&&(u="Operations.Identifiers.it",v=!1),d="possessive"):(o=t(i,"macro"))>-1?(f=i[o].children[0],e.assert(f.type==="macroName"),c="Macros.run("+(f.isMethodCall?r(f.children):'"'+i[o].name+'"')+", ["+"section,"+r(i[o].children.slice(1))+"])",v=m=!1):(o=t(i,"grouping"))>-1&&(c="("+r(i[o].children,s)+")",v=m=!1),o>-1?(u=u||r(i.slice(0,o),s).trim(),a=a||r(i.splice(o+1)).trim(),g&&!u&&(u=" Operations.Identifiers.it "),v&&!u||m&&!a?"TwineError.create('operation','I need some code to be "+(v?"left ":"")+(v&&m?"and ":"")+(m?"right ":"")+"of "+'"'+i[o].text+'"'+"')":c?u+c+a:p?"Operations.makeAssignmentRequest("+[u,a,e.toJSLiteral(p)]+")":d?"VarRef.create("+(d==="belonging"?a:u)+",{computed:true,value:"+(d==="belonging"?u:a)+"})"+(s?"":".get()"):h?" Operations["+e.toJSLiteral(h)+"]("+u+","+a+") ":""):i.length===1?((l.value||l.text)+"").trim()||" ":i.reduce(function(e,t){return e+r(t,s)},"")}return r}),define("internaltypes/twineerror",["jquery","utils"],function(e,t){"use strict";var n={syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to use an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",keyword:"I was given a keyword in a way that I didn't understand.",changer:"This is a command to change a hook, but it isn't being used correctly.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",javascript:"This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written."},r={create:function(e,r,i){return r||t.impossible("TwineError.create","called with only 1 string."),t.assert(i||e in n),Object.assign(Object.create(this),{type:e,message:r,explanation:i})},fromError:function(e){return r.create("javascript","☕ "+e.message)},containsError:function i(){return Array.from(arguments).reduce(function(e,t){return e?e:t instanceof Error?t:r.isPrototypeOf(t)?t:Array.isArray(t)?i.apply(this,t):!1},!1)},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(r){r=r||"";var i=e("<tw-error class='"+(this.type==="javascript"?"javascript ":"")+(this.warning?"warning":"error")+"' title='"+t.escape(r)+"'>"+t.escape(this.message)+"</tw-error>"),s=e("<tw-error-explanation>").text(this.explanation||n[this.type]).hide(),o=e("<tw-error-explanation-button tabindex=0>").html("<span class='folddown-arrowhead'>&#9658;</span>");return o.on("click",function(){s.toggle(),o.children(".folddown-arrowhead").css("transform","rotate("+(s.is(":visible")?"90deg":"0deg")+")")}),i.append(o).append(s),i}};return r}),define("renderer",["utils","markup","twinescript/compiler","internaltypes/twineerror"],function(e,t,n,r){"use strict";function i(t,n){var r=u.render(t.children);return r&&e.wrapHTMLTag(r,n)}var s="text-align: center; max-width:50%; ",o=e.escape,u={options:{},exec:function(){var n,r;return function(i){return typeof i!="string"?(e.impossible("Renderer.exec","source was not a string, but "+typeof i),""):i===n?r:(n=i,r=this.render(t.lex(i).children),r)}}(),render:function a(f){var l,c,h,p,d,v,m,g,y=0,b="";if(!f)return b;c=f.length;for(;y<c;y+=1){l=f[y];switch(l.type){case"error":b+=r.create("syntax",l.message).render(o(l.text))[0].outerHTML;break;case"numbered":case"bulleted":h=l.type==="numbered"?"ol":"ul",b+="<"+h+">",p=1;while(y<c&&f[y]&&f[y].type===l.type)b+=("<"+h+">").repeat(Math.max(0,f[y].depth-p)),b+=("</"+h+">").repeat(Math.max(0,p-f[y].depth)),p=f[y].depth,b+=i(f[y],"li"),y+=1;y-=1,b+=("</"+h+">").repeat(p+1);break;case"align":while(l&&l.type==="align"){d="",v="",m=l.align,g=y+=1;if(m==="left")break;while(y<c&&f[y]&&f[y].type!=="align")y+=1;v+=a(f.slice(g,y));switch(m){case"center":d+=s+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":d+="text-align: "+m+";";break;default:+m&&(d+=s+"margin-left: "+m+"%;")}b+="<tw-align "+(d?'style="'+d+'"':"")+(u.options.debug?' title="'+l.text+'"':"")+">"+v+"</tw-align>\n",l=f[y]}break;case"heading":b+=i(l,"h"+l.depth);break;case"br":case"hr":b+="<"+l.type+">";break;case"escapedLine":case"comment":break;case"inlineUrl":b+='<a class="link" href="'+o(l.text)+'">'+l.text+"</a>";break;case"scriptStyleTag":case"tag":b+=l.text.startsWith("</")?l.text:l.text.replace(/>$/," data-raw>");break;case"sub":case"sup":case"del":case"strong":case"em":b+=i(l,l.type);break;case"bold":b+=i(l,"b");break;case"italic":b+=i(l,"i");break;case"twineLink":var w=t.lex("(link-goto:"+e.toJSLiteral(l.innerText)+","+e.toJSLiteral(l.passage)+")");b+=a(w.children);break;case"hook":b+="<tw-hook "+(l.name?'name="'+l.name+'"':"")+(u.options.debug&&l.name?' title="Hook: ?'+l.name+'"':"")+' source="'+o(l.innerText)+'">'+"</tw-hook>";break;case"verbatim":b+=e.wrapHTMLTag(o(l.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":b+=i(l,"tw-collapsed");break;case"hookRef":case"variable":case"macro":b+='<tw-expression type="'+l.type+'" name="'+o(l.name||l.text)+'"'+(u.options.debug?' title="'+o(l.text)+'"':"")+' js="'+o(n(l))+'">'+"</tw-expression>";break;default:b+=l.children&&l.children.length?a(l.children):l.text}}return b}};return Object.freeze(u)}),define("passages",["jquery","utils","utils/selectors"],function(e,t,n){"use strict";function r(e){return Object.assign(new Map([["source",t.unescape(e.html())],["tags",(e.attr("tags")||"").split(/\s/)],["name",e.attr("name")]]),{TwineScript_TypeName:"passage datamap",TwineScript_ObjectName:"a passage datamap"})}var i=Object.assign(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(e){var t=[];return this.forEach(function(n){var r=n instanceof Map&&n.get("tags");Array.isArray(r)&&r.indexOf(e)>-1&&t.push(n)}),t.sort(function(e,t){return e.get("name")>t.get("name")})},create:r});return e(document).ready(function(){Array.from(e(n.storyData+" > "+n.passageData)).forEach(function(t){t=e(t),i.set(t.attr("name"),new r(t))})}),i}),define("state",["utils","passages"],function(e,t){"use strict";var n={TwineScript_ObjectName:"this story's variables",TwineScript_Writeproof:[]},r={passage:"",variables:n,create:function(e,t){var n=Object.create(r);return n.passage=e||"",n.variables=Object.assign(Object.create(this.variables),t),n}},i=[],s=-1,o=r.create(),u=!0,a=Object.assign({get passage(){return o.passage},get variables(){return o.variables},get pastLength(){return s},get futureLength(){return i.length-1-s},passageNameVisited:function(e){var n,r=0;if(!t.get(e))return 0;for(n=0;n<=s;n++)r+=+(e===i[n].passage);return r},passageNameLastVisited:function(e){var n;if(!t.get(e))return Infinity;if(e===o.passage)return 0;for(n=s;n>0;n--)if(i[n].passage===e)return s-n+1;return Infinity},pastPassageNames:function(){var e,t=[];for(e=s-1;e>=0;e--)t.unshift(i[e].passage);return t},newPresent:function(e){o=(i[s]||r).create(e)},play:function(t){o||e.impossible("State.play","present is undefined!"),o.passage=t,i=i.slice(0,s+1).concat(o),s+=1,this.newPresent(t)},rewind:function(e){var t=1,n=!1;if(e)if(typeof e=="string"){t=this.passageNameLastVisited(e);if(t===Infinity)return}else typeof e=="number"&&(t=e);for(;t>0&&s>0;t--)n=!0,s-=1;return n&&this.newPresent(i[s].passage),n},fastForward:function(e){var t=1,n=!1;typeof e=="number"&&(t=e);for(;t>0&&i.length>0;t--)n=!0,s+=1;return n&&this.newPresent(i[s].passage),n},reset:function(){i=[],s=-1,o=r.create(),u=!0}},function(){function e(t){return typeof t=="number"||typeof t=="boolean"||typeof t=="string"||t===null||Array.isArray(t)&&t.every(e)||t instanceof Set&&Array.from(t).every(e)||t instanceof Map&&Array.from(t.values()).every(e)}function t(e,t){return t instanceof Set?{"(dataset:)":Array.from(t)}:t instanceof Map?{"(datamap:)":Array.from(t)}:t}function o(e,t){if(Object.prototype.isPrototypeOf(t)){if(Array.isArray(t["(dataset:)"]))return new Set(t["(dataset:)"]);if(Array.isArray(t["(datamap:)"]))return new Map(t["(datamap:)"])}return t}function a(){var n=i.slice(0,s+1);u=u&&n.every(function(t){return Object.keys(t.variables).every(function(n){var r=t.variables[n];return e(r)})});if(!u)return!1;try{return JSON.stringify(n,t)}catch(r){return!1}}function f(e){var t,u=n;try{t=JSON.parse(e,o)}catch(a){return!1}if(!Array.isArray(t))return!1;if((t=t.map(function(e){return typeof e!="object"||!e.hasOwnProperty("passage")||!e.hasOwnProperty("variables")?!1:(e.variables=Object.assign(Object.create(u),e.variables),u=e.variables,Object.assign(Object.create(r),e))})).indexOf(!1)>-1)return!1;i=t,s=i.length-1,this.newPresent(i[s].passage)}return{serialise:a,deserialise:f}}());return Object.seal(r),Object.freeze(a)}),define("utils/operationutils",["utils","internaltypes/twineerror"],function(e,t){"use strict";function n(e){return!!e&&(typeof e=="object"||typeof e=="function")}function r(e){return Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":e&&typeof e=="object"?"object":""}function i(n,r){e.assert(n instanceof Map);if(typeof r!="string"&&typeof r!="number")return t.create("property","Only strings and numbers can be used as data names for "+a(n)+", not "+a(r)+".");var i=typeof r=="string"?+r:""+r;return!Number.isNaN(i)&&n.has(i)?t.create("property","You mustn't use both "+a(r)+" and "+a(i)+" as data names in the same datamap."):!0}function s(e){return typeof e=="string"||Array.isArray(e)}function o(t){if(!n(t))return t;if(typeof t.TwineScript_Clone=="function")return t.TwineScript_Clone();if(Array.isArray(t))return[].concat(t);if(t instanceof Map)return Object.assign(new Map(t),t);if(t instanceof Set)return Object.assign(new Set(t),t);if(typeof t=="function")return Object.assign(t.bind(),t);switch(Object.getPrototypeOf(t)){case Object.prototype:return Object.assign({},t);case null:return Object.assign(Object.create(null),t)}return e.impossible("Operations.clone","The value "+t+" cannot be cloned!"),t}function u(e,t,r){return typeof t=="string"&&n(r)&&"TwineScript_ToString"in r?e(t,r.TwineScript_ToString()):typeof r=="string"&&n(t)&&"TwineScript_ToString"in t?e(t.TwineScript_ToString(),r):!1}function a(t){return n(t)&&"TwineScript_ObjectName"in t?t.TwineScript_ObjectName:Array.isArray(t)?"an array":t instanceof Map?"a datamap":t instanceof Set?"a dataset":typeof t=="boolean"?"the logic value '"+t+"'":typeof t=="string"||typeof t=="number"?"the "+typeof t+" "+e.toJSLiteral(t):t===undefined?"an empty variable":"...whatever this is"}function f(t){if(t.innerType)return t.pattern==="either"?(e.assert(Array.isArray(t.innerType)),t.innerType.map(f).join(" or ")):t.pattern==="optional"?"(an optional) "+f(t.innerType):f(t.innerType);return t===String||t===Number||t===Boolean?"a "+typeof t():t===Map?"a datamap":t===Set?"a dataset":t===Array?"an array":n(t)&&"TwineScript_TypeName"in t?t.TwineScript_TypeName:a(t)}function l(e,t){return typeof e!="object"&&typeof t!="object"?e===t:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:e.every(function(e,n){return l(t[n],e)}):e instanceof Map&&t instanceof Map?l(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&&t instanceof Set?l(Array.from(e.values()),Array.from(t.values())):e&&typeof e.TwineScript_is=="function"?e.TwineScript_is(t):Object.is(e,t)}function c(e,t){if(e){if(typeof e=="string")return e.indexOf(t)>-1;if(Array.isArray(e))return e.some(function(e){return l(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return l(e,t)})}return l(e,t)}function h(e,n,i){var s,o=typeof e=="string";return!n||!i?t.create("macrocall","The sub"+r(e)+" index arguments must not be 0 or NaN."):(n<0&&(n=e.length+n+1),i<0&&(i=e.length+i+1),n>i?h(e,i,n):(o&&(e=Array.from(e)),s=e.slice(n>0?n-1:n,i),o?s.join(""):s))}var p=Object.freeze({isObject:n,isValidDatamapName:i,collectionType:r,isSequential:s,clone:o,coerceToString:u,objectName:a,typeName:f,is:l,contains:c,subset:h,numericIndex:/^(?:[1-9]\d*|0)$/});return p}),define("macros",["jquery","utils","utils/operationutils","internaltypes/twineerror"],function(e,t,n,r){"use strict";function u(e){return function(i){i=i.reduce(function(e,t){if(t&&t.spreader===!0)if(Array.isArray(t.value)||typeof t.value=="string")for(var i=0;i<t.value.length;i++)e.push(t.value[i]);else t.value instanceof Set?t.value.forEach(function(t){e.push(t)}):e.push(r.create("operation","I can't spread out "+n.objectName(t.value)+", which is not a string, dataset or array."));else e.push(t);return e},[]);var s=r.containsError(i);return s?s:e.apply(0,i)}}function a(e,t){if(t===null)return e===undefined;if(t.innerType){if(t.pattern==="optional"||t.pattern==="zero or more")return e===undefined?!0:a(e,t.innerType);if(t.pattern==="either")return t.innerType.some(function(t){return a(e,t)});if(t.pattern==="wrapped")return a(e,t.innerType)}return t!==undefined&&e===undefined?!1:t===i.TypeSignature.Any&&e!==undefined?!0:t===String?typeof e=="string":t===Boolean?typeof e=="boolean":t===Number?typeof e=="number":t===Array?Array.isArray(e):t===Map||t===Set?e instanceof t:Object.isPrototypeOf.call(t,e)}function f(e,i,s){var o;return s?(s=[].concat(s),e="("+(Array.isArray(e)&&e.length>1?e[0]:e)+":)",s.length>0?o="The "+e+" macro must only be given "+s.map(n.typeName).reduce(function(e,t,n,r){return e+(n===0?"":n<r.length-1?", ":", and ")+t},"")+(s.length>1?", in that order":"."):o="The macro must not be given any data - just write "+e+".",function(){var f=Array.from(arguments).slice(1),l,c,h,p,d;for(h=0,p=Math.max(f.length,s.length);h<p;h+=1){l=s[h],c=f[h];if(h>=s.length&&!d)return r.create("typesignature",f.length-s.length+" too many values were given to this "+e+" macro.",o);l||(l=d),l.innerType&&(l.pattern==="rest"||l.pattern==="zero or more")&&(d=l.innerType,l.pattern==="rest"&&(l=l.innerType));if(!a(c,l))return c===undefined?r.create("typesignature","The "+e+" macro needs "+t.plural(s.length-h,"more value")+".",o):r.create("typesignature",e+"'s "+t.nth(h+1)+" value is "+n.objectName(c)+", but should be "+n.typeName(l)+".",l.message||o)}return i.apply(0,arguments)}):i}function l(e,n,r){Array.isArray(e)?e.forEach(function(e){t.lockProperty(s,t.insensitiveName(e),r)}):t.lockProperty(s,t.insensitiveName(e),r)}var i,s={},o={};return i={has:function(e){return e=t.insensitiveName(e),s.hasOwnProperty(e)},get:function(e){return e=t.insensitiveName(e),s.hasOwnProperty(e)&&s[e]},add:function c(e,t,n){return l(e,"value",u(f(e,t,n))),c},addChanger:function h(e,n,r,i){return t.assert(r),l(e,"changer",u(f(e,n,i))),o[Array.isArray(e)?e[0]:e]=r,h},getChangerFn:function(t){return o[t]},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){return{pattern:"either",innerType:Array.from(arguments)}},rest:function(e){return{pattern:"rest",innerType:e}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"}},run:function(e,t){var n;return r.containsError(e)?e:i.has(e)?(n=i.get(e),n(t)):r.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.")}},Object.freeze(i)}),define("datatypes/colour",["utils","jquery"],function(e,t){"use strict";function u(e){if(e in o)return o[e];var n=t("<p>").css("background-color",e).css("background-color");return n.startsWith("rgb")?n=n.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):n={r:192,g:192,b:192},o[e]=n,n}function a(e){return typeof e!="string"?e:(e=e.replace("#",""),e=e.replace(i,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}var n,r=/^([\da-fA-F])$/,i=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,s=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,o=Object.create(null);return n=Object.freeze({colour:!0,TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour","TwineScript_+":function(e){var t=this,r=e;return n.create({r:Math.min(Math.round((t.r+r.r)*.6),255),g:Math.min(Math.round((t.g+r.g)*.6),255),b:Math.min(Math.round((t.b+r.b)*.6),255)})},TwineScript_Print:function(){return"<tw-colour style='background-color:rgb("+[this.r,this.g,this.b].join(",")+");'></span>"},TwineScript_is:function(e){return n.isPrototypeOf(e)&&e.r===this.r&&e.g===this.g&&e.b===this.b},TwineScript_Clone:function(){return n.create(this)},toHexString:function(){return e.assert(this!==n),"#"+this.r.toString(16).replace(r,"0$1")+this.g.toString(16).replace(r,"0$1")+this.b.toString(16).replace(r,"0$1")},create:function(e){return typeof e=="string"?n.isHexString(e)?this.create(a(e)):this.create(u(e)):Object.assign(Object.create(this),e)},isHexString:function(e){return typeof e=="string"&&e[0]==="#"&&(e.slice(1).match(i)||e.slice(1).match(s))}}),n}),define("internaltypes/varref",["utils","state","internaltypes/twineerror","utils/operationutils"],function(e,t,n,r){"use strict";function f(e,t){var i,u;if(u=n.containsError(e,t))return u;if(e instanceof Map&&(u=n.containsError(r.isValidDatamapName(e,t))))return u;if(s(e)){if(typeof t=="number")t-=1;else if(i=/(\d+)(?:st|[nr]d|th)last/i.exec(t))t=-i[1]+"";else if(i=/(\d+)(?:st|[nr]d|th)/i.exec(t))t=i[1]-1+"";else if(t==="last")t=-1;else if(t!=="length")return n.create("property","You can only use positions ('4th', 'last', '2ndlast', (2), etc.) and 'length' with "+o(e)+", not '"+t+"'.")}else if(e instanceof Set){if(t!=="length")return n.create("property","You can only get the 'length' of a "+o(e)+".","To check contained values, use the 'contains' operator.");t="size"}return t}function l(e,t){return e instanceof Map?e.get(t):(s(e)&&+t<0&&(t=e.length+ +t),e[t])}function c(e){return e.computed?"("+o(e.value)+")":"'"+e+"'"}function h(e,t){var r="I won't add "+c(t)+" to "+o(e)+" because it's one of my special system collections.",i="I can't modify '"+c(t)+"' because it holds one of my special system collections.";if(e instanceof Map)return e.TwineScript_Sealed&&!e.has(t)?n.create("operation",r):e.TwineScript_Writeproof&&e.TwineScript_Writeproof.indexOf(t)>-1?n.create("operation",i):!0;if(s(e)){if(t==="length")return n.create("operation","I can't forcibly alter the length of "+o(e)+".");if(+t!==(t|0))return n.create("property",o(e)+" can only have position keys ('3rd', '1st', (5), etc.), not "+c(t)+".")}return!e.TwineScript_Sealed||t in e?e.TwineScript_Writeproof&&e.TwineScript_Writeproof.indexOf(t)>-1?n.create("operation",i):!0:n.create("operation",r)}function p(e,t,n){e instanceof Map?e.set(t,n):(s(e)&&+t<0&&(t=e.length+ +t),e[t]=n)}function d(e){function t(){return e}return{get:t,set:t,"delete":t}}var i=r.isObject,s=r.isSequential,o=r.objectName,u=r.clone,a=0,v=Object.freeze({varref:!0,get:function(){var e=this.deepestObject,r=this.deepestProperty;return typeof e=="string"&&(e=Array.from(e)),s(e)&&+r<0&&(r=e.length+ +r),(e instanceof Map?!!e.has(r):r in Object(e))?l(e,r):e===t.variables?a:n.create("property","I can't find a "+c(this.propertyChain.slice(-1)[0])+" data name in "+o(e))},set:function(e){var t,s;e&&e.TwineScript_AssignValue&&(e=e.TwineScript_AssignValue());if(s=n.containsError(h(this.deepestObject,this.deepestProperty)))return s;t=this.object,this.compiledPropertyChain.slice(0,-1).every(function(e){var n,i=l(t,e);return r.isObject(i)?(n=u(i),t instanceof Map?t.set(e,n):t[e]=n,t=n,!0):!1}),this.deepestObject=t,i(e)&&(e=u(e)),p(this.deepestObject,this.deepestProperty,e)},"delete":function(){var e=this.deepestObject,t=this.deepestProperty;if(Array.isArray(e)&&r.numericIndex.exec(t)){e.splice(t,1);return}if(e instanceof Map||e instanceof Set){e.delete(t);return}if(!delete e[t])return n.create("property","I couldn't delete '"+t+"' from "+o(e)+".")},create:function(e,t){var r,i,s=[];return(r=n.containsError(e))?d(r):(t=[].concat(t),v.isPrototypeOf(e)&&(t=e.propertyChain.concat(t),e=e.object),i=e,s=t.reduce(function(e,r,s){var o;return r.computed&&(r=r.value),r=f(i,r),(o=n.containsError([e].concat(r)))?o:(s<t.length-1&&(i=l(i,r)),e.concat(r))},[]),(r=n.containsError(s))?d(r):Object.assign(Object.create(v),{object:e,propertyChain:t,compiledPropertyChain:s,deepestProperty:s.slice(-1)[0],deepestObject:i}))},get TwineScript_ObjectName(){return(this.object===t.variables?"$":o(this.object)+"'s ")+this.propertyChain.reduce(function(e,t){return e+"'s "+c(t)})}});return v}),define("datatypes/assignmentrequest",["utils"],function(e){"use strict";var t=Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"an assignment operation",TwineScript_ObjectName:"an assignment operation",TwineScript_Print:function(){return"[an assignment operation]"},create:function(t,n,r){return e.assert("propertyChain"in t&&"object"in t),Object.assign(Object.create(this),{dest:t,src:n,operator:r})},TwineScript_Clone:function(){return t.create(this.dest,this.src,this.operator)}});return t}),define("twinescript/operations",["utils","state","datatypes/colour","datatypes/assignmentrequest","utils/operationutils","internaltypes/twineerror"],function(e,t,n,r,i,s){"use strict";function p(e,t,n,r){return n=n||"do this to",function(i,o){var u;return t.length===1&&(o=i),(u=s.containsError(i,o))?u:typeof i!==e||typeof o!==e?s.create("operation","I can only "+n+" "+e+"s, not "+l(typeof i!==e?i:o)+".",r):t(i,o)}}function d(e){return function(t,n){var r;return(r=s.containsError(t,n))?r:t&&t.varref?s.create("operation","I can't give an expression a new value."):typeof t!=typeof n||a(t)!==a(n)?f(e,t,n)||s.create("operation",l(t)+" isn't the same type of data as "+l(n)):e(t,n)}}function v(e){return function(t,n){return h=t,e(t,n)}}var o,u=i.isObject,a=i.collectionType,f=i.coerceToString,l=i.objectName,c=i.contains,h=0,m="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.";return o={create:function(e){var t=Object.create(this);return t.Identifiers={get it(){return h},get time(){return Date.now()-e.timestamp}},t},and:p("boolean",d(function(e,t){return e&&t}),"use 'and' to join",m),or:p("boolean",d(function(e,t){return e||t}),"use 'or' to join",m),not:p("boolean",function(e){return!e},"use 'not' to invert",m),"+":d(function(e,t){var n;return Array.isArray(e)?[].concat(e,t):e instanceof Map?(n=new Map(e),t.forEach(function(e,t){n.set(t,e)}),n):e instanceof Set?(n=new Set(e),t.forEach(function(e){n.add(e)}),n):typeof e["TwineScript_+"]=="function"?e["TwineScript_+"](t):"string|number|boolean".includes(typeof e)?e+t:s.create("operation","I can't use + on "+l(e)+".")}),"-":d(function(e,t){var n;return Array.isArray(e)?e.filter(function(e){return t.indexOf(e)===-1}):e instanceof Set?(n=new Set(e),t.forEach(function(e){n.delete(e)}),n):typeof e=="string"?e.split(t).join(""):e-t}),"*":p("number",d(function(e,t){return e*t}),"multiply"),"/":p("number",d(function(e,t){return t===0?s.create("operation","I can't divide "+l(e)+" by zero."):e/t}),"divide"),"%":p("number",d(function(e,t){return t===0?s.create("operation","I can't modulo "+l(e)+" by zero."):e%t}),"modulus"),"<":v(p("number",d(function(e,t){return e<t}),"do < to")),">":v(p("number",d(function(e,t){return e>t}),"do > to")),"<=":v(p("number",d(function(e,t){return e<=t}),"do <= to")),">=":v(p("number",d(function(e,t){return e>=t}),"do >= to")),is:v(i.is),isNot:v(function(e,t){return!o.is(e,t)}),contains:v(c),isIn:v(function(e,t){return c(t,e)}),makeSpreader:function(e){return{value:e,spreader:!0}},makeAssignmentRequest:function(e,t,n){var i,o=s.containsError(e,t);return o?o:!!u(e)&&"compiledPropertyChain"in e?(i=e.compiledPropertyChain,r.create(e,t,n)):s.create("operation","I can't store a new value inside "+l(e)+".")},setIt:function(e){return s.containsError(e)?e:e.varref?(h=e.get(),e):s.create("operation","I can't put a new value into "+l(e)+".")}},Object.freeze(o)}),define("twinescript/environ",["macros","state","utils","datatypes/colour","internaltypes/varref","internaltypes/twineerror","twinescript/operations"],function(Macros,State,Utils,Colour,VarRef,TwineError,OperationsProto){"use strict";return function environ(section){(typeof section!="object"||!section)&&Utils.impossible("TwineScript.environ","no Section argument was given!");var Operations=OperationsProto.create(section);return Operations,Object.assign(section,{eval:function(){try{return eval(Array.from(arguments).join(""))}catch(e){return Utils.log(e),Utils.log(Array.from(arguments).join("")),e}}})}}),define("utils/hookutils",["jquery","utils","utils/selectors"],function(e,t,n){"use strict";function r(e,t,n){var r=e.textContent.length;if(t>=r)return;var i,s=[i=t===0?e:e.splitText(t)];return n&&(n<=0&&(n=r-n),n<r&&s.push(i.splitText(n-t))),s}function i(e,t){var n=[],s="",o=[],u,a,f;if(!e.length||!t)return o;while(e.length>0){n.push(e[0]),s+=e[0].textContent,e.shift(),u=s.indexOf(t);if(u>-1){a=s.length-(u+t.length);while(u>=n[0].textContent.length)u-=n[0].textContent.length,n.shift();if(n.length===1){f=r(n[0],u,u+t.length),o.push(f[0]),f[1]&&e.unshift(f[1]);break}o.push(r(n[0],u,n[0].length)[0]),o.push.apply(o,n.slice(1,-1)),f=r(n[n.length-1],0,n[n.length-1].textContent.length-a),o.push(f[0]),f[1]&&e.unshift(f[1]),o=o.filter(Boolean);break}}return[o].concat(i(e,t))}var s={wrapTextNodes:function(t,n,r){var s=i(n.textNodes(),t),o=e();return s.forEach(function(t){o=o.add(e(t).wrapAll(r))}),o},selectorType:function(e){var t;return e&&typeof e=="string"?(t=/\?(\w*)/.exec(e),t&&t.length?"hookRef":"string"):"undefined"},hookToSelector:function(e){return e=e.replace(/"/g,"&quot;"),n.hook+'[name="'+e+'"]'}};return Object.freeze(s)}),define("datatypes/hookset",["utils/hookutils","jquery"],function(e,t){"use strict";function n(t){var n=Array.from(arguments).slice(1),r=this.section.$(e.hookToSelector(this.selector.slice(1)));return t in r&&r[t].apply(r,n)}var r=Object.freeze({forEach:function(e){return n.call(this,"each",function(n){e(t(this),n)})},text:function(){return n.call(this,"text")},TwineScript_ToString:function(){return this.text()},TwineScript_Print:function(){return this.text()},get TwineScript_ObjectName(){return this.selector+" (a hook reference)"},TwineScript_TypeName:"a hook reference (like ?this)",get TwineScript_Assignee(){},set TwineScript_Assignee(e){return n.call(this,"text",e)},TwineScript_AssignValue:function(){return n.call(this,"text")},create:function(e,t){var n=Object.create(this);return n.section=e,n.selector=t,Object.freeze(n)}});return r}),define("internaltypes/pseudohookset",["jquery","utils/hookutils"],function(e,t){"use strict";var n=Object.freeze({forEach:function(n){var r=t.wrapTextNodes(this.selector,this.section.dom,"<tw-pseudo-hook>").parent();r.each(function(t){n(e(this),t)}),r.contents().unwrap().parent().each(function(){this.normalize()})},create:function(e,t){var n=Object.create(this);return n.section=e,n.selector=t,n}});return n}),define("internaltypes/changedescriptor",["jquery","utils","renderer"],function(e,t,n){"use strict";var r,i;return r={source:"",enabled:!0,target:null,append:"append",transition:"instant",transitionTime:0,styles:null,attr:null,data:null,section:null,create:function(e,t){var n=Object.assign(Object.create(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[])},e);return t&&t.run(n),n},update:function(){var e=this.target;Array.isArray(this.styles)&&setTimeout(function(){e.css(Object.assign.apply(0,[{}].concat(this.styles)))}.bind(this)),this.attr&&this.attr.forEach(function(t){e.attr(t)}),this.data&&e.data(this.data)},render:function(){var r=this.target,s=this.source,o=this.append,u=this.transition,a=this.enabled,f;t.assertOnlyHas(this,i);if(!r||!a)return e();if(!(o in r)){if(o!=="replace"){t.impossible("Section.render","The target jQuery doesn't have a '"+o+"' method.");return}r.empty(),o="append"}return f=e(s&&e.parseHTML(n.exec(s),document,!0)),r[o](f.length?f:undefined),this.update(),u&&t.transitionIn(o==="replace"?r:f,u),f}},i=Object.keys(r),Object.seal(r)}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){"use strict";var n={create:function(e){return e||t.impossible("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(n),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return n}),define("section",["jquery","utils","utils/selectors","renderer","twinescript/environ","state","utils/hookutils","datatypes/hookset","internaltypes/pseudohookset","internaltypes/changedescriptor","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,i,s,o,u,a,f,l,c){"use strict";function p(e,r){var i=e.next(n.hook);if(r&&r.changer)i.length?this.renderInto(i.popAttr("source"),i,r):e.replaceWith(l.create("changer","The ("+r.macroName+":) command should be assigned to a variable or attached to a hook.","Macros like (if: $alive) should be touching the left side of a hook: (if: $alive)[Breathe]"),e.attr("title"));else if(r&&r.live)g.call(this,i,r.delay,r.event);else if(r===!1||r===null||r===undefined){i.removeAttr("source"),e.addClass("false");if(i.length){t.insensitiveName(e.attr("name"))!=="elseif"&&(this.stack[0].lastHookShown=!1);return}}i.length&&(this.stack[0].lastHookShown=!0)}function d(t){var n=this.eval(t.popAttr("js")||"");if(l.containsError(n))n instanceof Error&&(n=l.fromError(n)),t.replaceWith(n.render(t.attr("title"),t));else if(c.isPrototypeOf(n))t.append(n.render());else if(n&&n.TwineScript_Print&&!n.changer){n=n.TwineScript_Print();if(n.earlyExit)return!1;n instanceof e?t.append(n):l.containsError(n)?(n instanceof Error&&(n=l.fromError(n)),t.replaceWith(n.render(t.attr("title"),t))):this.renderInto(n,t)}else typeof n=="string"||typeof n=="number"||typeof n=="object"&&n&&n.toString!==Object.prototype.toString?this.renderInto(n+"",t):p.call(this,t,n)}function m(n){function u(t){return e(this||t).parentsUntil("tw-collapsed").filter("tw-verbatim, tw-expression, [collapsing=false]").length===0}var r,i,s,o=0;i=n.prevTextNode(),e(i).parents("tw-collapsed").length||(i=null),s=n.nextTextNode(),e(s).parents("tw-collapsed").length||(s=null),t.findAndFilter(n,"br:not([data-raw])").filter(u).replaceWith(document.createTextNode(" ")),r=n.textNodes(),r.reduce(function(e,t){return u(t)?(t.textContent=t.textContent.replace(/\s+/g," "),t.textContent[0]===" "&&(!e||!e.textContent||e.textContent.search(/\s$/)>-1)&&(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},i),[].concat(r).reverse().every(function(e){return u(e)?e.textContent.match(/^\s*$/)?(o+=e.textContent.length,e.textContent="",!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return o+=e.length,""}),!1):!1}),o>0&&s&&(r[r.length-1].textContent+=" "),n[0]&&v()&&n[0].normalize()}function g(e,t){var r=e.popAttr("source")||"",i;t=t===undefined?20:t,i=function(){if(!this.inDOM())return;this.renderInto(r,e,{append:"replace"});if(e.find(n.expression+"[name='stop']").length)return;if(!this.inDOM())return;setTimeout(i,t)}.bind(this),setTimeout(i,t)}var h,v=function(){var t;return function(){if(t!==undefined)return t;var n=e("<p>");return n[0].normalize?(n.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),t=n.contents().length===1):t=!1}}();return h={create:function(n){var r;return t.assert(n instanceof e&&n.length===1),r=Object.assign(Object.create(this),{timestamp:Date.now(),dom:n||t.storyElement,stack:[],enchantments:[]}),r=i(r),r},inDOM:function(){return e(t.storyElement).find(this.dom).length>0},$:function(e){return t.$(e,this.dom)},evaluateTwineMarkup:function(t){var n=e("<p>"),r;return this.renderInto(t,n),(r=n.find("tw-error")).length>0?r:n.text()},selectHook:function(e){if(u.isPrototypeOf(e)||a.isPrototypeOf(e))return e;switch(o.selectorType(e)){case"hookRef":return u.create(this,e);case"string":return a.create(this,e)}return null},renderInto:function(r,i,s){var o=f.create({target:i,source:r}),u=e(),a=this;o.section=a,s&&[].concat(s).forEach(function(e){!e||!e.changer?Object.assign(o,e):e.run(o)}),typeof o.target=="string"&&(o.target=this.selectHook(o.target));if(!o.target){t.impossible("Section.renderInto","ChangeDescriptor has source but not a target!");return}this.stack.length>=50?u=l.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(i.attr("title")).replaceAll(i):o.target instanceof e?u=o.render():o.target.forEach(function(e){u=u.add(o.create({target:e}).render())}),this.stack.unshift(Object.create(null)),t.findAndFilter(u,n.hook+","+n.expression).each(function(){var r=e(this);switch(r.tag()){case n.hook:r.attr("source")&&(a.renderInto(r.attr("source"),r),r.removeAttr("source"));break;case n.expression:return d.call(a,r)}}),u.length&&i instanceof e&&i.is(n.hook)&&i.parents("tw-collapsed").length>0&&m(u),t.findAndFilter(u,n.collapsed).each(function(){m(e(this))}),this.stack.shift(),this.stack.length===0&&this.updateEnchantments()},updateEnchantments:function(){this.enchantments.forEach(function(e){e.refreshScope(),e.enchantScope()})}},Object.preventExtensions(h)}),define("engine",["jquery","utils","utils/selectors","state","section","passages"],function(e,t,n,r,i,s){"use strict";function u(){var t,i,s,u;return t=e("<tw-passage><tw-sidebar>"),u=t.children(n.sidebar),o.permalink&&r.save&&u.append('<tw-icon tabindex=0 class="permalink" title="Permanent link to this passage"><a href="#'+r.save()+'">&sect;'),i=e('<tw-icon tabindex=0 class="undo" title="Undo">&#8630;</tw-icon>').click(l.goBack),s=e('<tw-icon tabindex=0 class="redo" title="Redo">&#8631;</tw-icon>').click(l.goForward),r.pastLength<=0&&i.css("visibility","hidden"),r.futureLength<=0&&s.css("visibility","hidden"),u.append(i).append(s),t}function a(e,n){return"<tw-include type="+e+" title='"+t.escape(n.get("name"))+"'>"+n.get("source")+"</tw-include>"}function f(n,f){var l,c="instant",h=s.get(n),p,d,v,m=t.storyElement,g=m.parent();(!h||!(h instanceof Map)||!h.has("source"))&&t.impossible("Engine.showPassage","There's no passage with the name \""+n+'"!'),m.detach(),p=t.$(m.children(t.passageSelector)),!f&&c&&t.transitionOut(p,c),l=u().appendTo(m),t.assert(l.length>0),d=i.create(l),v=h.get("source"),v=(o.debug?s.getTagged("debug-header").map(a.bind(0,"debug-header")).join(""):"")+s.getTagged("header").map(a.bind(0,"header")).join("")+v+s.getTagged("footer").map(a.bind(0,"footer")).join("")+(o.debug?s.getTagged("debug-footer").map(a.bind(0,"debug-footer")).join(""):""),r.pastLength<=0&&(o.debug&&(v=s.getTagged("debug-startup").map(a.bind(0,"debug-startup")).join("")+v),v=s.getTagged("startup").map(a.bind(0,"startup")).join("")+v),d.renderInto(v,l,[{transition:"dissolve"}]),e("html").append(m),scroll(0,f?l.offset().top-e(window).height()*.05:g.offset().top)}var o=Object.create(null),l={goBack:function(){r.rewind()&&f(r.passage)},goForward:function(){r.fastForward()&&f(r.passage)},goToPassage:function(e,t){r.play(e),f(e,t)},showPassage:f,options:o};return Object.freeze(l)}),define("macrolib/values",["utils","macros","utils/operationutils","internaltypes/twineerror"],function(e,t,n,r){"use strict";function f(e){return function(){var t=e.apply(this,arguments);return typeof t!="number"||isNaN(t)?r.create("macrocall","This mathematical expression doesn't compute!"):t}}function l(){return arguments[~~(Math.random()*arguments.length)]}var i=t.TypeSignature.rest,s=t.TypeSignature.zeroOrMore,o=t.TypeSignature.wrapped,u=t.TypeSignature.Any;t.add(["text","string"],function(){return Array.prototype.slice.call(arguments,1).join("")},[s(t.TypeSignature.either(String,Number,Boolean,Array))])("substring",function(t,r,i,s){return n.subset(r,i,s)},[String,Number,Number])(["num","number"],function(t,i){return Number.isNaN(+i)?r.create("macrocall","I couldn't convert "+n.objectName(i)+" to a number."):+i},[String]);var a=[o(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')];t.add("if",function(t,n){return!!n},a)("unless",function(t,n){return!n},a)("elseif",function(t,n){return"lastHookShown"in t.stack[0]?t.stack[0].lastHookShown===!1&&!!n:r.create("macrocall","There's nothing before this to do (else-if:) with.")},a)("else",function(t){return"lastHookShown"in t.stack[0]?t.stack[0].lastHookShown===!1:r.create("macrocall","There's nothing before this to do (else:) with.")},null),{weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12;return e.getHours()%12+":"+e.getMinutes()+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[Math.min,i(Number)],max:[Math.max,i(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[Math.floor,Number],round:[Math.round,Number],ceil:[Math.ceil,Number],pow:[Math.pow,Number],exp:[Math.exp,Number],sqrt:[f(Math.sqrt),Number],log:[f(Math.log),Number],log10:[f(Math.log10),Number],log2:[f(Math.log2),Number],random:[function(t,i){var s,o;return t!==(t|0)||i!==(i|0)?r.create("macrocall","(random:) only accepts whole numbers, not "+n.objectName(t!==(t|0)?t:i)):(i?(s=Math.min(t,i),o=Math.max(t,i)):(s=0,o=t),o+=1,~~(Math.random()*(o-s))+s)},[Number,t.TypeSignature.optional(Number)]],either:[l,i(u)],alert:[function(e){return window.alert(e||"")},String],prompt:[function(e,t){return window.prompt(e||"",t||"")||""},String,String],confirm:[function(e){return window.confirm(e||"")},String],openURL:[window.open,String],reload:[window.location.reload.bind(window.location),null],gotoURL:[window.location.assign.bind(window.location),String],pageURL:[function(){return window.location.href},null],"":function(){Object.keys(this).forEach(function(e){var n,r;e&&(n=this[e][0],r=this[e][1],t.add(e,function(){return n.apply(0,Array.from(arguments).slice(1))}.bind(this),r))}.bind(this))}}[""]()}),function(e){(function(){if(e.requestAnimationFrame)return;e.webkitRequestAnimationFrame&&(e.requestAnimationFrame=e.webkitRequestAnimationFrame,e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame);var t=0;e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=e.setTimeout(function(){n(r+i)},i);return t=r+i,s},e.cancelAnimationFrame=function(e){clearTimeout(e)}})(),typeof define=="function"&&define("requestAnimationFrame",[],function(){return e.requestAnimationFrame})}(window),define("macrolib/commands",["requestAnimationFrame","macros","utils","state","passages","engine","internaltypes/twineerror","utils/operationutils"],function(e,t,n,r,i,s,o,u){"use strict";function c(e){return"("+e+" "+s.options.ifid+") "}var a=t.TypeSignature.Any,f=t.TypeSignature.optional,l=!!localStorage&&function(){try{return localStorage.setItem("test","1"),localStorage.removeItem("test"),!0}catch(e){return!1}}();t.add("display",function(t,r){return{TwineScript_ObjectName:"a (display: "+n.toJSLiteral(r)+") command",TwineScript_TypeName:"a (display:) command",TwineScript_Print:function(){return i.has(r)?n.unescape(i.get(r).get("source")):o.create("macrocall","I can't (display:) the passage '"+r+"' because it doesn't exist.")}}},[String])("print",function h(e,t){if(o.containsError(t))return t;if(t&&typeof t.TwineScript_Print=="function")t=t.TwineScript_Print();else if(t instanceof Map){t=Array.from(t.entries());if(o.containsError(t))return t;t=t.reduce(function(t,n){return t+"<tr><td>"+h(e,n[0]).TwineScript_Print()+"</td><td>"+h(e,n[1]).TwineScript_Print()+"</td></tr>"},"<table class=datamap>")+"</table>"}else if(t instanceof Set)t=Array.from(t.values());else if(Array.isArray(t))t+="";else{if(u.isObject(t))return o.create("unimplemented","I don't know how to print this value yet.");t+=""}return{TwineScript_ObjectName:"a (print: "+n.toJSLiteral(t)+") command",TwineScript_TypeName:"a (print:) command",TwineScript_Print:function(){return t}}},[a])("goto",function(t,r){return{TwineScript_ObjectName:"a (go-to: "+n.toJSLiteral(r)+") command",TwineScript_TypeName:"a (go-to:) command",TwineScript_Print:function(){return i.has(r)?(e(s.goToPassage.bind(s,r,!1)),{earlyExit:1}):o.create("macrocall","I can't (go-to:) the passage '"+r+"' because it doesn't exist.")}}},[String])("live",function(t,n){return{TwineScript_ObjectName:"a (live: "+n+") command",TwineScript_TypeName:"a (live:) command",live:!0,delay:n}},[f(Number)])("stop",function(){return{TwineScript_ObjectName:"a (stop:) command",TwineScript_TypeName:"a (stop:) command",TwineScript_Print:function(){return""}}},[])("savegame",function(t,n,i){i=i||"";if(!l)return!1;var s=r.serialise();if(!s)return o.create("saving","The game's variables contain a complex data structure; the game can no longer be saved.");try{return localStorage.setItem(c("Saved Game")+n,s),localStorage.setItem(c("Saved Game Filename")+n,i),!0}catch(u){return!1}},[String,f(String)])("loadgame",function(n,i){return{TwineScript_ObjectName:"a (load-game:) command",TwineScript_TypeName:"a (load-game:) command",TwineScript_Print:function(){var t=localStorage.getItem(c("Saved Game")+i);return t?(r.deserialise(t),e(s.showPassage.bind(s,r.passage,!1)),{earlyExit:1}):o.create("saving","I can't find a save slot named '"+i+"'!")}}},[String])}),define("utils/naturalsort",[],function(){"use strict";return function(t){return function n(e,r){var i=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,a=/^0/,f=function(e){return n.insensitive&&(""+e).toLowerCase()||""+e},l=f(e).replace(s,"")||"",c=f(r).replace(s,"")||"",h=l.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(l.match(u))||h.length!==1&&l.match(o)&&Date.parse(l),v=parseInt(c.match(u))||d&&c.match(o)&&Date.parse(c)||null,m,g,y,b;t&&window.Intl&&window.Intl.Collator&&(y=window.Intl.Collator(t));if(v){if(d<v)return-1;if(d>v)return 1}for(var w=0,E=Math.max(h.length,p.length);w<E;w++){m=!(h[w]||"").match(a)&&parseFloat(h[w])||h[w]||0,g=!(p[w]||"").match(a)&&parseFloat(p[w])||p[w]||0;if(isNaN(m)!==isNaN(g))return isNaN(m)?1:-1;if(typeof m!=typeof g)m+="",g+="";else if(typeof m=="string"&&y){b=y.compare(m,g);if(b!==0)return b}if(m<g)return-1;if(m>g)return 1}return 0}}}),define("macrolib/datastructures",["jquery","utils/naturalsort","macros","utils","utils/operationutils","state","engine","passages","datatypes/assignmentrequest","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,i,s,o,u,a,f,l){"use strict";var c=n.TypeSignature.optional,h=n.TypeSignature.rest,p=n.TypeSignature.zeroOrMore,d=n.TypeSignature.Any;n.add("set",function(t,n){var r,s,u,a="";n=Array.prototype.slice.call(arguments,1);for(r=0;r<n.length;r+=1){s=n[r];if(s.operator==="into")return f.create("macrocall","Please say 'to' when using the (set:) macro.");u=s.dest.set(s.src);if(f.isPrototypeOf(u))return u;o.options.debug&&(a+=(a?"; ":"")+i.objectName(s.dest)+" is now "+i.objectName(s.src))}return a&&l.create(a)},[h(a)])("put",function(t,n){var r,i,s;n=Array.prototype.slice.call(arguments,1);for(r=0;r<n.length;r+=1){i=n[r];if(i.operator==="to")return f.create("macrocall","Please say 'into' when using the (put:) macro.");s=i.dest.set(i.src);if(f.isPrototypeOf(s))return s}return""},[h(a)])("move",function(t,n){var r,i;if(n.src&&n.src.varref){r=n.src.get();if(i=f.containsError(r))return i;n.dest.set(r),n.src.delete()}else n.dest.set(n.src);return""},[h(a)])(["a","array"],function(){return Array.from(arguments).slice(1)},p(d))("range",function v(e,t,n){if(t>n)return v(e,n,t);var r=[t];n-=t;while(n-->0)r.push(++t);return r},[Number,Number])("subarray",function(t,n,r,s){return i.subset(n,r,s)},[Array,Number,Number])("shuffled",function(){return Array.from(arguments).slice(1).reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[])},[d,h(d)])("sorted",function(){return Array.from(arguments).slice(1).sort(t("en"))},[String,h(String)])("rotated",function(t,n){var r=Array.from(arguments).slice(2);return n*=-1,n===0?f.create("macrocall","I can't rotate these values by 0 positions."):Math.abs(n)>=r.length?f.create("macrocall","I can't rotate these "+r.length+" values by "+n+" positions."):r.slice(n).concat(r.slice(0,n))},[d,d,h(d)])("datanames",function(n,r){return Array.from(r.keys()).sort(t("en"))},[Map])("datavalues",function(n,r){return Array.from(r.entries()).sort(function(e,n){return[e[0],n[0]].sort(t("en"))[0]===e[0]?-1:1}).map(function(e){return e[1]})},[Map])("history",function(){return s.pastPassageNames()},[])("passage",function(t,n){return u.get(n||s.passage)||f.create("macrocall","There's no passage named '"+n+"' in this story.")},[c(String)])("savedgames",function(){function t(e){return"("+e+" "+o.options.ifid+") "}var n=0,r=new Map,i;do{i=localStorage.key(n),n+=1;var s=t("Saved Game");i&&i.startsWith(s)&&(i=i.slice(s.length),r.set(i,localStorage.getItem(t("Saved Game Filename")+i)))}while(i);return r},[])("datamap",function(){var e,t,n=new Map;return t=Array.from(arguments).slice(1).reduce(function(t,r){var s;if(f.containsError(t))return t;if(e===undefined)e=r;else{if(s=f.containsError(i.isValidDatamapName(n,e)))return s;if(n.has(e))return f.create("macrocall","You used the same data name ("+i.objectName(e)+") twice in the same (datamap:) call.");n.set(e,r),e=undefined}return t},!0),f.containsError(t)?t:e!==undefined?f.create("macrocall","This datamap has a data name without a value."):n},p(d))("dataset",function(){return new Set(Array.from(arguments).slice(1))},p(d))("count",function(e,t,n){switch(i.collectionType(t)){case"dataset":case"datamap":return+t.has(name);case"string":return typeof n!="string"?new TypeError(i.objectName(t)+" can't contain  "+i.objectName(n)+" because it isn't a string."):t.split(n).length-1;case"array":return t.reduce(function(e,t){return e+(t===n)},0)}},[d,d])}),define("datatypes/changercommand",["utils","macros","utils/operationutils"],function(e,t,n){"use strict";var r={changer:!0,TwineScript_TypeName:"a changer command",TwineScript_Print:function(){return"[A '"+this.macroName+"' command]"},create:function(t,n,r){return e.assert(n===undefined||Array.isArray(n)),Object.assign(Object.create(this),{macroName:t,params:n,next:r||null,TwineScript_ObjectName:"a ("+t+":) command"})},"TwineScript_+":function(e){var t=this.TwineScript_Clone();while(t.next)t=t.next;return t.next=e,t},TwineScript_is:function(e){if(r.isPrototypeOf(e))return this.macroName===e.macroName&&n.is(this.params,e.params)&&n.is(this.next,e.next)},TwineScript_Clone:function(){return this.create(this.macroName,this.params,this.next)},run:function(e){t.getChangerFn(this.macroName).apply(0,[e].concat(this.params)),this.next&&this.next.run(e)}};return Object.freeze(r)}),define("macrolib/stylechangers",["jquery","macros","utils","utils/selectors","datatypes/colour","datatypes/changercommand","internaltypes/twineerror"],function(e,t,n,r,i,s,o){"use strict";var u=t.TypeSignature.either;t.addChanger(["hook"],function(t,n){return s.create("hook",[n])},function(e,t){e.attr.push({name:t})},[String])(["transition","t8n"],function(t,r){var i=["dissolve","shudder","pulse"];return r=n.insensitiveName(r),i.indexOf(r)===-1?o.create("macrocall","'"+r+'" is not a valid (transition:)',"Only the following names are recognised (capitalisation and hyphens ignored): "+i.join(", ")):s.create("transition",[r])},function(e,t){return e.transition=t,e},[String])("font",function(t,n){return s.create("font",[n])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(t,n){var r,i,u=n.indexOf("><");return/^(==+>|<=+|=+><=+|<==+>)$/.test(n)?(~u?(i=Math.round(u/(n.length-2)*50),r=Object.assign({"text-align":"center","max-width":"50%"},i===25?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":i+"%"})):n[0]==="<"&&n.slice(-1)===">"?r={"text-align":"justify","max-width":"50%"}:n.includes(">")&&(r={"text-align":"right"}),r.display="block",s.create("align",[r])):o.create("macrocall",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+n+'"')},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(t,n){return n&&n.colour&&(n=n.toHexString(n)),s.create("text-colour",[n])},function(e,t){return e.styles.push({color:t}),e},[u(String,i)])("text-rotate",function(t,n){return s.create("rotate",[n])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return t==="none"&&(t=""),t+" rotate("+n+"deg)"}}),t},[Number])("background",function(t,n){return n&&n.colour&&(n=n.toHexString(n)),s.create("background",[n])},function(e,t){var n;return i.isHexString(t)?n={"background-color":t}:n={"background-size":"cover","background-image":"url("+t+")"},e.styles.push(n),e},[u(String,i)]).apply(t,function(){var t={color:"transparent"},r=Object.assign(Object.create(null),{bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},strike:{"text-decoration":"line-through"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite",display:"inline-block"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var t=e(this).css("color");return"-1px -1px 0 "+t+", 1px -1px 0 "+t+",-1px  1px 0 "+t+", 1px  1px 0 "+t}},{color:function(){return e(this).css("background-color")}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+e(this).css("color")}},emboss:{"text-shadow":function(){return"0.08em 0.08em 0em "+e(this).css("color")}},smear:[{"text-shadow":function(){var t=e(this).css("color");return"0em   0em 0.02em "+t+","+"-0.2em 0em  0.5em "+t+","+" 0.2em 0em  0.5em "+t}},t],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+e(this).css("color")}},t],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+e(this).css("color")},"user-select":"none"},t],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite",display:"inline-block"}});return["text-style",function(t,i){return i=n.insensitiveName(i),i in r?s.create("text-style",[i]):o.create("macrocall","'"+i+'" is not a valid (textstyle:)',"Only the following names are recognised (capitalisation and hyphens ignored): "+Object.keys(r).join(", "))},function(e,t){return n.assert(t in r),e.styles=e.styles.concat(r[t]),e}]}(),[String])("css",function(t,n){return n.trim().endsWith(";")||(n+=";"),s.create("css",[n])},function(t,n){return t.attr.push({style:function(){return(e(this).attr("style")||"")+n}}),t},[String])}),define("macrolib/enchantments",["jquery","utils","macros","datatypes/hookset","datatypes/changercommand"],function(e,t,n,r,i){"use strict";function u(n,o){return t.assert(n),e(function(){e(t.storyElement).on(n.event+".enchantment","."+n.classList.replace(/ /g,"."),function(){var n=e(this),r=n.data("enchantmentEvent");r&&r(n)})}),[function(t,n){return n.selector&&(n=n.selector),i.create(o,[n])},function(r,i){var s,o,u=e();return r.enabled=!1,n.rerender&&(r.target=i,r.append=n.rerender),s={enchantScope:function(){o=r.section.selectHook(i);if(!o)return;u=e(),o.forEach(function(e){var t;e.wrapAll("<tw-enchantment class='"+n.classList+"'>"),t=e.parent(),u=u.add(t),e.parent().data("enchantmentEvent",function(){var t;n.once&&(t=r.section.enchantments.indexOf(s),r.section.enchantments.splice(t,1),s.refreshScope()),r.section.renderInto(r.source,null,Object.assign({},r,{enabled:!0}))})})},refreshScope:function(){u.each(function(){e(this).contents().unwrap()})}},r.section.enchantments.push(s),s.enchantScope(),r},s(r,String)]}var s=n.TypeSignature.either,o=["replace","append","prepend"];o.forEach(function(t){n.addChanger(t,function(e,n){return i.create(t,[n])},function(n,r){var i=e(n.target.context).parents().filter("tw-collapsed").length>0;return i||(n.attr=[].concat(n.attr,{collapsing:!1})),n.target=r,n.append=t,n},s(r,String))});var a=[{name:"click",enchantDesc:{event:"click",once:!0,rerender:"",classList:"link enchantment-link"}},{name:"mouseover",enchantDesc:{event:"mouseenter",once:!0,rerender:"",classList:"enchantment-mouseover"}},{name:"mouseout",enchantDesc:{event:"mouseleave",once:!0,rerender:"",classList:"enchantment-mouseout"}}];a.forEach(function(e){n.addChanger.apply(0,[e.name].concat(u(e.enchantDesc,e.name)))}),o.forEach(function(e){a.forEach(function(t){var r=Object.assign({},t.enchantDesc,{rerender:e}),i=t.name+"-"+e;n.addChanger.apply(0,[i].concat(u(r,i)))})})}),define("macrolib/links",["jquery","macros","utils","utils/selectors","state","passages","engine","datatypes/changercommand"],function(e,t,n,r,i,s,o,u){"use strict";var a=t.TypeSignature.optional;e(document).ready(function(){e(n.storyElement).on("click.passage-link",r.internalLink,function(){var n=e(this),r=n.parent().data("clickEvent");if(r){r(n);return}var i=n.attr("passage-name");i&&o.goToPassage(i,!1)})}),t.addChanger(["link"],function(e,t){return u.create("link",[t])},function(e,t){var n=e.source;e.source="<tw-link tabindex=0>"+t+"</tw-link>",e.append="replace",e.data={clickEvent:function(){e.source=n,e.section.renderInto(n+"",null,e)}}},[String]),t.add(["link-goto"],function(t,r,o){return{TwineScript_TypeName:"a (link-goto: "+n.toJSLiteral(r)+", "+n.toJSLiteral(o)+") command",TwineScript_ObjectName:"a (link-goto:) command",TwineScript_Print:function(){var u=-1,a;return a=t.evaluateTwineMarkup(n.unescape(o||r)),a instanceof e?a:s.has(a)?(u=i.passageNameVisited(a),"<tw-link tabindex=0 "+(u>0?'class="visited" ':"")+'passage-name="'+n.escape(a)+'">'+(r||o)+"</tw-link>"):'<tw-broken-link passage-name="'+n.escape(a)+'">'+(r||o)+"</tw-broken-link>"}}},[String,a(String)])}),define("macrolib",["utils","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/links"],function(e){"use strict";e.log("Loaded the built-in macros.")}),define("repl",["utils","markup","twinescript/compiler","twinescript/environ"],function(e,t,n,r){"use strict";window.REPL=function(e){var i=n(t.lex("(print:"+e+")"));return console.log(i),r({}).eval(i)},window.LEX=function(e){var n=t.lex(e);return n.length===1?n[0]:n}}),require.config({paths:{jquery:"../node_modules/jquery/dist/jquery",almond:"../node_modules/almond/almond","es6-shim":"../node_modules/es6-shim/es6-shim",requestAnimationFrame:"../node_modules/requestanimationframe/app/requestAnimationFrame",jqueryplugins:"utils/jqueryplugins",markup:"./markup/markup",lexer:"./markup/lexer",patterns:"./markup/patterns"},deps:["jquery","es6-shim","jqueryplugins"]}),require(["jquery","renderer","state","engine","passages","utils","utils/selectors","macrolib","repl"],function($,Renderer,State,Engine,Passages,Utils,Selectors){"use strict";function _eval(text){return eval(text+"")}function testPlayCleanup(){["_","Backbone","Store","Mn","Marionette","saveAs","FastClick","JSZip","SVG","requestAnimFrame","UUID","XDate","CodeMirror","ui","nwui","AppPref","Passage","StoryFormat","Story","AppPrefCollection","PassageCollection","StoryCollection","StoryFormatCollection","WelcomeView","StoryItemView","StoryListView","PassageItemView","StoryEditView","TwineRouter","TransRegion","TwineApp","app","storyFormat"].forEach(function(e){try{delete window[e]}catch(t){window[e]=undefined}})}var installHandlers=function(){var e=$(document.documentElement),t="<tw-debugger><button class='show-invisibles'>&#9903; Debug View</button></tw-debugger>";e.on("keydown",function(e){e.which===13&&e.target.getAttribute("tabindex")==="0"&&$(e.target).trigger("click")}),Engine.options.debug&&($(document.body).append(t),$(".show-invisibles").click(function(){e.toggleClass("debug-mode").is(".debug-mode")})),installHandlers=null};(function(e){window.onerror=function(t,n,r,i,s){var o=s&&s.stack&&"\n"+s.stack.replace(/\([^\)]+\)/g,"")+"\n"||"("+t+")\n";alert("Sorry to interrupt, but this page's code has got itself in a mess. "+o+"(This is probably due to a bug in the Twine game engine.)"),window.onerror=e,typeof e=="function"&&e.apply(window,arguments)}})(window.onerror),$(document).ready(function(){var t=$(Selectors.storyData),n,r,i=$(Selectors.script),s=$(Selectors.stylesheet);if(t.length===0)return;"TwineApp"in window&&testPlayCleanup(),n=t.attr("options"),n&&n.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0}),r=t.attr("startnode"),Renderer.options.ifid=Engine.options.ifid=t.attr("ifid"),r||(r=[].reduce.call($(Selectors.passageData),function(e,t){var n=t.getAttribute("pid");return n<e?n:e},Infinity)),r=$(Selectors.passageData+"[pid="+r+"]").attr("name"),installHandlers(),i.each(function(e){try{_eval($(this).html())}catch(t){alert("There is a problem with this story's script (#"+(e+1)+"):\n\n"+t.message)}}),s.each(function(e){$(document.head).append('<style data-title="Story stylesheet '+(e+1)+'">'+$(this).html())});if(window.location.hash&&!window.location.hash.includes("stories")&&State.load(window.location.hash)){Engine.showPassage(State.passage);return}Engine.goToPassage(r)})}),define("harlowe",function(){}),require(["harlowe"])})();</script>


</body>
</html>
